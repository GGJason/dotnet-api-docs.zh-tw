### <a name="default-signedxml-and-signedxms-algorithms-changed-to-sha256"></a><span data-ttu-id="6c11d-101">預設 SignedXML 和 SignedXMS 演算法變更為 SHA256</span><span class="sxs-lookup"><span data-stu-id="6c11d-101">Default SignedXML and SignedXMS algorithms changed to SHA256</span></span>

|   |   |
|---|---|
|<span data-ttu-id="6c11d-102">詳細資料</span><span class="sxs-lookup"><span data-stu-id="6c11d-102">Details</span></span>|<span data-ttu-id="6c11d-103">在.NET Framework 4.7 和舊版中，SignedXML 和 SignedCMS 預設為 SHA1 進行某些作業。從.NET Framework 4.7.1 開始，這些作業的預設會啟用 SHA256。</span><span class="sxs-lookup"><span data-stu-id="6c11d-103">In the .NET Framework 4.7 and earlier, SignedXML and SignedCMS default to SHA1 for some operations.Starting with the .NET Framework 4.7.1, SHA256 is enabled by default for these operations.</span></span> <span data-ttu-id="6c11d-104">這項變更是必要的因為 SHA1 不再被視為是安全的方法。</span><span class="sxs-lookup"><span data-stu-id="6c11d-104">This change is necessary because SHA1 is no longer considered to be secure.</span></span>|
|<span data-ttu-id="6c11d-105">建議</span><span class="sxs-lookup"><span data-stu-id="6c11d-105">Suggestion</span></span>|<span data-ttu-id="6c11d-106">有兩個新內容參數的值來控制是否預設使用 SHA1 （不安全） 或 SHA256:</span><span class="sxs-lookup"><span data-stu-id="6c11d-106">There are two new context switch values to control whether SHA1 (insecure) or SHA256 is used by default:</span></span><ul><li><span data-ttu-id="6c11d-107">Switch.System.Security.Cryptography.Xml.UseInsecureHashAlgorithms</span><span class="sxs-lookup"><span data-stu-id="6c11d-107">Switch.System.Security.Cryptography.Xml.UseInsecureHashAlgorithms</span></span></li><li><span data-ttu-id="6c11d-108">Switch.System.Security.Cryptography.Pkcs.UseInsecureHashAlgorithms</span><span class="sxs-lookup"><span data-stu-id="6c11d-108">Switch.System.Security.Cryptography.Pkcs.UseInsecureHashAlgorithms</span></span></li></ul><span data-ttu-id="6c11d-109">對於目標為.NET Framework 4.7.1 和更新版本，如果使用 SHA256 不適當時，您可以還原預設 SHA1 來藉由新增下列設定的應用程式切換至[執行階段](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md)區段的應用程式組態檔案：</span><span class="sxs-lookup"><span data-stu-id="6c11d-109">For applications that target the .NET Framework 4.7.1 and later versions, if the use of SHA256 is undesirable, you can restore the default to SHA1 by adding the following configuration switch to the [runtime](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) section of your app config file:</span></span><pre><code class="language-xml">&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.Xml.UseInsecureHashAlgorithms=true;Switch.System.Security.Cryptography.Pkcs.UseInsecureHashAlgorithms=true&quot; /&gt;&#13;&#10;</code></pre><span data-ttu-id="6c11d-110">對於目標為.NET Framework 4.7 和更早版本的應用程式，您可以選擇這項變更成加入至下列的組態參數[執行階段](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md)您應用程式組態檔區段：</span><span class="sxs-lookup"><span data-stu-id="6c11d-110">For applications that target the .NET Framework 4.7 and earlier versions, you can opt into this change by adding the following configuration switch to the [runtime](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) section of your app config file:</span></span><pre><code class="language-xml">&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.Xml.UseInsecureHashAlgorithms=false;Switch.System.Security.Cryptography.Pkcs.UseInsecureHashAlgorithms=false&quot; /&gt;&#13;&#10;</code></pre>|
|<span data-ttu-id="6c11d-111">範圍</span><span class="sxs-lookup"><span data-stu-id="6c11d-111">Scope</span></span>|<span data-ttu-id="6c11d-112">次要</span><span class="sxs-lookup"><span data-stu-id="6c11d-112">Minor</span></span>|
|<span data-ttu-id="6c11d-113">版本</span><span class="sxs-lookup"><span data-stu-id="6c11d-113">Version</span></span>|<span data-ttu-id="6c11d-114">4.7.1</span><span class="sxs-lookup"><span data-stu-id="6c11d-114">4.7.1</span></span>|
|<span data-ttu-id="6c11d-115">類型</span><span class="sxs-lookup"><span data-stu-id="6c11d-115">Type</span></span>|<span data-ttu-id="6c11d-116">正在重定目標</span><span class="sxs-lookup"><span data-stu-id="6c11d-116">Retargeting</span></span>|
|<span data-ttu-id="6c11d-117">受影響的 API</span><span class="sxs-lookup"><span data-stu-id="6c11d-117">Affected APIs</span></span>|<ul><li><xref:System.Security.Cryptography.Pkcs.CmsSigner?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.Xml.SignedXml?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.Xml.Reference?displayProperty=nameWithType></li></ul>|

