### <a name="dataobjectgetdata-now-retrieves-data-as-utf-8"></a><span data-ttu-id="28ada-101">DataObject.GetData 現在會以 UTF-8 形式來擷取資料</span><span class="sxs-lookup"><span data-stu-id="28ada-101">DataObject.GetData now retrieves data as UTF-8</span></span>

|   |   |
|---|---|
|<span data-ttu-id="28ada-102">詳細資料</span><span class="sxs-lookup"><span data-stu-id="28ada-102">Details</span></span>|<span data-ttu-id="28ada-103">若為以 .NET Framework 4.5.1 為目標的應用程式，或者在 .NET Framework 4.5.1 或舊版上執行的應用程式，<code>DataObject.GetData</code> 會以 ASCII 字串形式來擷取 HTML 格式的資料。</span><span class="sxs-lookup"><span data-stu-id="28ada-103">For apps that target the .NET Framework 4 or that run on the .NET Framework 4.5.1 or earlier versions, <code>DataObject.GetData</code> retrieves HTML-formatted data as an ASCII string.</span></span> <span data-ttu-id="28ada-104">因此，非 ASCII 字元 (ASCII 碼大於 0x7F 的字元) 是由兩個隨機字元呈現。若為以 .NET Framework 4.5 或更新版本為目標且在 .NET Framework 4.5.2 上執行的應用程式，<code>DataObject.GetData</code> 會以 UTF-8 格式擷取 HTML 格式資料，UTF-8 格式可以正確地呈現大於 0x7F 的字元。</span><span class="sxs-lookup"><span data-stu-id="28ada-104">As a result, non-ASCII characters (characters whose ASCII codes are greater than 0x7F) are represented by two random characters.For apps that target the .NET Framework 4.5 or later and run on the .NET Framework 4.5.2, <code>DataObject.GetData</code> retrieves HTML-formatted data as UTF-8, which represents characters greater than 0x7F correctly.</span></span>|
|<span data-ttu-id="28ada-105">建議</span><span class="sxs-lookup"><span data-stu-id="28ada-105">Suggestion</span></span>|<span data-ttu-id="28ada-106">如果針對 HTML 格式字串的編碼問題實作了因應措施 (例如將從 [剪貼簿] 擷取的 HTML 字串傳遞至 <xref:System.Text.UTF8Encoding.GetString(System.Byte[],System.Int32,System.Int32)?displayProperty=name> 以明確將其編碼)，並將目標從應用程式 4 版重定為 4.5 版，則應該移除該因應措施。如果因故需要舊版行為，應用程式可以將目標設為 .NET Framework 4.0 來取得該行為。</span><span class="sxs-lookup"><span data-stu-id="28ada-106">If you implemented a workaround for the encoding problem with HTML-formatted strings (for example, by explicitly encoding the HTML string retrieved from the Clipboard by passing it to <xref:System.Text.UTF8Encoding.GetString(System.Byte[],System.Int32,System.Int32)?displayProperty=name>) and you're retargeting your app from version 4 to 4.5, that workaround should be removed.If the old behavior is needed for some reason, the app can target the .NET Framework 4.0 to get that behavior.</span></span>|
|<span data-ttu-id="28ada-107">範圍</span><span class="sxs-lookup"><span data-stu-id="28ada-107">Scope</span></span>|<span data-ttu-id="28ada-108">Edge</span><span class="sxs-lookup"><span data-stu-id="28ada-108">Edge</span></span>|
|<span data-ttu-id="28ada-109">版本</span><span class="sxs-lookup"><span data-stu-id="28ada-109">Version</span></span>|<span data-ttu-id="28ada-110">4.5.2</span><span class="sxs-lookup"><span data-stu-id="28ada-110">4.5.2</span></span>|
|<span data-ttu-id="28ada-111">類型</span><span class="sxs-lookup"><span data-stu-id="28ada-111">Type</span></span>|<span data-ttu-id="28ada-112">正在重定目標</span><span class="sxs-lookup"><span data-stu-id="28ada-112">Retargeting</span></span>|
|<span data-ttu-id="28ada-113">受影響的 API</span><span class="sxs-lookup"><span data-stu-id="28ada-113">Affected APIs</span></span>|<ul><li><xref:System.Windows.DataObject.GetData(System.String)?displayProperty=nameWithType></li><li><xref:System.Windows.DataObject.GetData(System.Type)?displayProperty=nameWithType></li><li><xref:System.Windows.DataObject.GetData(System.String,System.Boolean)?displayProperty=nameWithType></li></ul>|

