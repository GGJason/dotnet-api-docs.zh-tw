### <a name="dataobjectgetdata-now-retrieves-data-as-utf-8"></a><span data-ttu-id="f84c8-101">為 utf-8 DataObject.GetData 立即擷取的資料</span><span class="sxs-lookup"><span data-stu-id="f84c8-101">DataObject.GetData now retrieves data as UTF-8</span></span>

|   |   |
|---|---|
|<span data-ttu-id="f84c8-102">詳細資料</span><span class="sxs-lookup"><span data-stu-id="f84c8-102">Details</span></span>|<span data-ttu-id="f84c8-103">應用程式的目標.NET Framework 4 或.NET Framework 4.5.1 或舊版中，執行<code>DataObject.GetData</code>擷取 HTML 格式的資料為 ASCII 字串。</span><span class="sxs-lookup"><span data-stu-id="f84c8-103">For apps that target the .NET Framework 4 or that run on the .NET Framework 4.5.1 or earlier versions, <code>DataObject.GetData</code> retrieves HTML-formatted data as an ASCII string.</span></span> <span data-ttu-id="f84c8-104">如此一來，非 ASCII 字元 （字元的 ASCII 碼大於 0x7F） 是由兩個隨機字元表示。若是目標為.NET Framework 4.5 或更新版本及.NET Framework 4.5.2 上執行的應用程式<code>DataObject.GetData</code>擷取 HTML 格式的資料為 utf-8，其中可以正確地表示大於 0x7F 的字元。</span><span class="sxs-lookup"><span data-stu-id="f84c8-104">As a result, non-ASCII characters (characters whose ASCII codes are greater than 0x7F) are represented by two random characters.For apps that target the .NET Framework 4.5 or later and run on the .NET Framework 4.5.2, <code>DataObject.GetData</code> retrieves HTML-formatted data as UTF-8, which represents characters greater than 0x7F correctly.</span></span>|
|<span data-ttu-id="f84c8-105">建議</span><span class="sxs-lookup"><span data-stu-id="f84c8-105">Suggestion</span></span>|<span data-ttu-id="f84c8-106">如果您實作 HTML 格式字串的編碼問題的因應措施 (例如，藉由明確地編碼的 HTML 字串擷取從剪貼簿傳遞至<xref:System.Text.UTF8Encoding.GetString(System.Byte[],System.Int32,System.Int32)?displayProperty=name>) 和重定應用程式版本為 4.5 版 4，因應措施就應該移除。如果因故需要舊的行為，應用程式可鎖定目標的.NET Framework 4.0，以取得該行為。</span><span class="sxs-lookup"><span data-stu-id="f84c8-106">If you implemented a workaround for the encoding problem with HTML-formatted strings (for example, by explicitly encoding the HTML string retrieved from the Clipboard by passing it to <xref:System.Text.UTF8Encoding.GetString(System.Byte[],System.Int32,System.Int32)?displayProperty=name>) and you're retargeting your app from version 4 to 4.5, that workaround should be removed.If the old behavior is needed for some reason, the app can target the .NET Framework 4.0 to get that behavior.</span></span>|
|<span data-ttu-id="f84c8-107">範圍</span><span class="sxs-lookup"><span data-stu-id="f84c8-107">Scope</span></span>|<span data-ttu-id="f84c8-108">Edge</span><span class="sxs-lookup"><span data-stu-id="f84c8-108">Edge</span></span>|
|<span data-ttu-id="f84c8-109">版本</span><span class="sxs-lookup"><span data-stu-id="f84c8-109">Version</span></span>|<span data-ttu-id="f84c8-110">4.5.2</span><span class="sxs-lookup"><span data-stu-id="f84c8-110">4.5.2</span></span>|
|<span data-ttu-id="f84c8-111">類型</span><span class="sxs-lookup"><span data-stu-id="f84c8-111">Type</span></span>|<span data-ttu-id="f84c8-112">正在重定目標</span><span class="sxs-lookup"><span data-stu-id="f84c8-112">Retargeting</span></span>|
|<span data-ttu-id="f84c8-113">受影響的 API</span><span class="sxs-lookup"><span data-stu-id="f84c8-113">Affected APIs</span></span>|<ul><li><xref:System.Windows.DataObject.GetData(System.String)?displayProperty=nameWithType></li><li><xref:System.Windows.DataObject.GetData(System.Type)?displayProperty=nameWithType></li><li><xref:System.Windows.DataObject.GetData(System.String,System.Boolean)?displayProperty=nameWithType></li></ul>|

