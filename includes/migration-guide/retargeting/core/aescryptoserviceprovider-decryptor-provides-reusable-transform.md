### <a name="aescryptoserviceprovider-decryptor-provides-a-reusable-transform"></a><span data-ttu-id="e0966-101">AesCryptoServiceProvider 的解密程式來提供可重複使用的轉換</span><span class="sxs-lookup"><span data-stu-id="e0966-101">AesCryptoServiceProvider decryptor provides a reusable transform</span></span>

|   |   |
|---|---|
|<span data-ttu-id="e0966-102">詳細資料</span><span class="sxs-lookup"><span data-stu-id="e0966-102">Details</span></span>|<span data-ttu-id="e0966-103">從.NET Framework 4.6.2，為目標的應用程式開始<xref:System.Security.Cryptography.AesCryptoServiceProvider>的解密程式來提供可重複使用的轉換。</span><span class="sxs-lookup"><span data-stu-id="e0966-103">Starting with apps that target the .NET Framework 4.6.2, the <xref:System.Security.Cryptography.AesCryptoServiceProvider> decryptor provides a reusable transform.</span></span> <span data-ttu-id="e0966-104">呼叫 <xref:System.Security.Cryptography.CryptoAPITransform.TransformFinalBlock(System.Byte[],System.Int32,System.Int32)?displayProperty=name> 之後，轉換就會重新初始化並且可重複使用。</span><span class="sxs-lookup"><span data-stu-id="e0966-104">After a call to <xref:System.Security.Cryptography.CryptoAPITransform.TransformFinalBlock(System.Byte[],System.Int32,System.Int32)?displayProperty=name>, the transform is reinitialized and can be reused.</span></span> <span data-ttu-id="e0966-105">針對以舊版.NET Framework 為目標的應用程式，嘗試將重複的解密程式來使用藉由呼叫<xref:System.Security.Cryptography.CryptoAPITransform.TransformBlock(System.Byte[],System.Int32,System.Int32,System.Byte[],System.Int32)?displayProperty=name>呼叫之後<xref:System.Security.Cryptography.CryptoAPITransform.TransformFinalBlock(System.Byte[],System.Int32,System.Int32)?displayProperty=name>會擲回<xref:System.Security.Cryptography.CryptographicException>或產生的資料損毀。</span><span class="sxs-lookup"><span data-stu-id="e0966-105">For apps that target earlier versions of the .NET Framework, attempting to reuse the decryptor by calling <xref:System.Security.Cryptography.CryptoAPITransform.TransformBlock(System.Byte[],System.Int32,System.Int32,System.Byte[],System.Int32)?displayProperty=name> after a call to <xref:System.Security.Cryptography.CryptoAPITransform.TransformFinalBlock(System.Byte[],System.Int32,System.Int32)?displayProperty=name> throws a <xref:System.Security.Cryptography.CryptographicException> or produces corrupted data.</span></span>|
|<span data-ttu-id="e0966-106">建議</span><span class="sxs-lookup"><span data-stu-id="e0966-106">Suggestion</span></span>|<span data-ttu-id="e0966-107">由於這是預期的行為，此變更影響應該很小。相依於先前的行為的應用程式可以選擇不使用加上下列組態設定加入<code>&lt;runtime&gt;</code>應用程式的組態檔區段：</span><span class="sxs-lookup"><span data-stu-id="e0966-107">The impact of this change should be minimal, since this is the expected behavior.Applications that depend on the previous behavior can opt out of it using it by adding the following configuration setting to the <code>&lt;runtime&gt;</code> section of the application's configuration file:</span></span><pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.AesCryptoServiceProvider.DontCorrectlyResetDecryptor=true&quot;/&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><span data-ttu-id="e0966-108">此外，舊版.NET Framework 為目標，但在以.NET Framework 4.6.2 啟動.NET Framework 版本下執行的應用程式也可以選擇它藉由將下列組態設定來<code>&lt;runtime&gt;</code>區段應用程式的組態檔：</span><span class="sxs-lookup"><span data-stu-id="e0966-108">In addition, applications that target a previous version of the .NET Framework but are running under a version of the .NET Framework starting with .NET Framework 4.6.2 can opt in to it by adding the following configuration setting to the <code>&lt;runtime&gt;</code> section of the application's configuration file:</span></span><pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.AesCryptoServiceProvider.DontCorrectlyResetDecryptor=false&quot;/&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>|
|<span data-ttu-id="e0966-109">範圍</span><span class="sxs-lookup"><span data-stu-id="e0966-109">Scope</span></span>|<span data-ttu-id="e0966-110">次要</span><span class="sxs-lookup"><span data-stu-id="e0966-110">Minor</span></span>|
|<span data-ttu-id="e0966-111">版本</span><span class="sxs-lookup"><span data-stu-id="e0966-111">Version</span></span>|<span data-ttu-id="e0966-112">4.6.2</span><span class="sxs-lookup"><span data-stu-id="e0966-112">4.6.2</span></span>|
|<span data-ttu-id="e0966-113">類型</span><span class="sxs-lookup"><span data-stu-id="e0966-113">Type</span></span>|<span data-ttu-id="e0966-114">正在重定目標</span><span class="sxs-lookup"><span data-stu-id="e0966-114">Retargeting</span></span>|
|<span data-ttu-id="e0966-115">受影響的 API</span><span class="sxs-lookup"><span data-stu-id="e0966-115">Affected APIs</span></span>|<ul><li><xref:System.Security.Cryptography.AesCryptoServiceProvider.CreateDecryptor?displayProperty=nameWithType></li></ul>|

