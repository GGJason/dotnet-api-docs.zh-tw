### <a name="currentculture-is-not-preserved-across-wpf-dispatcher-operations"></a>CurrentCulture 不會在 WPF 發送器作業之間保留

|   |   |
|---|---|
|詳細資料|從.NET Framework 4.6 開始，變成<xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name>或<xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>內進行<xref:System.Windows.Threading.Dispatcher?displayProperty=name>將會遺失該發送器作業結尾處。 同樣地，若要變更<xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name>或<xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>以外的發送器進行作業可能不會反映當作業執行。幾乎而言，這表示<xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name>和<xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>變更可能不會 WPF UI 回呼和其他程式碼，在 WPF 應用程式之間流動。這是因為變更<xref:System.Threading.ExecutionContext?displayProperty=name>，進而導致<xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name>和<xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>與以.NET Framework 4.6 為目標的應用程式儲存在執行內容的開頭。 WPF 發送器作業會儲存用來開始作業的執行內容，並在作業完成時還原先前的內容。 因為 <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> 和 <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> 現在是該內容的一部分，所以在發送器作業內對其進行的變更不會保留到作業外。|
|建議|此變更影響的應用程式可能以避免儲存想要的<xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name>或<xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>欄位和簽入所有發送器作業主體 （包括 UI 事件回呼處理常式） 中的正確<xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name>和<xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>設定。 或者，因為 ExecutionContext 變更基礎 WPF 這項變更只會影響以.NET Framework 4.6 或更新版本為目標的應用程式，這個符號可以避免將目標設為目標.NET Framework 4.6 或更新版本也可以搭配.NET Framework 4.5.2.Apps解決此藉由設定下列相容性參數：<pre><code>AppContext.SetSwitch(&quot;Switch.System.Globalization.NoAsyncCurrentCulture&quot;, true);&#13;&#10;</code></pre>Wpf 在.NET Framework 4.6.2 已修正此問題。 它也已修正在.NET Framework 4.6，透過 4.6.1 [KB 3139549](https://support.microsoft.com/kb/3139549)。 目標為.NET 4.6 或更新版本的應用程式將自動取得正確的行為在 WPF 應用程式- <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> / <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) 會在發送器作業之間保留。|
|範圍|次要|
|版本|4.6|
|類型|正在重定目標|

