### <a name="product-versioning-changes-in-the-net-framework-46-and-later-versions"></a><span data-ttu-id="9b9f2-101">在.NET Framework 4.6 和更新版本的產品版本變更</span><span class="sxs-lookup"><span data-stu-id="9b9f2-101">Product versioning changes in the .NET Framework 4.6 and later versions</span></span>

|   |   |
|---|---|
|<span data-ttu-id="9b9f2-102">詳細資料</span><span class="sxs-lookup"><span data-stu-id="9b9f2-102">Details</span></span>|<span data-ttu-id="9b9f2-103">產品版本均有所變更，從舊版的.NET Framework 中，以及特別是從.NET Framework 4、 4.5、 4.5.1 和 4.5.2.The 以下是詳細的變更：</span><span class="sxs-lookup"><span data-stu-id="9b9f2-103">Product versioning has changed from the previous releases of the .NET Framework, and particularly from the .NET Framework 4, 4.5, 4.5.1, and 4.5.2.The following are the detailed changes:</span></span><ul><li><span data-ttu-id="9b9f2-104">值<code>Version</code>中的項目<code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\NET Framework Setup\NDP\v4\Full</code>金鑰已變更為<code>4.6.xxxxx</code>以.NET Framework 4.6 和其點發行版本中，並可<code>4.7.xxxxx</code>.NET Framework 4.7 和 4.7.1。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-104">The value of the <code>Version</code> entry in the <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\NET Framework Setup\NDP\v4\Full</code> key has changed to <code>4.6.xxxxx</code> for the .NET Framework 4.6 and its point releases, and to <code>4.7.xxxxx</code> for the .NET Framework 4.7 and 4.7.1.</span></span> <span data-ttu-id="9b9f2-105">在.NET Framework 4.5、 4.5.1 和 4.5.2 中，它必須格式<code>4.5.xxxxx</code>。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-105">In the .NET Framework 4.5, 4.5.1, and 4.5.2, it had the format <code>4.5.xxxxx</code>.</span></span></li><li><span data-ttu-id="9b9f2-106">.NET Framework 檔案的檔案和產品版本已從 4.0.30319.x 舊版配置 4.6.X.0.NET Framework 4.6 和其點發行版本，以及 4.7.X.0.NET Framework 4.7 和 4.7.1。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-106">The file and product versioning for .NET Framework files has changed from the earlier versioning scheme of 4.0.30319.x to 4.6.X.0 for the .NET Framework 4.6 and its point releases, and to 4.7.X.0 for the .NET Framework 4.7 and 4.7.1.</span></span> <span data-ttu-id="9b9f2-107">在檔案上按一下滑鼠右鍵之後檢視檔案的內容時，您可以看到這些新值。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-107">You can see these new values when you view the file's Properties after right-clicking on a file.</span></span></li><li><span data-ttu-id="9b9f2-108"><xref:System.Reflection.AssemblyFileVersionAttribute>和<xref:System.Reflection.AssemblyInformationalVersionAttribute>屬性 managed 組件具有格式的版本值的.NET Framework 4.6 及其點發行版本及.NET Framework 4.7 和 4.7.1 4.7.X.0 4.6.X.0。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-108">The <xref:System.Reflection.AssemblyFileVersionAttribute> and <xref:System.Reflection.AssemblyInformationalVersionAttribute> attributes for managed assemblies have Version values in the form 4.6.X.0 for the .NET Framework 4.6 and its point releases, and 4.7.X.0 for the .NET Framework 4.7 and 4.7.1.</span></span></li><li><span data-ttu-id="9b9f2-109">在.NET Framework 4.6、 4.6.1、 4.6.2、 4.7 和 4.7.1，<xref:System.Environment.Version?displayProperty=nameWithType>屬性會傳回固定的版本字串<code>4.0.30319.42000</code>。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-109">In the .NET Framework 4.6, 4.6.1, 4.6.2, 4.7, and 4.7.1, the <xref:System.Environment.Version?displayProperty=nameWithType> property returns the fixed version string <code>4.0.30319.42000</code>.</span></span> <span data-ttu-id="9b9f2-110">在.NET Framework 4、 4.5、 4.5.1 和 4.5.2 中，它會傳回版本字串格式<code>4.0.30319.xxxxx</code>(例如， &quot;4.0.30319.18010&quot;)。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-110">In the .NET Framework 4, 4.5, 4.5.1, and 4.5.2, it returns version strings in the format <code>4.0.30319.xxxxx</code> (for example, &quot;4.0.30319.18010&quot;).</span></span> <span data-ttu-id="9b9f2-111">請注意，我們不建議您應用程式程式碼有任何新的相依性 Environment.Version 屬性。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-111">Note that we do not recommend application code taking any new dependency on the Environment.Version property.</span></span></li></ul><span data-ttu-id="9b9f2-112">如需詳細資訊，請參閱[How to： 判斷哪一個版本已安裝.NET Framework](~/docs/framework/migration-guide/how-to-determine-which-versions-are-installed.md)。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-112">For more information, see [How to: Determine which .NET Framework Versions Are Installed](~/docs/framework/migration-guide/how-to-determine-which-versions-are-installed.md).</span></span>|
|<span data-ttu-id="9b9f2-113">建議</span><span class="sxs-lookup"><span data-stu-id="9b9f2-113">Suggestion</span></span>|<span data-ttu-id="9b9f2-114">一般而言，應用程式需要具備可偵測 .NET Framework 的執行階段版本和安裝目錄等項目的建議技術：</span><span class="sxs-lookup"><span data-stu-id="9b9f2-114">In general, applications should depend on the recommended techniques for detecting such things as the runtime version of the .NET Framework and the installation directory:</span></span><ul><li><span data-ttu-id="9b9f2-115">若要偵測 .NET Framework 的執行階段版本，請參閱[如何：判斷安裝的 .NET Framework 版本](~/docs/framework/migration-guide/how-to-determine-which-versions-are-installed.md)。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-115">To detect the runtime version of the .NET Framework, see [How to: Determine Which .NET Framework Versions Are Installed](~/docs/framework/migration-guide/how-to-determine-which-versions-are-installed.md).</span></span></li><li><span data-ttu-id="9b9f2-116">若要判斷 .NET Framework 的安裝路徑，請使用 <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\NET Framework Setup\NDP\v4\Full</code> 機碼中的 <code>InstallPath</code> 項目值。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-116">To determine the installation path for the .NET Framework, use the value of the <code>InstallPath</code> entry in the <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\NET Framework Setup\NDP\v4\Full</code> key.</span></span></li></ul> <blockquote> [!IMPORTANT] <span data-ttu-id="9b9f2-117">子機碼名稱是 <code>NET Framework Setup</code>，不是 <code>.NET Framework Setup</code>。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-117">The subkey name is <code>NET Framework Setup</code>, not <code>.NET Framework Setup</code>.</span></span></blockquote> <ul><li><span data-ttu-id="9b9f2-118">若要判斷 .NET Framework Common Language Runtime 的目錄路徑，請呼叫 <xref:System.Runtime.InteropServices.RuntimeEnvironment.GetRuntimeDirectory?displayProperty=nameWithType> 方法。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-118">To determine the directory path to the .NET Framework common language runtime, call the <xref:System.Runtime.InteropServices.RuntimeEnvironment.GetRuntimeDirectory?displayProperty=nameWithType> method.</span></span></li><li><span data-ttu-id="9b9f2-119">若要取得 CLR 版本，請呼叫 <xref:System.Runtime.InteropServices.RuntimeEnvironment.GetSystemVersion?displayProperty=nameWithType> 方法。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-119">To get the CLR version, call the <xref:System.Runtime.InteropServices.RuntimeEnvironment.GetSystemVersion?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="9b9f2-120">針對.NET Framework 4 及其點發行版本 (.NET Framework 4.5、 4.5.1、 4.5.2 和 4.6.1 中，.NET Framework 4.6 4.6.2、 4.7 和 4.7.1)，它會傳回字串 v4.0.30319。</span><span class="sxs-lookup"><span data-stu-id="9b9f2-120">For the .NET Framework 4 and its point releases (the .NET Framework 4.5, 4.5.1, 4.5.2, and .NET Framework 4.6, 4.6.1, 4.6.2, 4.7, and 4.7.1), it returns the string v4.0.30319.</span></span></li></ul>|
|<span data-ttu-id="9b9f2-121">範圍</span><span class="sxs-lookup"><span data-stu-id="9b9f2-121">Scope</span></span>|<span data-ttu-id="9b9f2-122">次要</span><span class="sxs-lookup"><span data-stu-id="9b9f2-122">Minor</span></span>|
|<span data-ttu-id="9b9f2-123">版本</span><span class="sxs-lookup"><span data-stu-id="9b9f2-123">Version</span></span>|<span data-ttu-id="9b9f2-124">4.6</span><span class="sxs-lookup"><span data-stu-id="9b9f2-124">4.6</span></span>|
|<span data-ttu-id="9b9f2-125">類型</span><span class="sxs-lookup"><span data-stu-id="9b9f2-125">Type</span></span>|<span data-ttu-id="9b9f2-126">執行階段</span><span class="sxs-lookup"><span data-stu-id="9b9f2-126">Runtime</span></span>|

