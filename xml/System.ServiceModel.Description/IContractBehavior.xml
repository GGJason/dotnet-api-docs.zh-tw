<Type Name="IContractBehavior" FullName="System.ServiceModel.Description.IContractBehavior">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="09d3094f5aac8acb8245cc86bcace579c8673d5e" />
    <Meta Name="ms.sourcegitcommit" Value="434f60616a9793fa8436744549fc856e94f7a648" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="zh-TW" />
    <Meta Name="ms.lasthandoff" Value="08/24/2018" />
    <Meta Name="ms.locfileid" Value="37617271" />
  </Metadata>
  <TypeSignature Language="C#" Value="public interface IContractBehavior" />
  <TypeSignature Language="ILAsm" Value=".class public interface auto ansi abstract IContractBehavior" />
  <TypeSignature Language="DocId" Value="T:System.ServiceModel.Description.IContractBehavior" />
  <TypeSignature Language="VB.NET" Value="Public Interface IContractBehavior" />
  <TypeSignature Language="C++ CLI" Value="public interface class IContractBehavior" />
  <TypeSignature Language="F#" Value="type IContractBehavior = interface" />
  <AssemblyInfo>
    <AssemblyName>System.ServiceModel</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>3.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.1.1.0</AssemblyVersion>
    <AssemblyVersion>4.2.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Interfaces />
  <Docs>
    <summary>
      <span data-ttu-id="92d2e-101">可用於在服務或用戶端應用程式中延伸合約的執行階段行為的實作方式。</span>
      <span class="sxs-lookup">
        <span data-stu-id="92d2e-101">Implements methods that can be used to extend run-time behavior for a contract in either a service or client application.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="92d2e-102">實作 <xref:System.ServiceModel.Description.IContractBehavior> 介面，以修改、檢查或延伸應用程式層級上某方面的合約執行。</span><span class="sxs-lookup"><span data-stu-id="92d2e-102">Implement the <xref:System.ServiceModel.Description.IContractBehavior> interface to modify, examine, or extend some aspect of contract-wide execution at the application level.</span></span> <span data-ttu-id="92d2e-103">不同於 <xref:System.ServiceModel.Description.IServiceBehavior> 和 <xref:System.ServiceModel.Description.IEndpointBehavior> 物件，<xref:System.ServiceModel.Description.IContractBehavior> 物件無法使用應用程式組態檔加入至執行階段，而只能以程式設計的方式或使用屬性來加入。</span><span class="sxs-lookup"><span data-stu-id="92d2e-103">Unlike <xref:System.ServiceModel.Description.IServiceBehavior> and <xref:System.ServiceModel.Description.IEndpointBehavior> objects, <xref:System.ServiceModel.Description.IContractBehavior> objects cannot be added to the runtime using an application configuration file; they can only be added programmatically or using an attribute.</span></span>  
  
 <span data-ttu-id="92d2e-104">如需有關服務、 端點和合約行為之間做選擇的詳細資訊，請參閱[設定和擴充執行階段行為](~/docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)。</span><span class="sxs-lookup"><span data-stu-id="92d2e-104">For more information about choosing between service, endpoint, and contract behaviors, see [Configuring and Extending the Runtime with Behaviors](~/docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
-   <span data-ttu-id="92d2e-105">請使用 <xref:System.ServiceModel.Description.IContractBehavior.AddBindingParameters%2A> 方法為繫結項目提供自訂資料，以支援行為。</span><span class="sxs-lookup"><span data-stu-id="92d2e-105">Use the <xref:System.ServiceModel.Description.IContractBehavior.AddBindingParameters%2A> method to provide binding elements with custom data to support the behavior.</span></span>  
  
-   <span data-ttu-id="92d2e-106">請使用 <xref:System.ServiceModel.Description.IContractBehavior.ApplyClientBehavior%2A> 方法在用戶端應用程式中修改、檢查或插入延伸至合約。</span><span class="sxs-lookup"><span data-stu-id="92d2e-106">Use the <xref:System.ServiceModel.Description.IContractBehavior.ApplyClientBehavior%2A> method to modify, examine, or insert extensions to a contract in a client application.</span></span>  
  
-   <span data-ttu-id="92d2e-107">請使用 <xref:System.ServiceModel.Description.IContractBehavior.ApplyDispatchBehavior%2A> 方法在服務應用程式中修改、檢查或插入延伸至合約。</span><span class="sxs-lookup"><span data-stu-id="92d2e-107">Use the <xref:System.ServiceModel.Description.IContractBehavior.ApplyDispatchBehavior%2A> method to modify, examine, or insert extensions to a contract in a service application.</span></span>  
  
-   <span data-ttu-id="92d2e-108">請使用 <xref:System.ServiceModel.Description.IContractBehavior.Validate%2A> 方法來確保合約可以支援特定功能。</span><span class="sxs-lookup"><span data-stu-id="92d2e-108">Use the <xref:System.ServiceModel.Description.IContractBehavior.Validate%2A> method to ensure that a contract can support a particular feature.</span></span>  
  
 <span data-ttu-id="92d2e-109"><xref:System.ServiceModel.Description.IContractBehavior> 物件可以利用其中任何一種方法，但通常只有一種是重要的；在這種情況下，未使用的方法不需任何值便可傳回。</span><span class="sxs-lookup"><span data-stu-id="92d2e-109"><xref:System.ServiceModel.Description.IContractBehavior> objects can make use of any of these methods, but often only one is important; in such cases, the unused methods can return without any value.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="92d2e-110">所有的 <xref:System.ServiceModel.Description.IContractBehavior> 方法都會傳遞 <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> 和 <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> 做為參數。</span><span class="sxs-lookup"><span data-stu-id="92d2e-110">All of the <xref:System.ServiceModel.Description.IContractBehavior> methods pass <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> and <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> as parameters.</span></span> <span data-ttu-id="92d2e-111">這些參數是供檢查之用；如果您修改物件，執行行為便沒有定義。</span><span class="sxs-lookup"><span data-stu-id="92d2e-111">These parameters are for examination; if you modify the objects the execution behavior is undefined.</span></span>  
  
 <span data-ttu-id="92d2e-112"><xref:System.ServiceModel.Description.IContractBehavior> 型別可用於服務或 (和) 用戶端上。</span><span class="sxs-lookup"><span data-stu-id="92d2e-112"><xref:System.ServiceModel.Description.IContractBehavior> types can be used on either the service or the client, or both.</span></span> <span data-ttu-id="92d2e-113">如果要在服務上執行自訂工作，必須在建構服務執行階段之前將 <xref:System.ServiceModel.Description.IContractBehavior> 物件加入至 <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> 屬性，這會發生於在 <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> 物件上呼叫 <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> 方法時。</span><span class="sxs-lookup"><span data-stu-id="92d2e-113">To perform a customization task on the service, the <xref:System.ServiceModel.Description.IContractBehavior> object must be added to the <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> property prior to the construction of the service runtime, which occurs when the <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> method is called on the <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> object.</span></span> <span data-ttu-id="92d2e-114">執行這項作業的方法有兩種。</span><span class="sxs-lookup"><span data-stu-id="92d2e-114">There are two ways to do this.</span></span>  
  
 <span data-ttu-id="92d2e-115">第一種方法是在 <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> 物件上呼叫 <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> 方法之前，以程式設計的方法將自訂合約行為加入至 <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> 屬性。</span><span class="sxs-lookup"><span data-stu-id="92d2e-115">The first method is to programmatically add the custom contract behavior to the <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> property prior to the point when the <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> method is called on the <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> object.</span></span> <span data-ttu-id="92d2e-116">使用這種方法時，會針對在任何端點上流經該合約的所有訊息套用此行為。</span><span class="sxs-lookup"><span data-stu-id="92d2e-116">When applied this way, the behavior is applied for all messages flowing through that contract on any endpoint.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="92d2e-117">此行為會套用至相同型別的所有合約。</span><span class="sxs-lookup"><span data-stu-id="92d2e-117">The behavior is applied to all contracts of the same type.</span></span> <span data-ttu-id="92d2e-118">例如，如果您以程式設計的方式將相同的合約型別加入至一個以上的端點，此行為便會修改參考相同合約物件的所有端點。</span><span class="sxs-lookup"><span data-stu-id="92d2e-118">For example, if you programmatically add the same contract type to more than one endpoint, the behavior modifies all endpoints that refer to the same contract object.</span></span>  
  
 <span data-ttu-id="92d2e-119">第二種方法是建立實作 <xref:System.ServiceModel.Description.IContractBehavior> 的自訂屬性並套用至：</span><span class="sxs-lookup"><span data-stu-id="92d2e-119">The second method is to create a custom attribute that implements <xref:System.ServiceModel.Description.IContractBehavior> and apply that to:</span></span>  
  
-   <span data-ttu-id="92d2e-120">合約介面。</span><span class="sxs-lookup"><span data-stu-id="92d2e-120">A contract interface.</span></span> <span data-ttu-id="92d2e-121">在這種情況中，行為會套用至任何端點中該型別的所有合約。</span><span class="sxs-lookup"><span data-stu-id="92d2e-121">In this case, the behavior is applied to all contracts of that type in any endpoint.</span></span>  
  
-   <span data-ttu-id="92d2e-122">服務類別。</span><span class="sxs-lookup"><span data-stu-id="92d2e-122">A service class.</span></span>  <span data-ttu-id="92d2e-123">在這種情況中，行為會套用至所有端點 (不論何種合約)。</span><span class="sxs-lookup"><span data-stu-id="92d2e-123">In this case, the behavior is applied to all endpoints regardless of contract.</span></span>  
  
-   <span data-ttu-id="92d2e-124">回呼類別。</span><span class="sxs-lookup"><span data-stu-id="92d2e-124">A callback class.</span></span>  <span data-ttu-id="92d2e-125">在這種情況中，行為會套用至雙工用戶端的端點。</span><span class="sxs-lookup"><span data-stu-id="92d2e-125">In this case, the behavior is applied to the duplex client's endpoint.</span></span>  
  
 <span data-ttu-id="92d2e-126">如果自訂屬性也實作 <xref:System.ServiceModel.Description.IContractBehaviorAttribute?displayProperty=nameWithType>，第二種方法的行為會有些許改變。</span><span class="sxs-lookup"><span data-stu-id="92d2e-126">The behavior of the second approach varies slightly if the custom attribute also implements <xref:System.ServiceModel.Description.IContractBehaviorAttribute?displayProperty=nameWithType>.</span></span> <span data-ttu-id="92d2e-127">在這種情況下，行為如下所示：</span><span class="sxs-lookup"><span data-stu-id="92d2e-127">In this case, the behavior is as follows:</span></span>  
  
-   <span data-ttu-id="92d2e-128">合約介面。</span><span class="sxs-lookup"><span data-stu-id="92d2e-128">A contract interface.</span></span> <span data-ttu-id="92d2e-129">在此情況下，行為會套用至任何端點中該類型的所有合約和 Windows Communication Foundation (WCF) 會忽略值<xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="92d2e-129">In this case, the behavior is applied to all contracts of that type in any endpoint and Windows Communication Foundation (WCF) ignores the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> property.</span></span>  
  
-   <span data-ttu-id="92d2e-130">服務類別。</span><span class="sxs-lookup"><span data-stu-id="92d2e-130">A service class.</span></span>  <span data-ttu-id="92d2e-131">在此情況下，行為只會套用至其中合約為 <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> 屬性值的端點。</span><span class="sxs-lookup"><span data-stu-id="92d2e-131">In this case, the behavior is applied only to endpoints the contract of which is the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> property.</span></span>  
  
-   <span data-ttu-id="92d2e-132">回呼類別。</span><span class="sxs-lookup"><span data-stu-id="92d2e-132">A callback class.</span></span>  <span data-ttu-id="92d2e-133">在此情況下，行為會套用至雙工用戶端的端點，WCF 會忽略值<xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="92d2e-133">In this case, the behavior is applied to the duplex client's endpoint and WCF ignores the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> property.</span></span>  
  
 <span data-ttu-id="92d2e-134">如果要在目的用戶端上執行自訂工作，必須在建構用戶端執行階段之前將 <xref:System.ServiceModel.Description.IContractBehavior> 物件加入至 <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> 屬性，這會發生在呼叫 <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A?displayProperty=nameWithType> 時。</span><span class="sxs-lookup"><span data-stu-id="92d2e-134">To perform the customization task on the client for which it is intended, the <xref:System.ServiceModel.Description.IContractBehavior> object must be added to the <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> property prior to the construction of the client runtime, which occurs when <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A?displayProperty=nameWithType> is called.</span></span> <span data-ttu-id="92d2e-135">執行此作業的方法有兩種：</span><span class="sxs-lookup"><span data-stu-id="92d2e-135">There are two ways to do this:</span></span>  
  
-   <span data-ttu-id="92d2e-136">在呼叫 <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A><xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A?displayProperty=nameWithType>之前，以程式設計的方式將自訂合約行為加入至  屬性。</span><span class="sxs-lookup"><span data-stu-id="92d2e-136">Programmatically add the custom contract behavior to the <xref:System.ServiceModel.Description.ContractDescription.Behaviors%2A> property prior to the point when the <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A?displayProperty=nameWithType> is called.</span></span>  
  
-   <span data-ttu-id="92d2e-137">建立也會實作 <xref:System.ServiceModel.Description.IContractBehavior> 的自訂屬性。</span><span class="sxs-lookup"><span data-stu-id="92d2e-137">Create a custom attribute that also implements <xref:System.ServiceModel.Description.IContractBehavior>.</span></span>  
  
 <span data-ttu-id="92d2e-138">如需有關以程式設計方式新增<xref:System.ServiceModel.Description.IContractBehavior>型別，以用戶端或服務的應用程式，請參閱[設定和擴充執行階段行為](~/docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)。</span><span class="sxs-lookup"><span data-stu-id="92d2e-138">For more information on programmatically adding <xref:System.ServiceModel.Description.IContractBehavior> types to either the client or service application, see [Configuring and Extending the Runtime with Behaviors](~/docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="92d2e-139">下列程式碼範例假設自訂的 <xref:System.ServiceModel.Dispatcher.IInstanceProvider> 實作呼叫提供「單一」行為的 `ObjectProviderBehavior`，並一律傳回相同的服務執行個體，而且不會加以回收。</span><span class="sxs-lookup"><span data-stu-id="92d2e-139">The following code example assumes a custom <xref:System.ServiceModel.Dispatcher.IInstanceProvider> implementation called `ObjectProviderBehavior` that provides a "singleton" behavior; it always returns the same service instance and does not recycle it.</span></span>  
  
 <span data-ttu-id="92d2e-140">如果要插入執行個體提供者自訂，此範例會示範如何實作自訂屬性 (`SingletonBehaviorAttribute`)，該屬性會實作 <xref:System.ServiceModel.Description.IContractBehavior> 以插入自訂服務執行個體提供者。</span><span class="sxs-lookup"><span data-stu-id="92d2e-140">To insert the instance provider customization, the example shows how to implement a custom attribute (`SingletonBehaviorAttribute`) that implements <xref:System.ServiceModel.Description.IContractBehavior> to insert the custom service instance provider.</span></span> <span data-ttu-id="92d2e-141">它也會實作 <xref:System.ServiceModel.Description.IContractBehaviorAttribute>，繫結其用法與 `ISampleService` 合約。</span><span class="sxs-lookup"><span data-stu-id="92d2e-141">It also implements <xref:System.ServiceModel.Description.IContractBehaviorAttribute>, which binds its use to the `ISampleService` contract.</span></span>  
  
 [!code-csharp[IContractBehavior#2](~/samples/snippets/csharp/VS_Snippets_CFX/icontractbehavior/cs/objectproviderbehavior.cs#2)]
 [!code-vb[IContractBehavior#2](~/samples/snippets/visualbasic/VS_Snippets_CFX/icontractbehavior/vb/objectproviderbehavior.vb#2)]  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="AddBindingParameters">
      <MemberSignature Language="C#" Value="public void AddBindingParameters (System.ServiceModel.Description.ContractDescription contractDescription, System.ServiceModel.Description.ServiceEndpoint endpoint, System.ServiceModel.Channels.BindingParameterCollection bindingParameters);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void AddBindingParameters(class System.ServiceModel.Description.ContractDescription contractDescription, class System.ServiceModel.Description.ServiceEndpoint endpoint, class System.ServiceModel.Channels.BindingParameterCollection bindingParameters) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.ServiceModel.Description.IContractBehavior.AddBindingParameters(System.ServiceModel.Description.ContractDescription,System.ServiceModel.Description.ServiceEndpoint,System.ServiceModel.Channels.BindingParameterCollection)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void AddBindingParameters(System::ServiceModel::Description::ContractDescription ^ contractDescription, System::ServiceModel::Description::ServiceEndpoint ^ endpoint, System::ServiceModel::Channels::BindingParameterCollection ^ bindingParameters);" />
      <MemberSignature Language="F#" Value="abstract member AddBindingParameters : System.ServiceModel.Description.ContractDescription * System.ServiceModel.Description.ServiceEndpoint * System.ServiceModel.Channels.BindingParameterCollection -&gt; unit" Usage="iContractBehavior.AddBindingParameters (contractDescription, endpoint, bindingParameters)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="contractDescription" Type="System.ServiceModel.Description.ContractDescription" />
        <Parameter Name="endpoint" Type="System.ServiceModel.Description.ServiceEndpoint" />
        <Parameter Name="bindingParameters" Type="System.ServiceModel.Channels.BindingParameterCollection" />
      </Parameters>
      <Docs>
        <param name="contractDescription">
          <span data-ttu-id="92d2e-142">要修改的合約描述。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-142">The contract description to modify.</span>
          </span>
        </param>
        <param name="endpoint">
          <span data-ttu-id="92d2e-143">要修改的端點。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-143">The endpoint to modify.</span>
          </span>
        </param>
        <param name="bindingParameters">
          <span data-ttu-id="92d2e-144">繫結項目支援行為所需的物件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-144">The objects that binding elements require to support the behavior.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="92d2e-145">設定繫結項目以支援合約行為。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-145">Configures any binding elements to support the contract behavior.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="92d2e-146">您可以實作 <xref:System.ServiceModel.Description.IContractBehavior.AddBindingParameters%2A> 方法，為繫結項目提供支援合約行為所需要的額外物件。</span><span class="sxs-lookup"><span data-stu-id="92d2e-146">Implement the <xref:System.ServiceModel.Description.IContractBehavior.AddBindingParameters%2A> method to provide binding elements with the extra objects they require to support the contract behavior.</span></span>  
  
 <span data-ttu-id="92d2e-147">使用指定之服務合約的各個端點會呼叫這個方法一次。</span><span class="sxs-lookup"><span data-stu-id="92d2e-147">This method is called once for each endpoint that uses the specified service contract.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ApplyClientBehavior">
      <MemberSignature Language="C#" Value="public void ApplyClientBehavior (System.ServiceModel.Description.ContractDescription contractDescription, System.ServiceModel.Description.ServiceEndpoint endpoint, System.ServiceModel.Dispatcher.ClientRuntime clientRuntime);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void ApplyClientBehavior(class System.ServiceModel.Description.ContractDescription contractDescription, class System.ServiceModel.Description.ServiceEndpoint endpoint, class System.ServiceModel.Dispatcher.ClientRuntime clientRuntime) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.ServiceModel.Description.IContractBehavior.ApplyClientBehavior(System.ServiceModel.Description.ContractDescription,System.ServiceModel.Description.ServiceEndpoint,System.ServiceModel.Dispatcher.ClientRuntime)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void ApplyClientBehavior(System::ServiceModel::Description::ContractDescription ^ contractDescription, System::ServiceModel::Description::ServiceEndpoint ^ endpoint, System::ServiceModel::Dispatcher::ClientRuntime ^ clientRuntime);" />
      <MemberSignature Language="F#" Value="abstract member ApplyClientBehavior : System.ServiceModel.Description.ContractDescription * System.ServiceModel.Description.ServiceEndpoint * System.ServiceModel.Dispatcher.ClientRuntime -&gt; unit" Usage="iContractBehavior.ApplyClientBehavior (contractDescription, endpoint, clientRuntime)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="contractDescription" Type="System.ServiceModel.Description.ContractDescription" />
        <Parameter Name="endpoint" Type="System.ServiceModel.Description.ServiceEndpoint" />
        <Parameter Name="clientRuntime" Type="System.ServiceModel.Dispatcher.ClientRuntime" />
      </Parameters>
      <Docs>
        <param name="contractDescription">
          <span data-ttu-id="92d2e-148">延伸所適用的合約描述。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-148">The contract description for which the extension is intended.</span>
          </span>
        </param>
        <param name="endpoint">
          <span data-ttu-id="92d2e-149">端點。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-149">The endpoint.</span>
          </span>
        </param>
        <param name="clientRuntime">
          <span data-ttu-id="92d2e-150">用戶端執行階段。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-150">The client runtime.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="92d2e-151">實作合約上用戶端的修改或延伸。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-151">Implements a modification or extension of the client across a contract.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="92d2e-152">您可以實作 <xref:System.ServiceModel.Description.IContractBehavior.ApplyClientBehavior%2A> 方法以檢視、修改或加入自訂延伸至所有訊息或一個特定作業的用戶端執行階段。</span><span class="sxs-lookup"><span data-stu-id="92d2e-152">Implement the <xref:System.ServiceModel.Description.IContractBehavior.ApplyClientBehavior%2A> method to view, modify, or add custom extensions to the client runtime across all messages or for one specific operation.</span></span> <span data-ttu-id="92d2e-153">如需有關您可以使用用戶端執行階段物件進行何種自訂的詳細資訊，請參閱 <xref:System.ServiceModel.Dispatcher.ClientRuntime> 和 <xref:System.ServiceModel.Dispatcher.ClientOperation>。</span><span class="sxs-lookup"><span data-stu-id="92d2e-153">For details about what customizations you can do with a client run-time object, see <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.ClientOperation>.</span></span>  
  
 <span data-ttu-id="92d2e-154">如果行為只適合在服務應用程式中使用，<xref:System.ServiceModel.Description.IContractBehavior.ApplyClientBehavior%2A> 方法可以擲回 <xref:System.NotImplementedException> 例外狀況。</span><span class="sxs-lookup"><span data-stu-id="92d2e-154">The <xref:System.ServiceModel.Description.IContractBehavior.ApplyClientBehavior%2A> method can throw a <xref:System.NotImplementedException> exception if the behavior is only intended for use in a service application.</span></span>  
  
 <span data-ttu-id="92d2e-155">使用指定之服務合約的各個端點會呼叫這個方法一次。</span><span class="sxs-lookup"><span data-stu-id="92d2e-155">This method is called once for each endpoint that uses the specified service contract.</span></span>  
  
 <span data-ttu-id="92d2e-156">請注意，在描述中可以有兩個作業使用相同的名稱 (每個方向一個)，因此如果您必須逐一查看合約是雙工合約的作業時，必須聯結端點 <xref:System.ServiceModel.Dispatcher.ClientRuntime> 以及由 <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A> 屬性傳回的端點之間的訊息方向。</span><span class="sxs-lookup"><span data-stu-id="92d2e-156">Note that there can be two operations with the same name in the description (one in each direction), so if you must iterate through operations where the contract is a duplex contract, you must correlate the message direction between the endpoint <xref:System.ServiceModel.Dispatcher.ClientRuntime> and that returned by the <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A> property.</span></span>  
  
 <span data-ttu-id="92d2e-157">由於其他行為可能已經加入或從執行階段移除某些作業，因此不保證描述中的作業數目和 <xref:System.ServiceModel.Dispatcher.ClientOperation> 屬性中的 <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> 物件相同。</span><span class="sxs-lookup"><span data-stu-id="92d2e-157">Because other behaviors may have already added or removed some operations from the runtime, there is no guarantee that there are the same number of operations in the description as there are <xref:System.ServiceModel.Dispatcher.ClientOperation> objects in the <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> property.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="92d2e-158">下列程式碼範例假設自訂的 <xref:System.ServiceModel.Dispatcher.IInstanceProvider> 實作呼叫提供「單一」行為的 `ObjectProviderBehavior`，並一律傳回相同的服務執行個體，而且不會加以回收。</span><span class="sxs-lookup"><span data-stu-id="92d2e-158">The following code example assumes a custom <xref:System.ServiceModel.Dispatcher.IInstanceProvider> implementation called `ObjectProviderBehavior` that provides a "singleton" behavior; it always returns the same service instance and does not recycle it.</span></span>  
  
 <span data-ttu-id="92d2e-159">如果要插入執行個體提供者自訂，此範例會示範如何實作自訂屬性 (`SingletonBehaviorAttribute`)，該屬性會實作 <xref:System.ServiceModel.Description.IContractBehavior> 以插入自訂服務執行個體提供者。</span><span class="sxs-lookup"><span data-stu-id="92d2e-159">To insert the instance provider customization, the example shows how to implement a custom attribute (`SingletonBehaviorAttribute`) that implements <xref:System.ServiceModel.Description.IContractBehavior> to insert the custom service instance provider.</span></span> <span data-ttu-id="92d2e-160">它也會實作 <xref:System.ServiceModel.Description.IContractBehaviorAttribute>，繫結其用法與 `ISampleService` 合約。</span><span class="sxs-lookup"><span data-stu-id="92d2e-160">It also implements <xref:System.ServiceModel.Description.IContractBehaviorAttribute>, which binds its use to the `ISampleService` contract.</span></span>  
  
 [!code-csharp[IContractBehavior#2](~/samples/snippets/csharp/VS_Snippets_CFX/icontractbehavior/cs/objectproviderbehavior.cs#2)]
 [!code-vb[IContractBehavior#2](~/samples/snippets/visualbasic/VS_Snippets_CFX/icontractbehavior/vb/objectproviderbehavior.vb#2)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ApplyDispatchBehavior">
      <MemberSignature Language="C#" Value="public void ApplyDispatchBehavior (System.ServiceModel.Description.ContractDescription contractDescription, System.ServiceModel.Description.ServiceEndpoint endpoint, System.ServiceModel.Dispatcher.DispatchRuntime dispatchRuntime);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void ApplyDispatchBehavior(class System.ServiceModel.Description.ContractDescription contractDescription, class System.ServiceModel.Description.ServiceEndpoint endpoint, class System.ServiceModel.Dispatcher.DispatchRuntime dispatchRuntime) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.ServiceModel.Description.IContractBehavior.ApplyDispatchBehavior(System.ServiceModel.Description.ContractDescription,System.ServiceModel.Description.ServiceEndpoint,System.ServiceModel.Dispatcher.DispatchRuntime)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void ApplyDispatchBehavior(System::ServiceModel::Description::ContractDescription ^ contractDescription, System::ServiceModel::Description::ServiceEndpoint ^ endpoint, System::ServiceModel::Dispatcher::DispatchRuntime ^ dispatchRuntime);" />
      <MemberSignature Language="F#" Value="abstract member ApplyDispatchBehavior : System.ServiceModel.Description.ContractDescription * System.ServiceModel.Description.ServiceEndpoint * System.ServiceModel.Dispatcher.DispatchRuntime -&gt; unit" Usage="iContractBehavior.ApplyDispatchBehavior (contractDescription, endpoint, dispatchRuntime)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="contractDescription" Type="System.ServiceModel.Description.ContractDescription" />
        <Parameter Name="endpoint" Type="System.ServiceModel.Description.ServiceEndpoint" />
        <Parameter Name="dispatchRuntime" Type="System.ServiceModel.Dispatcher.DispatchRuntime" />
      </Parameters>
      <Docs>
        <param name="contractDescription">
          <span data-ttu-id="92d2e-161">要修改的合約描述。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-161">The contract description to be modified.</span>
          </span>
        </param>
        <param name="endpoint">
          <span data-ttu-id="92d2e-162">公開合約的端點。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-162">The endpoint that exposes the contract.</span>
          </span>
        </param>
        <param name="dispatchRuntime">
          <span data-ttu-id="92d2e-163">控制服務執行的分派執行階段。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-163">The dispatch runtime that controls service execution.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="92d2e-164">實作合約上用戶端的修改或延伸。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-164">Implements a modification or extension of the client across a contract.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="92d2e-165">您可以實作 <xref:System.ServiceModel.Description.IContractBehavior.ApplyDispatchBehavior%2A> 以檢視、修改或加入自訂延伸至特定合約中所有訊息或該合約中一個特定作業的服務執行階段。</span><span class="sxs-lookup"><span data-stu-id="92d2e-165">Implement the <xref:System.ServiceModel.Description.IContractBehavior.ApplyDispatchBehavior%2A> to view, modify, or add custom extensions to the service runtime across all messages in a specific contract or for one specific operation in that contract.</span></span> <span data-ttu-id="92d2e-166">如需有關您可以在服務應用程式中執行何種自訂的詳細資訊，請參閱 <xref:System.ServiceModel.Dispatcher.DispatchRuntime> 和 <xref:System.ServiceModel.Dispatcher.DispatchOperation>。</span><span class="sxs-lookup"><span data-stu-id="92d2e-166">For details about what customizations you can perform in a service application, see <xref:System.ServiceModel.Dispatcher.DispatchRuntime> and <xref:System.ServiceModel.Dispatcher.DispatchOperation>.</span></span>  
  
 <span data-ttu-id="92d2e-167">如果行為只適合在用戶端應用程式中使用，<xref:System.ServiceModel.Description.IContractBehavior.ApplyDispatchBehavior%2A> 方法可以擲回 <xref:System.NotImplementedException> 例外狀況。</span><span class="sxs-lookup"><span data-stu-id="92d2e-167">The <xref:System.ServiceModel.Description.IContractBehavior.ApplyDispatchBehavior%2A> method can throw a <xref:System.NotImplementedException> exception if the behavior is only intended for use in a client application.</span></span>  
  
 <span data-ttu-id="92d2e-168">使用指定之服務合約的各個端點會呼叫這個方法一次。</span><span class="sxs-lookup"><span data-stu-id="92d2e-168">This method is called once for each endpoint that uses the specified service contract.</span></span>  
  
 <span data-ttu-id="92d2e-169">請注意，在描述中可以有兩個作業使用相同的名稱 (每個方向一個)，因此如果您必須逐一查看合約是雙工合約的作業時，必須聯結端點 <xref:System.ServiceModel.Dispatcher.DispatchRuntime> 以及由 <xref:System.ServiceModel.Dispatcher.DispatchRuntime.CallbackClientRuntime%2A> 屬性傳回的端點之間的訊息方向。</span><span class="sxs-lookup"><span data-stu-id="92d2e-169">Note that there can be two operations with the same name in the description (one in each direction), so if you must iterate through operations where the contract is a duplex contract, you must correlate the message direction between the endpoint <xref:System.ServiceModel.Dispatcher.DispatchRuntime> and that returned by the <xref:System.ServiceModel.Dispatcher.DispatchRuntime.CallbackClientRuntime%2A> property.</span></span>  
  
 <span data-ttu-id="92d2e-170">此外，由於其他行為可能已經加入或從執行階段移除某些作業，因此不保證描述中的作業數目和 <xref:System.ServiceModel.Dispatcher.DispatchOperation> 屬性中的 <xref:System.ServiceModel.Dispatcher.DispatchRuntime.Operations%2A> 物件相同。</span><span class="sxs-lookup"><span data-stu-id="92d2e-170">In addition, because other behaviors may have already added or removed some operations from the runtime, there is no guarantee that there are the same number of operations in description as there are <xref:System.ServiceModel.Dispatcher.DispatchOperation> objects in the <xref:System.ServiceModel.Dispatcher.DispatchRuntime.Operations%2A> property.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="92d2e-171">下列程式碼範例假設自訂的 <xref:System.ServiceModel.Dispatcher.IInstanceProvider> 實作呼叫提供「單一」行為的 `ObjectProviderBehavior`，並一律傳回相同的服務執行個體，而且不會加以回收。</span><span class="sxs-lookup"><span data-stu-id="92d2e-171">The following code example assumes a custom <xref:System.ServiceModel.Dispatcher.IInstanceProvider> implementation called `ObjectProviderBehavior` that provides a "singleton" behavior; it always returns the same service instance and does not recycle it.</span></span>  
  
 <span data-ttu-id="92d2e-172">如果要插入執行個體提供者自訂，此範例會示範如何實作自訂屬性 (`SingletonBehaviorAttribute`)，該屬性會實作 <xref:System.ServiceModel.Description.IContractBehavior> 以插入自訂服務執行個體提供者。</span><span class="sxs-lookup"><span data-stu-id="92d2e-172">To insert the instance provider customization, the example shows how to implement a custom attribute (`SingletonBehaviorAttribute`) that implements <xref:System.ServiceModel.Description.IContractBehavior> to insert the custom service instance provider.</span></span> <span data-ttu-id="92d2e-173">它也會實作 <xref:System.ServiceModel.Description.IContractBehaviorAttribute>，繫結其用法與 `ISampleService` 合約。</span><span class="sxs-lookup"><span data-stu-id="92d2e-173">It also implements <xref:System.ServiceModel.Description.IContractBehaviorAttribute>, which binds its use to the `ISampleService` contract.</span></span>  
  
 [!code-csharp[IContractBehavior#2](~/samples/snippets/csharp/VS_Snippets_CFX/icontractbehavior/cs/objectproviderbehavior.cs#2)]
 [!code-vb[IContractBehavior#2](~/samples/snippets/visualbasic/VS_Snippets_CFX/icontractbehavior/vb/objectproviderbehavior.vb#2)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Validate">
      <MemberSignature Language="C#" Value="public void Validate (System.ServiceModel.Description.ContractDescription contractDescription, System.ServiceModel.Description.ServiceEndpoint endpoint);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Validate(class System.ServiceModel.Description.ContractDescription contractDescription, class System.ServiceModel.Description.ServiceEndpoint endpoint) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.ServiceModel.Description.IContractBehavior.Validate(System.ServiceModel.Description.ContractDescription,System.ServiceModel.Description.ServiceEndpoint)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Validate(System::ServiceModel::Description::ContractDescription ^ contractDescription, System::ServiceModel::Description::ServiceEndpoint ^ endpoint);" />
      <MemberSignature Language="F#" Value="abstract member Validate : System.ServiceModel.Description.ContractDescription * System.ServiceModel.Description.ServiceEndpoint -&gt; unit" Usage="iContractBehavior.Validate (contractDescription, endpoint)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="contractDescription" Type="System.ServiceModel.Description.ContractDescription" />
        <Parameter Name="endpoint" Type="System.ServiceModel.Description.ServiceEndpoint" />
      </Parameters>
      <Docs>
        <param name="contractDescription">
          <span data-ttu-id="92d2e-174">要驗證的合約。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-174">The contract to validate.</span>
          </span>
        </param>
        <param name="endpoint">
          <span data-ttu-id="92d2e-175">要驗證的端點。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-175">The endpoint to validate.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="92d2e-176">您可以實作此方法確認合約和端點可以支援合約行為。</span>
          <span class="sxs-lookup">
            <span data-stu-id="92d2e-176">Implement to confirm that the contract and endpoint can support the contract behavior.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="92d2e-177">您可以實作 <xref:System.ServiceModel.Description.IContractBehavior.Validate%2A> 方法，以確認合約描述足以支援自訂合約行為。</span><span class="sxs-lookup"><span data-stu-id="92d2e-177">Implement the <xref:System.ServiceModel.Description.IContractBehavior.Validate%2A> method to confirm that the contract description is sufficient to support the custom contract behavior.</span></span> <span data-ttu-id="92d2e-178">實作可以檢查描述然後擲回或不傳回值。</span><span class="sxs-lookup"><span data-stu-id="92d2e-178">Implementations can inspect the description and either throw or return no value.</span></span>  
  
 <span data-ttu-id="92d2e-179">使用指定之服務合約的各個端點會呼叫這個方法一次。</span><span class="sxs-lookup"><span data-stu-id="92d2e-179">This method is called once for each endpoint that uses the specified service contract.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>