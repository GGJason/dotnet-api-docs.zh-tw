<Type Name="PerformanceCounter" FullName="System.Diagnostics.PerformanceCounter">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="3d980133b1f10b739ff3f429ccb80aef0883db10" />
    <Meta Name="ms.sourcegitcommit" Value="16d2d159872fd213cae4b8f371d7ae9c8b027c89" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="zh-TW" />
    <Meta Name="ms.lasthandoff" Value="11/17/2018" />
    <Meta Name="ms.locfileid" Value="51863419" />
  </Metadata>
  <TypeSignature Language="C#" Value="public sealed class PerformanceCounter : System.ComponentModel.Component, System.ComponentModel.ISupportInitialize" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit PerformanceCounter extends System.ComponentModel.Component implements class System.ComponentModel.ISupportInitialize" />
  <TypeSignature Language="DocId" Value="T:System.Diagnostics.PerformanceCounter" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class PerformanceCounter&#xA;Inherits Component&#xA;Implements ISupportInitialize" />
  <TypeSignature Language="C++ CLI" Value="public ref class PerformanceCounter sealed : System::ComponentModel::Component, System::ComponentModel::ISupportInitialize" />
  <TypeSignature Language="F#" Value="type PerformanceCounter = class&#xA;    inherit Component&#xA;    interface ISupportInitialize" />
  <AssemblyInfo>
    <AssemblyName>System</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.ComponentModel.Component</BaseTypeName>
  </Base>
  <Interfaces>
    <Interface>
      <InterfaceName>System.ComponentModel.ISupportInitialize</InterfaceName>
    </Interface>
  </Interfaces>
  <Attributes>
    <Attribute FrameworkAlternate="xamarinmac-3.0">
      <AttributeName>System.ComponentModel.InstallerType(typeof(System.Diagnostics.PerformanceCounterInstaller))</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-1.1">
      <AttributeName>System.ComponentModel.Designer("Microsoft.VisualStudio.Install.PerformanceCounterDesigner, Microsoft.VisualStudio, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-1.1">
      <AttributeName>System.ComponentModel.InstallerType("System.Diagnostics.PerformanceCounterInstaller,System.Configuration.Install, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5">
      <AttributeName>System.ComponentModel.InstallerType("System.Diagnostics.PerformanceCounterInstaller,System.Configuration.Install, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
      <AttributeName>System.ComponentModel.InstallerType("System.Diagnostics.PerformanceCounterInstaller,System.Configuration.Install, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>
      <span data-ttu-id="ede04-101">表示 Windows NT 效能計數器元件。</span>
      <span class="sxs-lookup">
        <span data-stu-id="ede04-101">Represents a Windows NT performance counter component.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-102"><xref:System.Diagnostics.PerformanceCounter>元件可用來讀取現有的預先定義或自訂的計數器和發佈效能 （寫入） 至自訂計數器的資料。</span><span class="sxs-lookup"><span data-stu-id="ede04-102">The <xref:System.Diagnostics.PerformanceCounter> component can be used for both reading existing predefined or custom counters and publishing (writing) performance data to custom counters.</span></span>  
  
 <span data-ttu-id="ede04-103">有許多預先定義的計數器，列在 「 Windows 效能監視器[新增計數器對話方塊](https://go.microsoft.com/fwlink/p/?LinkId=257854)。</span><span class="sxs-lookup"><span data-stu-id="ede04-103">There are numerous predefined counters listed in the Windows Performance Monitor's [Add Counters dialog box](https://go.microsoft.com/fwlink/p/?LinkId=257854).</span></span> <span data-ttu-id="ede04-104">若要深入了解.NET Framework 效能計數器，請參閱[效能計數器](~/docs/framework/debug-trace-profile/performance-counters.md)。</span><span class="sxs-lookup"><span data-stu-id="ede04-104">To learn about the .NET Framework performance counters, see [Performance Counters](~/docs/framework/debug-trace-profile/performance-counters.md).</span></span>  
  
 <span data-ttu-id="ede04-105">此類型會實作<xref:System.IDisposable>介面。</span><span class="sxs-lookup"><span data-stu-id="ede04-105">This type implements the <xref:System.IDisposable> interface.</span></span> <span data-ttu-id="ede04-106">當您完成使用型別時，您應該處置它直接或間接。</span><span class="sxs-lookup"><span data-stu-id="ede04-106">When you have finished using the type, you should dispose of it either directly or indirectly.</span></span> <span data-ttu-id="ede04-107">若要直接處置型別，呼叫其<xref:System.IDisposable.Dispose%2A>方法中的`try` / `catch`區塊。</span><span class="sxs-lookup"><span data-stu-id="ede04-107">To dispose of the type directly, call its <xref:System.IDisposable.Dispose%2A> method in a `try`/`catch` block.</span></span> <span data-ttu-id="ede04-108">若要處置它間接，使用的語言建構這類`using`（在 C# 中) 或`Using`（在 Visual Basic)。</span><span class="sxs-lookup"><span data-stu-id="ede04-108">To dispose of it indirectly, use a language construct such as `using` (in C#) or `Using` (in Visual Basic).</span></span> <span data-ttu-id="ede04-109">如需詳細資訊，請參閱 「 使用物件，實作 IDisposable 」 一節<xref:System.IDisposable>介面 > 主題。</span><span class="sxs-lookup"><span data-stu-id="ede04-109">For more information, see the "Using an Object that Implements IDisposable" section in the <xref:System.IDisposable> interface topic.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="ede04-110">在 1.0 和 1.1 版的.NET framework 版本中，這個類別會要求完全信任立即呼叫端。</span><span class="sxs-lookup"><span data-stu-id="ede04-110">In versions 1.0 and 1.1 of the .NET Framework, this class requires immediate callers to be fully trusted.</span></span> <span data-ttu-id="ede04-111">從.NET Framework 2.0 版開始，這個類別會要求<xref:System.Diagnostics.PerformanceCounterPermission>特定動作。</span><span class="sxs-lookup"><span data-stu-id="ede04-111">Starting with the .NET Framework version 2.0, this class requires <xref:System.Diagnostics.PerformanceCounterPermission> for specific actions.</span></span> <span data-ttu-id="ede04-112">強烈建議，<xref:System.Diagnostics.PerformanceCounterPermission>不授與完全信任程式碼。</span><span class="sxs-lookup"><span data-stu-id="ede04-112">It is strongly recommended that <xref:System.Diagnostics.PerformanceCounterPermission> not be granted to semi-trusted code.</span></span>  <span data-ttu-id="ede04-113">能夠讀取和寫入效能計數器可讓程式碼來執行動作，例如列舉執行處理序和取得其相關資訊。</span><span class="sxs-lookup"><span data-stu-id="ede04-113">The ability to read and write performance counters allows code to perform actions such as enumerating executing processes and obtaining information about them.</span></span>  
>   
>  <span data-ttu-id="ede04-114">此外，傳遞<xref:System.Diagnostics.PerformanceCounter>物件到信任度較低的程式碼可以建立安全性問題。</span><span class="sxs-lookup"><span data-stu-id="ede04-114">In addition, passing a <xref:System.Diagnostics.PerformanceCounter> object to less-trusted code can create a security issue.</span></span> <span data-ttu-id="ede04-115">永遠不會傳遞效能計數器物件，例如<xref:System.Diagnostics.PerformanceCounterCategory>或<xref:System.Diagnostics.PerformanceCounter>、 較不受信任的程式碼。</span><span class="sxs-lookup"><span data-stu-id="ede04-115">Never pass performance counter objects, such as a <xref:System.Diagnostics.PerformanceCounterCategory> or <xref:System.Diagnostics.PerformanceCounter>, to less trusted code.</span></span>  
  
 <span data-ttu-id="ede04-116">若要讀取從效能計數器，建立的執行個體<xref:System.Diagnostics.PerformanceCounter>類別中，將<xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>，並選擇性地<xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>或<xref:System.Diagnostics.PerformanceCounter.MachineName%2A>內容，然後再呼叫<xref:System.Diagnostics.PerformanceCounter.NextValue%2A>才會對效能的方法計數器讀取的內容。</span><span class="sxs-lookup"><span data-stu-id="ede04-116">To read from a performance counter, create an instance of the <xref:System.Diagnostics.PerformanceCounter> class, set the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>, and, optionally, the <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A> or <xref:System.Diagnostics.PerformanceCounter.MachineName%2A> properties, and then call the <xref:System.Diagnostics.PerformanceCounter.NextValue%2A> method to take a performance counter reading.</span></span>  
  
 <span data-ttu-id="ede04-117">若要發佈效能計數器資料，建立使用的一或多個自訂的計數器<xref:System.Diagnostics.PerformanceCounterCategory.Create%2A?displayProperty=nameWithType>方法，建立的執行個體<xref:System.Diagnostics.PerformanceCounter>類別中，將<xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounter.CounterName%2A> ，並選擇性地<xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>或<xref:System.Diagnostics.PerformanceCounter.MachineName%2A>屬性，然後呼叫<xref:System.Diagnostics.PerformanceCounter.IncrementBy%2A>， <xref:System.Diagnostics.PerformanceCounter.Increment%2A>，或<xref:System.Diagnostics.PerformanceCounter.Decrement%2A>方法或一組<xref:System.Diagnostics.PerformanceCounter.RawValue%2A>屬性來變更您的自訂計數器的值。</span><span class="sxs-lookup"><span data-stu-id="ede04-117">To publish performance counter data, create one or more custom counters using the <xref:System.Diagnostics.PerformanceCounterCategory.Create%2A?displayProperty=nameWithType> method, create an instance of the <xref:System.Diagnostics.PerformanceCounter> class, set the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounter.CounterName%2A> and, optionally, <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A> or <xref:System.Diagnostics.PerformanceCounter.MachineName%2A> properties, and then call the <xref:System.Diagnostics.PerformanceCounter.IncrementBy%2A>, <xref:System.Diagnostics.PerformanceCounter.Increment%2A>, or <xref:System.Diagnostics.PerformanceCounter.Decrement%2A> methods, or set the <xref:System.Diagnostics.PerformanceCounter.RawValue%2A> property to change the value of your custom counter.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-118"><xref:System.Diagnostics.PerformanceCounter.Increment%2A>， <xref:System.Diagnostics.PerformanceCounter.IncrementBy%2A>，和<xref:System.Diagnostics.PerformanceCounter.Decrement%2A>方法使用聯鎖更新計數器的值。</span><span class="sxs-lookup"><span data-stu-id="ede04-118">The <xref:System.Diagnostics.PerformanceCounter.Increment%2A>, <xref:System.Diagnostics.PerformanceCounter.IncrementBy%2A>, and <xref:System.Diagnostics.PerformanceCounter.Decrement%2A> methods use interlocks to update the counter value.</span></span> <span data-ttu-id="ede04-119">這有助於在多執行緒或多重處理序的案例，也會導致對效能帶來負面影響，保留的計數器值正確無誤。</span><span class="sxs-lookup"><span data-stu-id="ede04-119">This helps keep the counter value accurate in multithreaded or multiprocess scenarios, but also results in a performance penalty.</span></span> <span data-ttu-id="ede04-120">如果您不需要精確度的連鎖作業提供，您可以更新<xref:System.Diagnostics.PerformanceCounter.RawValue%2A>屬性直接直到 5 倍的效能改善。</span><span class="sxs-lookup"><span data-stu-id="ede04-120">If you do not need the accuracy that interlocked operations provide, you can update the <xref:System.Diagnostics.PerformanceCounter.RawValue%2A> property directly for up to a 5 times performance improvement.</span></span>  <span data-ttu-id="ede04-121">不過，在多執行緒的情況下，某些更新為計數器值可能會忽略，導致不正確的資料。</span><span class="sxs-lookup"><span data-stu-id="ede04-121">However, in multithreaded scenarios, some updates to the counter value might be ignored, resulting in inaccurate data.</span></span>  
  
 <span data-ttu-id="ede04-122">此計數器是根據效能會收集資料的機制。</span><span class="sxs-lookup"><span data-stu-id="ede04-122">The counter is the mechanism by which performance data is collected.</span></span> <span data-ttu-id="ede04-123">登錄會儲存所有計數器，其中每個相關系統功能的特定區域的名稱。</span><span class="sxs-lookup"><span data-stu-id="ede04-123">The registry stores the names of all the counters, each of which is related to a specific area of system functionality.</span></span> <span data-ttu-id="ede04-124">範例包括處理器的忙碌時間、 記憶體使用量或透過網路連線接收的位元組數目。</span><span class="sxs-lookup"><span data-stu-id="ede04-124">Examples include a processor's busy time, memory usage, or the number of bytes received over a network connection.</span></span>  
  
 <span data-ttu-id="ede04-125">透過其名稱和位置，會唯一識別每個計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-125">Each counter is uniquely identified through its name and its location.</span></span> <span data-ttu-id="ede04-126">檔案路徑包括磁碟機、 目錄、 一或多個子目錄和檔案名稱的相同方式，在計數器資訊包含四個項目： 電腦、 類別、 分類執行個體和計數器名稱。</span><span class="sxs-lookup"><span data-stu-id="ede04-126">In the same way that a file path includes a drive, a directory, one or more subdirectories, and a file name, counter information consists of four elements: the computer, the category, the category instance, and the counter name.</span></span>  
  
 <span data-ttu-id="ede04-127">分類或效能物件計數器會測量資料，必須包含的計數器資訊。</span><span class="sxs-lookup"><span data-stu-id="ede04-127">The counter information must include the category, or performance object, that the counter measures data for.</span></span> <span data-ttu-id="ede04-128">電腦的類別包括實體元件，例如處理器、 磁碟和記憶體。</span><span class="sxs-lookup"><span data-stu-id="ede04-128">A computer's categories include physical components, such as processors, disks, and memory.</span></span> <span data-ttu-id="ede04-129">也有系統的類別，例如處理序和執行緒。</span><span class="sxs-lookup"><span data-stu-id="ede04-129">There are also system categories, such as processes and threads.</span></span> <span data-ttu-id="ede04-130">每個類別目錄與功能性的項目內的電腦，並已指派給它的一組標準的計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-130">Each category is related to a functional element within the computer and has a set of standard counters assigned to it.</span></span> <span data-ttu-id="ede04-131">這些物件會列在 新增計數器 對話方塊中，在 Windows 2000 系統監視器 中，效能物件下拉式清單中，您必須納入的計數器路徑。</span><span class="sxs-lookup"><span data-stu-id="ede04-131">These objects are listed in the Performance object drop-down list of the Add Counters dialog box within the Windows 2000 System Monitor, and you must include them in the counter path.</span></span> <span data-ttu-id="ede04-132">效能資料會依相關的類別是。</span><span class="sxs-lookup"><span data-stu-id="ede04-132">Performance data is grouped by the category to which is it related.</span></span>  
  
 <span data-ttu-id="ede04-133">在某些情況下，可以存在相同的類別目錄的幾個複本。</span><span class="sxs-lookup"><span data-stu-id="ede04-133">In certain cases, several copies of the same category can exist.</span></span> <span data-ttu-id="ede04-134">例如，數個處理序和執行緒同時執行，而某些電腦包含多個處理器。</span><span class="sxs-lookup"><span data-stu-id="ede04-134">For example, several processes and threads run simultaneously, and some computers contain more than one processor.</span></span> <span data-ttu-id="ede04-135">分類的複本稱為類別的執行個體，而每個執行個體具有一組指派給它的標準計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-135">The category copies are called category instances, and each instance has a set of standard counters assigned to it.</span></span> <span data-ttu-id="ede04-136">如果類別可以有多個執行個體，則執行個體規格必須包含在計數器資訊。</span><span class="sxs-lookup"><span data-stu-id="ede04-136">If a category can have more than one instance, an instance specification must be included in the counter information.</span></span>  
  
 <span data-ttu-id="ede04-137">若要取得執行所需的計算所需的初始或上一個值的計數器的效能資料，請呼叫<xref:System.Diagnostics.PerformanceCounter.NextValue%2A>方法兩次，並使用您的應用程式需要傳回的資訊。</span><span class="sxs-lookup"><span data-stu-id="ede04-137">To obtain performance data for counters that required an initial or previous value for performing the necessary calculation, call the <xref:System.Diagnostics.PerformanceCounter.NextValue%2A> method twice and use the information returned as your application requires.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-138">與安裝的效能計數器分類[!INCLUDE[dnprdnlong](~/includes/dnprdnlong-md.md)]使用不同的共用的記憶體，且每個效能計數器分類都有它自己的記憶體。</span><span class="sxs-lookup"><span data-stu-id="ede04-138">Performance counter categories installed with the [!INCLUDE[dnprdnlong](~/includes/dnprdnlong-md.md)] use separate shared memory, with each performance counter category having its own memory.</span></span> <span data-ttu-id="ede04-139">您可以指定不同的共用記憶體的大小，藉由建立 DWORD 登錄機碼 HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services 中名為 FileMappingSize\\*\<類別名稱 >* \效能。</span><span class="sxs-lookup"><span data-stu-id="ede04-139">You can specify the size of separate shared memory by creating a DWORD named FileMappingSize in the registry key HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\\*\<category name>* \Performance.</span></span> <span data-ttu-id="ede04-140">FileMappingSize 值設定為類別目錄的共用的記憶體大小。</span><span class="sxs-lookup"><span data-stu-id="ede04-140">The FileMappingSize value is set to the shared memory size of the category.</span></span> <span data-ttu-id="ede04-141">預設大小為 131072 十進位。</span><span class="sxs-lookup"><span data-stu-id="ede04-141">The default size is 131072 decimal.</span></span> <span data-ttu-id="ede04-142">FileMappingSize 值不存在，如果`fileMappingSize`屬性值`performanceCounters`使用 Machine.config 檔案中指定的項目時，造成額外負擔的組態檔處理。</span><span class="sxs-lookup"><span data-stu-id="ede04-142">If the FileMappingSize value is not present, the `fileMappingSize` attribute value for the `performanceCounters` element specified in the Machine.config file is used, causing additional overhead for configuration file processing.</span></span> <span data-ttu-id="ede04-143">您可以藉由設定登錄中的檔案對應大小，達成應用程式啟動的效能改善。</span><span class="sxs-lookup"><span data-stu-id="ede04-143">You can realize a performance improvement for application startup by setting the file mapping size in the registry.</span></span> <span data-ttu-id="ede04-144">如需有關檔案對應大小的詳細資訊，請參閱[ &lt;performanceCounters&gt;](~/docs/framework/configure-apps/file-schema/trace-debug/performancecounters-element.md)。</span><span class="sxs-lookup"><span data-stu-id="ede04-144">For more information about the file mapping size, see [&lt;performanceCounters&gt;](~/docs/framework/configure-apps/file-schema/trace-debug/performancecounters-element.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="ede04-145">下列程式碼範例示範如何使用<xref:System.Diagnostics.PerformanceCounter>類別來建立和使用<xref:System.Diagnostics.PerformanceCounterType.AverageCount64>計數器型別。</span><span class="sxs-lookup"><span data-stu-id="ede04-145">The following code example demonstrates the use of the <xref:System.Diagnostics.PerformanceCounter> class to create and use an <xref:System.Diagnostics.PerformanceCounterType.AverageCount64> counter type.</span></span> <span data-ttu-id="ede04-146">此範例會建立類別、 設定計數器時，會收集資料，從計數器，然後呼叫<xref:System.Diagnostics.CounterSampleCalculator>解譯效能計數器資料的類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-146">The example creates categories, sets up counters, collects data from the counters, and calls the <xref:System.Diagnostics.CounterSampleCalculator> class to interpret the performance counter data.</span></span> <span data-ttu-id="ede04-147">中繼和最終結果會顯示在主控台視窗中。</span><span class="sxs-lookup"><span data-stu-id="ede04-147">The intermediate and final results are displayed in the console window.</span></span> <span data-ttu-id="ede04-148">如需的其他效能計數器類型的其他範例，請參閱<xref:System.Diagnostics.PerformanceCounterType>列舉型別。</span><span class="sxs-lookup"><span data-stu-id="ede04-148">For additional examples of other performance counter types, see the <xref:System.Diagnostics.PerformanceCounterType> enumeration.</span></span>  
  
 [!code-cpp[PerformanceCounterType.AverageCounter64#1](~/samples/snippets/cpp/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/CPP/averagecount32.cpp#1)]
 [!code-csharp[PerformanceCounterType.AverageCounter64#1](~/samples/snippets/csharp/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/CS/averagecount32.cs#1)]
 [!code-vb[PerformanceCounterType.AverageCounter64#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/VB/averagecount32.vb#1)]  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Diagnostics.PerformanceCounterType" />
    <altmember cref="T:System.Diagnostics.CounterCreationData" />
    <altmember cref="T:System.Diagnostics.CounterCreationDataCollection" />
    <altmember cref="T:System.Diagnostics.CounterSample" />
    <altmember cref="T:System.Diagnostics.CounterSampleCalculator" />
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <permission cref="F:System.Security.Permissions.SecurityAction.LinkDemand">
          <span data-ttu-id="ede04-149">針對完全信任立即呼叫端。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-149">for full trust for the immediate caller.</span>
          </span>
          <span data-ttu-id="ede04-150">這個類別不能由部分信任的程式碼。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-150">This class cannot be used by partially trusted code.</span>
          </span>
        </permission>
        <summary>
          <span data-ttu-id="ede04-151">初始化 <see cref="T:System.Diagnostics.PerformanceCounter" /> 類別的新執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-151">Initializes a new instance of the <see cref="T:System.Diagnostics.PerformanceCounter" /> class.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public PerformanceCounter ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; PerformanceCounter();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="ede04-152">初始化 <see cref="T:System.Diagnostics.PerformanceCounter" /> 類別的新的、唯讀的執行個體，而不將執行個體與任何系統或自訂效能計數器相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-152">Initializes a new, read-only instance of the <see cref="T:System.Diagnostics.PerformanceCounter" /> class, without associating the instance with any system or custom performance counter.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-153">這個多載的建構函式集合<xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>，和<xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>屬性為空字串 ("")，並設定<xref:System.Diagnostics.PerformanceCounter.MachineName%2A>到本機電腦中，屬性 ("。")。</span><span class="sxs-lookup"><span data-stu-id="ede04-153">This overload of the constructor sets the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>, and <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A> properties to empty strings (""), and sets the <xref:System.Diagnostics.PerformanceCounter.MachineName%2A> property to the local computer, (".").</span></span>  
  
 <span data-ttu-id="ede04-154">這個建構函式不會初始化效能計數器，因此它不會將執行個體關聯的本機電腦上現有的計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-154">This constructor does not initialize the performance counter, so it does not associate the instance with an existing counter on the local computer.</span></span> <span data-ttu-id="ede04-155">若要指向特定的效能計數器，設定<xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>，並選擇性地<xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>和<xref:System.Diagnostics.PerformanceCounter.MachineName%2A>之前讀取任何其他屬性，或嘗試從計數器讀取的屬性。</span><span class="sxs-lookup"><span data-stu-id="ede04-155">To point to a specific performance counter, set the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>, and, optionally, the <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A> and <xref:System.Diagnostics.PerformanceCounter.MachineName%2A> properties before reading any other properties or attempting to read from a counter.</span></span> <span data-ttu-id="ede04-156">若要寫入的效能計數器，請設定<xref:System.Diagnostics.PerformanceCounter.ReadOnly%2A>屬性設`false`。</span><span class="sxs-lookup"><span data-stu-id="ede04-156">To write to a performance counter, set the <xref:System.Diagnostics.PerformanceCounter.ReadOnly%2A> property to `false`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-157"><xref:System.Security.Permissions.HostProtectionAttribute>套用至這個成員的屬性具有下列<xref:System.Security.Permissions.HostProtectionAttribute.Resources%2A>屬性值： <xref:System.Security.Permissions.HostProtectionResource.Synchronization> &#124; <xref:System.Security.Permissions.HostProtectionResource.SharedState>。</span><span class="sxs-lookup"><span data-stu-id="ede04-157">The <xref:System.Security.Permissions.HostProtectionAttribute> attribute applied to this member has the following <xref:System.Security.Permissions.HostProtectionAttribute.Resources%2A> property value: <xref:System.Security.Permissions.HostProtectionResource.Synchronization> &#124; <xref:System.Security.Permissions.HostProtectionResource.SharedState>.</span></span> <span data-ttu-id="ede04-158"><xref:System.Security.Permissions.HostProtectionAttribute> 不會影響桌面應用程式 (這些應用程式的啟動方式一般都是按兩下圖示、輸入命令或在瀏覽器輸入 URL)。</span><span class="sxs-lookup"><span data-stu-id="ede04-158">The <xref:System.Security.Permissions.HostProtectionAttribute> does not affect desktop applications (which are typically started by double-clicking an icon, typing a command, or entering a URL in a browser).</span></span> <span data-ttu-id="ede04-159">如需詳細資訊，請參閱 <<c0> <xref:System.Security.Permissions.HostProtectionAttribute> 類別或[SQL Server 程式設計和主機保護屬性](~/docs/framework/performance/sql-server-programming-and-host-protection-attributes.md)。</span><span class="sxs-lookup"><span data-stu-id="ede04-159">For more information, see the <xref:System.Security.Permissions.HostProtectionAttribute> class or [SQL Server Programming and Host Protection Attributes](~/docs/framework/performance/sql-server-programming-and-host-protection-attributes.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="ede04-160">下列程式碼範例會建立預設執行個體<xref:System.Diagnostics.PerformanceCounter>類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-160">The following code example creates a default instance of the <xref:System.Diagnostics.PerformanceCounter> class.</span></span> <span data-ttu-id="ede04-161">建立執行個體之後， <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>，並<xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>屬性值已設定，而且若要呼叫的結果<xref:System.Diagnostics.PerformanceCounter.NextValue%2A>方法會顯示。</span><span class="sxs-lookup"><span data-stu-id="ede04-161">After the instance is created, the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>, and <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A> property values are set, and the results of a call to the <xref:System.Diagnostics.PerformanceCounter.NextValue%2A> method are displayed.</span></span>  
  
 [!code-cpp[PerfCounter#1](~/samples/snippets/cpp/VS_Snippets_CLR/PerfCounter/CPP/perfcounter.cpp#1)]
 [!code-csharp[PerfCounter#1](~/samples/snippets/csharp/VS_Snippets_CLR/PerfCounter/CS/perfcounter.cs#1)]
 [!code-vb[PerfCounter#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/PerfCounter/VB/perfcounter.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-162">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-162">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-163">如果寫入的效能計數器分類<see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" />屬性是<see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-163">for writing the performance counter category if the <see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" /> property is <see langword="false" />.</span>
          </span>
          <span data-ttu-id="ede04-164">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-164">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />.</span>
          </span>
        </permission>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public PerformanceCounter (string categoryName, string counterName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string categoryName, string counterName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.#ctor(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (categoryName As String, counterName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; PerformanceCounter(System::String ^ categoryName, System::String ^ counterName);" />
      <MemberSignature Language="F#" Value="new System.Diagnostics.PerformanceCounter : string * string -&gt; System.Diagnostics.PerformanceCounter" Usage="new System.Diagnostics.PerformanceCounter (categoryName, counterName)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="categoryName" Type="System.String" />
        <Parameter Name="counterName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="categoryName">
          <span data-ttu-id="ede04-165">與這個效能計數器相關的效能計數器分類 (效能物件) 名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-165">The name of the performance counter category (performance object) with which this performance counter is associated.</span>
          </span>
        </param>
        <param name="counterName">
          <span data-ttu-id="ede04-166">效能計數器的名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-166">The name of the performance counter.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="ede04-167">初始化 <see cref="T:System.Diagnostics.PerformanceCounter" /> 類別的新的、唯讀的執行個體，並將其與本機電腦上指定的系統或自訂效能計數器相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-167">Initializes a new, read-only instance of the <see cref="T:System.Diagnostics.PerformanceCounter" /> class and associates it with the specified system or custom performance counter on the local computer.</span>
          </span>
          <span data-ttu-id="ede04-168">這個建構函式 (Constructor) 要求分類包含單一執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-168">This constructor requires that the category have a single instance.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-169">參數的字串不區分大小寫。</span><span class="sxs-lookup"><span data-stu-id="ede04-169">The parameter strings are not case-sensitive.</span></span>  
  
 <span data-ttu-id="ede04-170">您可以使用這個多載來存取屬於分類包含單一效能計數器分類執行個體的本機電腦上的計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-170">Use this overload to access a counter on the local computer that belongs to a category containing a single performance counter category instance.</span></span> <span data-ttu-id="ede04-171">如果您嘗試使用這個建構函式指向這<xref:System.Diagnostics.PerformanceCounter>類別目錄包含多個執行個體，則建構函式會擲回的例外狀況的執行個體。</span><span class="sxs-lookup"><span data-stu-id="ede04-171">If you attempt to use this constructor to point this <xref:System.Diagnostics.PerformanceCounter> instance to a category that contains multiple instances, the constructor throws an exception.</span></span> <span data-ttu-id="ede04-172">這個多載可以存取任何唯讀或讀取/寫入計數器，但不會以唯讀模式。</span><span class="sxs-lookup"><span data-stu-id="ede04-172">This overload can access any read-only or read/write counter, but does so in a read-only mode.</span></span> <span data-ttu-id="ede04-173">A<xref:System.Diagnostics.PerformanceCounter>使用這個多載所建立的執行個體無法寫入的計數器，即使計數器本身是可讀寫。</span><span class="sxs-lookup"><span data-stu-id="ede04-173">A <xref:System.Diagnostics.PerformanceCounter> instance created using this overload cannot write to the counter, even if the counter itself is read/write.</span></span>  
  
 <span data-ttu-id="ede04-174">這個多載的建構函式集合<xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>和<xref:System.Diagnostics.PerformanceCounter.CounterName%2A>屬性的值您傳入，、 設定<xref:System.Diagnostics.PerformanceCounter.MachineName%2A>到本機電腦中，屬性"。"，並設定<xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>屬性設為空字串 ("")。</span><span class="sxs-lookup"><span data-stu-id="ede04-174">This overload of the constructor sets the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A> and <xref:System.Diagnostics.PerformanceCounter.CounterName%2A> properties to the values you pass in, sets the <xref:System.Diagnostics.PerformanceCounter.MachineName%2A> property to the local computer, ".", and sets the <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A> property to an empty string ("").</span></span>  
  
 <span data-ttu-id="ede04-175">這個建構函式會初始化效能計數器，並將執行個體與本機電腦上的現有計數器 （系統或自訂計數器） 相關聯。</span><span class="sxs-lookup"><span data-stu-id="ede04-175">This constructor initializes the performance counter and associates the instance with an existing counter (either a system or a custom counter) on the local computer.</span></span> <span data-ttu-id="ede04-176">您為傳入的值<xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>和<xref:System.Diagnostics.PerformanceCounter.CounterName%2A>屬性必須指向本機電腦上的現有效能計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-176">The values that you pass in for the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A> and <xref:System.Diagnostics.PerformanceCounter.CounterName%2A> properties must point to an existing performance counter on the local computer.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-177">若要閱讀 Windows Vista、 Windows XP Professional x64 Edition 或 Windows Server 2003 中的效能計數器，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-177">To read performance counters in Windows Vista, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="ede04-178">若要避免將權限來存取效能計數器，Windows Vista 中的提高，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="ede04-178">To avoid having to elevate your privileges to access performance counters in Windows Vista, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="ede04-179">在 Windows Vista 中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-179">In Windows Vista, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="ede04-180">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="ede04-180">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="ede04-181">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="ede04-181">By default, you are in the standard user role.</span></span> <span data-ttu-id="ede04-182">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="ede04-182">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="ede04-183">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-183">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-184">
            <paramref name="categoryName" />為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-184">
              <paramref name="categoryName" /> is an empty string ("").</span>
          </span>
          <span data-ttu-id="ede04-185">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-185">-or-</span>
          </span>
          <span data-ttu-id="ede04-186">
            <paramref name="counterName" />為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-186">
              <paramref name="counterName" /> is an empty string ("").</span>
          </span>
          <span data-ttu-id="ede04-187">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-187">-or-</span>
          </span>
          <span data-ttu-id="ede04-188">指定的分類不存在。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-188">The category specified does not exist.</span>
          </span>
          <span data-ttu-id="ede04-189">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-189">-or-</span>
          </span>
          <span data-ttu-id="ede04-190">指定的分類會標記為多執行個體，而且需要以執行個體名稱建立效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-190">The category specified is marked as multi-instance and requires the performance counter to be created with an instance name.</span>
          </span>
          <span data-ttu-id="ede04-191">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-191">-or-</span>
          </span>
          <span data-ttu-id="ede04-192">
            <paramref name="categoryName" /> 和 <paramref name="counterName" /> 已經當地語系化成不同的語言。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-192">
              <paramref name="categoryName" /> and <paramref name="counterName" /> have been localized into different languages.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="ede04-193">
            <paramref name="categoryName" /> 或 <paramref name="counterName" /> 是 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-193">
              <paramref name="categoryName" /> or <paramref name="counterName" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="ede04-194">在存取系統 API 時發生錯誤 </span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-194">An error occurred when accessing a system API.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-195">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-195">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="ede04-196">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-196">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-197">如果寫入的效能計數器分類<see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" />屬性是<see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-197">for writing the performance counter category if the <see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" /> property is <see langword="false" />.</span>
          </span>
          <span data-ttu-id="ede04-198">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-198">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />.</span>
          </span>
        </permission>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public PerformanceCounter (string categoryName, string counterName, bool readOnly);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string categoryName, string counterName, bool readOnly) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.#ctor(System.String,System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (categoryName As String, counterName As String, readOnly As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; PerformanceCounter(System::String ^ categoryName, System::String ^ counterName, bool readOnly);" />
      <MemberSignature Language="F#" Value="new System.Diagnostics.PerformanceCounter : string * string * bool -&gt; System.Diagnostics.PerformanceCounter" Usage="new System.Diagnostics.PerformanceCounter (categoryName, counterName, readOnly)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="categoryName" Type="System.String" />
        <Parameter Name="counterName" Type="System.String" />
        <Parameter Name="readOnly" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="categoryName">
          <span data-ttu-id="ede04-199">與這個效能計數器相關的效能計數器分類 (效能物件) 名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-199">The name of the performance counter category (performance object) with which this performance counter is associated.</span>
          </span>
        </param>
        <param name="counterName">
          <span data-ttu-id="ede04-200">效能計數器的名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-200">The name of the performance counter.</span>
          </span>
        </param>
        <param name="readOnly">
          <span data-ttu-id="ede04-201">若要以唯讀模式存取計數器 (不過計數器本身可以讀取/寫入)，則為 <see langword="true" />；若要以讀取/寫入模式存取計數器，則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-201">
              <see langword="true" /> to access the counter in read-only mode (although the counter itself could be read/write); <see langword="false" /> to access the counter in read/write mode.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="ede04-202">初始化 <see cref="T:System.Diagnostics.PerformanceCounter" /> 類別的新的、唯讀或讀取/寫入執行個體，並將其與本機電腦上指定的系統或自訂效能計數器相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-202">Initializes a new, read-only or read/write instance of the <see cref="T:System.Diagnostics.PerformanceCounter" /> class and associates it with the specified system or custom performance counter on the local computer.</span>
          </span>
          <span data-ttu-id="ede04-203">這個建構函式要求分類包含單一執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-203">This constructor requires that the category contain a single instance.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-204">參數的字串不區分大小寫。</span><span class="sxs-lookup"><span data-stu-id="ede04-204">The parameter strings are not case-sensitive.</span></span>  
  
 <span data-ttu-id="ede04-205">使用此多載，可存取的唯讀或讀取/寫入屬於分類包含單一效能計數器分類執行個體的本機電腦上的計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-205">Use this overload to access a read-only or read/write counter on the local computer that belongs to a category containing a single performance counter category instance.</span></span> <span data-ttu-id="ede04-206">如果您嘗試使用這個建構函式指向這<xref:System.Diagnostics.PerformanceCounter>類別目錄包含多個執行個體，則建構函式會擲回的例外狀況的執行個體。</span><span class="sxs-lookup"><span data-stu-id="ede04-206">If you attempt to use this constructor to point this <xref:System.Diagnostics.PerformanceCounter> instance to a category that contains multiple instances, the constructor throws an exception.</span></span>  
  
 <span data-ttu-id="ede04-207">這個多載的建構函式集合<xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>，和<xref:System.Diagnostics.PerformanceCounter.ReadOnly%2A>屬性的值您傳入，、 設定<xref:System.Diagnostics.PerformanceCounter.MachineName%2A>到本機電腦中，屬性"。"，並設定<xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>屬性設為空字串 ("")。</span><span class="sxs-lookup"><span data-stu-id="ede04-207">This overload of the constructor sets the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>, and <xref:System.Diagnostics.PerformanceCounter.ReadOnly%2A> properties to the values you pass in, sets the <xref:System.Diagnostics.PerformanceCounter.MachineName%2A> property to the local computer, ".", and sets the <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A> property to an empty string ("").</span></span>  
  
 <span data-ttu-id="ede04-208">這個建構函式會初始化效能計數器，並將執行個體與本機電腦上的現有計數器 （系統或自訂計數器） 相關聯。</span><span class="sxs-lookup"><span data-stu-id="ede04-208">This constructor initializes the performance counter and associates the instance with an existing counter (either a system or a custom counter) on the local computer.</span></span> <span data-ttu-id="ede04-209">您為傳入的值<xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>和<xref:System.Diagnostics.PerformanceCounter.CounterName%2A>屬性必須指向本機電腦上的現有效能計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-209">The values that you pass in for the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A> and <xref:System.Diagnostics.PerformanceCounter.CounterName%2A> properties must point to an existing performance counter on the local computer.</span></span> <span data-ttu-id="ede04-210">如果您指向的效能計數器執行個體不是有效的則呼叫建構函式會擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="ede04-210">If the performance counter instance that you point to is not valid, calling the constructor throws an exception.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-211">您可以使用這個多載來連接到系統的計數器，但您無法寫入至系統計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-211">You can use this overload to connect to a system counter, but you cannot write to a system counter.</span></span> <span data-ttu-id="ede04-212">因此，設定`readOnly`至`false`當連接到系統計數器會導致擲回例外狀況的建構函式。</span><span class="sxs-lookup"><span data-stu-id="ede04-212">Therefore, setting `readOnly` to `false` when connecting to a system counter causes the constructor to throw an exception.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-213">若要閱讀 Windows Vista、 Windows XP Professional x64 Edition 或 Windows Server 2003 中的效能計數器，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-213">To read performance counters in Windows Vista, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="ede04-214">若要避免將權限來存取效能計數器，Windows Vista 中的提高，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="ede04-214">To avoid having to elevate your privileges to access performance counters in Windows Vista, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="ede04-215">在 Windows Vista 中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-215">In Windows Vista, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="ede04-216">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="ede04-216">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="ede04-217">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="ede04-217">By default, you are in the standard user role.</span></span> <span data-ttu-id="ede04-218">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="ede04-218">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="ede04-219">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-219">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="ede04-220">下列程式碼範例建立的執行個體<xref:System.Diagnostics.PerformanceCounter>類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-220">The following code example creates an instance of the <xref:System.Diagnostics.PerformanceCounter> class.</span></span> <span data-ttu-id="ede04-221">此範例會傳入類別目錄名稱、 計數器名稱和旗標值，指出此計數器不唯讀的。</span><span class="sxs-lookup"><span data-stu-id="ede04-221">The example passes in category names, counter names, and a flag value indicating that the counter is not read-only.</span></span> <span data-ttu-id="ede04-222">這個程式碼範例是針對較大範例的一部分<xref:System.Diagnostics.PerformanceCounter>類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-222">This code example is part of a larger example for the <xref:System.Diagnostics.PerformanceCounter> class.</span></span>  
  
 [!code-cpp[PerformanceCounterType.AverageCounter64#2](~/samples/snippets/cpp/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/CPP/averagecount32.cpp#2)]
 [!code-csharp[PerformanceCounterType.AverageCounter64#2](~/samples/snippets/csharp/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/CS/averagecount32.cs#2)]
 [!code-vb[PerformanceCounterType.AverageCounter64#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/VB/averagecount32.vb#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-223">
            <paramref name="categoryName" /> 為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-223">The <paramref name="categoryName" /> is an empty string ("").</span>
          </span>
          <span data-ttu-id="ede04-224">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-224">-or-</span>
          </span>
          <span data-ttu-id="ede04-225">
            <paramref name="counterName" /> 為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-225">The <paramref name="counterName" /> is an empty string ("").</span>
          </span>
          <span data-ttu-id="ede04-226">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-226">-or-</span>
          </span>
          <span data-ttu-id="ede04-227">指定的分類不存在。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-227">The category specified does not exist.</span>
          </span>
          <span data-ttu-id="ede04-228">(如果 <paramref name="readOnly" /> 為 <see langword="true" />)。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-228">(if <paramref name="readOnly" /> is <see langword="true" />).</span>
          </span>
          <span data-ttu-id="ede04-229">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-229">-or-</span>
          </span>
          <span data-ttu-id="ede04-230">指定的分類不是 .NET Framework 自訂分類 (如果 <paramref name="readOnly" /> 為 <see langword="false" />)。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-230">The category specified is not a .NET Framework custom category (if <paramref name="readOnly" /> is <see langword="false" />).</span>
          </span>
          <span data-ttu-id="ede04-231">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-231">-or-</span>
          </span>
          <span data-ttu-id="ede04-232">指定的分類會標記為多執行個體，而且需要以執行個體名稱建立效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-232">The category specified is marked as multi-instance and requires the performance counter to be created with an instance name.</span>
          </span>
          <span data-ttu-id="ede04-233">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-233">-or-</span>
          </span>
          <span data-ttu-id="ede04-234">
            <paramref name="categoryName" /> 和 <paramref name="counterName" /> 已經當地語系化成不同的語言。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-234">
              <paramref name="categoryName" /> and <paramref name="counterName" /> have been localized into different languages.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="ede04-235">
            <paramref name="categoryName" /> 或 <paramref name="counterName" /> 是 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-235">
              <paramref name="categoryName" /> or <paramref name="counterName" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="ede04-236">在存取系統 API 時發生錯誤 </span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-236">An error occurred when accessing a system API.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-237">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-237">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="ede04-238">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-238">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-239">如果寫入的效能計數器分類<see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" />屬性是<see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-239">for writing the performance counter category if the <see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" /> property is <see langword="false" />.</span>
          </span>
          <span data-ttu-id="ede04-240">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-240">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />.</span>
          </span>
        </permission>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public PerformanceCounter (string categoryName, string counterName, string instanceName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string categoryName, string counterName, string instanceName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.#ctor(System.String,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (categoryName As String, counterName As String, instanceName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; PerformanceCounter(System::String ^ categoryName, System::String ^ counterName, System::String ^ instanceName);" />
      <MemberSignature Language="F#" Value="new System.Diagnostics.PerformanceCounter : string * string * string -&gt; System.Diagnostics.PerformanceCounter" Usage="new System.Diagnostics.PerformanceCounter (categoryName, counterName, instanceName)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="categoryName" Type="System.String" />
        <Parameter Name="counterName" Type="System.String" />
        <Parameter Name="instanceName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="categoryName">
          <span data-ttu-id="ede04-241">與這個效能計數器相關的效能計數器分類 (效能物件) 名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-241">The name of the performance counter category (performance object) with which this performance counter is associated.</span>
          </span>
        </param>
        <param name="counterName">
          <span data-ttu-id="ede04-242">效能計數器的名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-242">The name of the performance counter.</span>
          </span>
        </param>
        <param name="instanceName">
          <span data-ttu-id="ede04-243">效能計數器分類執行個體的名稱；如果分類含有單一執行個體，則為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-243">The name of the performance counter category instance, or an empty string (""), if the category contains a single instance.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="ede04-244">初始化 <see cref="T:System.Diagnostics.PerformanceCounter" /> 類別的新的、唯讀的執行個體，並將其與本機電腦上指定的系統或自訂效能計數器和分類執行個體相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-244">Initializes a new, read-only instance of the <see cref="T:System.Diagnostics.PerformanceCounter" /> class and associates it with the specified system or custom performance counter and category instance on the local computer.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-245">參數的字串不區分大小寫。</span><span class="sxs-lookup"><span data-stu-id="ede04-245">The parameter strings are not case-sensitive.</span></span>  
  
 <span data-ttu-id="ede04-246">這個多載的建構函式集合<xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>，並<xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>屬性的值，並設定<xref:System.Diagnostics.PerformanceCounter.MachineName%2A>屬性到本機電腦中，"。"。</span><span class="sxs-lookup"><span data-stu-id="ede04-246">This overload of the constructor sets the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>, and <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A> properties to the values you pass in, and sets the <xref:System.Diagnostics.PerformanceCounter.MachineName%2A> property to the local computer, ".".</span></span>  
  
 <span data-ttu-id="ede04-247">這個建構函式會初始化效能計數器，並將執行個體與本機電腦上的現有計數器 （系統或自訂計數器） 相關聯。</span><span class="sxs-lookup"><span data-stu-id="ede04-247">This constructor initializes the performance counter and associates the instance with an existing counter (either a system or a custom counter) on the local computer.</span></span> <span data-ttu-id="ede04-248">您為傳入的值<xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>，和<xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>屬性必須指向本機電腦上的現有效能計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-248">The values that you pass in for the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>, and <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A> properties must point to an existing performance counter on the local computer.</span></span> <span data-ttu-id="ede04-249">如果您指向的效能計數器執行個體不是有效的則呼叫建構函式會擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="ede04-249">If the performance counter instance you point to is not valid, calling the constructor throws an exception.</span></span>  
  
 <span data-ttu-id="ede04-250">這個多載可以存取任何唯讀或讀取/寫入計數器，但不會以唯讀模式。</span><span class="sxs-lookup"><span data-stu-id="ede04-250">This overload can access any read-only or read/write counter, but does so in a read-only mode.</span></span> <span data-ttu-id="ede04-251">A<xref:System.Diagnostics.PerformanceCounter>使用這個多載所建立的執行個體無法寫入的計數器，即使計數器本身是可讀寫。</span><span class="sxs-lookup"><span data-stu-id="ede04-251">A <xref:System.Diagnostics.PerformanceCounter> instance created using this overload cannot write to the counter, even if the counter itself is read/write.</span></span>  
  
 <span data-ttu-id="ede04-252">若要建立效能類別執行個體，指定`instanceName`上<xref:System.Diagnostics.PerformanceCounter.%23ctor%2A>建構函式。</span><span class="sxs-lookup"><span data-stu-id="ede04-252">To create a performance category instance, specify an `instanceName` on the <xref:System.Diagnostics.PerformanceCounter.%23ctor%2A> constructor.</span></span> <span data-ttu-id="ede04-253">如果所指定的類別執行個體`instanceName`已經存在新的物件會參考現有的類別執行個體。</span><span class="sxs-lookup"><span data-stu-id="ede04-253">If the category instance specified by `instanceName` already exists the new object will reference the existing category instance.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-254">若要閱讀 Windows Vista、 Windows XP Professional x64 Edition 或 Windows Server 2003 中的效能計數器，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-254">To read performance counters in Windows Vista, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="ede04-255">若要避免將權限來存取效能計數器，Windows Vista 中的提高，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="ede04-255">To avoid having to elevate your privileges to access performance counters in Windows Vista, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="ede04-256">在 Windows Vista 中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-256">In Windows Vista, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="ede04-257">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="ede04-257">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="ede04-258">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="ede04-258">By default, you are in the standard user role.</span></span> <span data-ttu-id="ede04-259">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="ede04-259">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="ede04-260">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-260">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-261">
            <paramref name="categoryName" />為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-261">
              <paramref name="categoryName" /> is an empty string ("").</span>
          </span>
          <span data-ttu-id="ede04-262">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-262">-or-</span>
          </span>
          <span data-ttu-id="ede04-263">
            <paramref name="counterName" />為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-263">
              <paramref name="counterName" /> is an empty string ("").</span>
          </span>
          <span data-ttu-id="ede04-264">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-264">-or-</span>
          </span>
          <span data-ttu-id="ede04-265">指定的分類無效。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-265">The category specified is not valid.</span>
          </span>
          <span data-ttu-id="ede04-266">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-266">-or-</span>
          </span>
          <span data-ttu-id="ede04-267">指定的分類會標記為多執行個體，而且需要以執行個體名稱建立效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-267">The category specified is marked as multi-instance and requires the performance counter to be created with an instance name.</span>
          </span>
          <span data-ttu-id="ede04-268">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-268">-or-</span>
          </span>
          <span data-ttu-id="ede04-269">
            <paramref name="instanceName" /> 長度超過 127 個字元。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-269">
              <paramref name="instanceName" /> is longer than 127 characters.</span>
          </span>
          <span data-ttu-id="ede04-270">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-270">-or-</span>
          </span>
          <span data-ttu-id="ede04-271">
            <paramref name="categoryName" /> 和 <paramref name="counterName" /> 已經當地語系化成不同的語言。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-271">
              <paramref name="categoryName" /> and <paramref name="counterName" /> have been localized into different languages.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="ede04-272">
            <paramref name="categoryName" /> 或 <paramref name="counterName" /> 是 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-272">
              <paramref name="categoryName" /> or <paramref name="counterName" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="ede04-273">在存取系統 API 時發生錯誤 </span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-273">An error occurred when accessing a system API.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-274">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-274">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="ede04-275">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-275">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-276">如果寫入的效能計數器分類<see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" />屬性是<see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-276">for writing the performance counter category if the <see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" /> property is <see langword="false" />.</span>
          </span>
          <span data-ttu-id="ede04-277">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-277">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />.</span>
          </span>
        </permission>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public PerformanceCounter (string categoryName, string counterName, string instanceName, bool readOnly);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string categoryName, string counterName, string instanceName, bool readOnly) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.#ctor(System.String,System.String,System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (categoryName As String, counterName As String, instanceName As String, readOnly As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; PerformanceCounter(System::String ^ categoryName, System::String ^ counterName, System::String ^ instanceName, bool readOnly);" />
      <MemberSignature Language="F#" Value="new System.Diagnostics.PerformanceCounter : string * string * string * bool -&gt; System.Diagnostics.PerformanceCounter" Usage="new System.Diagnostics.PerformanceCounter (categoryName, counterName, instanceName, readOnly)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="categoryName" Type="System.String" />
        <Parameter Name="counterName" Type="System.String" />
        <Parameter Name="instanceName" Type="System.String" />
        <Parameter Name="readOnly" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="categoryName">
          <span data-ttu-id="ede04-278">與這個效能計數器相關的效能計數器分類 (效能物件) 名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-278">The name of the performance counter category (performance object) with which this performance counter is associated.</span>
          </span>
        </param>
        <param name="counterName">
          <span data-ttu-id="ede04-279">效能計數器的名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-279">The name of the performance counter.</span>
          </span>
        </param>
        <param name="instanceName">
          <span data-ttu-id="ede04-280">效能計數器分類執行個體的名稱；如果分類含有單一執行個體，則為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-280">The name of the performance counter category instance, or an empty string (""), if the category contains a single instance.</span>
          </span>
        </param>
        <param name="readOnly">
          <span data-ttu-id="ede04-281">若要以唯讀模式存取計數器，則為 <see langword="true" />；若要以讀取/寫入模式存取計數器，則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-281">
              <see langword="true" /> to access a counter in read-only mode; <see langword="false" /> to access a counter in read/write mode.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="ede04-282">初始化 <see cref="T:System.Diagnostics.PerformanceCounter" /> 類別的新的、唯讀或讀取/寫入執行個體，並將其與本機電腦上指定的系統或自訂效能計數器和分類執行個體相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-282">Initializes a new, read-only or read/write instance of the <see cref="T:System.Diagnostics.PerformanceCounter" /> class and associates it with the specified system or custom performance counter and category instance on the local computer.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-283">參數的字串不區分大小寫。</span><span class="sxs-lookup"><span data-stu-id="ede04-283">The parameter strings are not case-sensitive.</span></span>  
  
 <span data-ttu-id="ede04-284">使用此多載來存取效能計數器在唯讀或讀取/寫入模式。</span><span class="sxs-lookup"><span data-stu-id="ede04-284">Use this overload to access a performance counter in either read-only or read/write mode.</span></span>  
  
 <span data-ttu-id="ede04-285">這個多載的建構函式集合<xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>，並<xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>傳遞它和集合中屬性的值<xref:System.Diagnostics.PerformanceCounter.MachineName%2A>屬性到本機電腦中，"。"。</span><span class="sxs-lookup"><span data-stu-id="ede04-285">This overload of the constructor sets the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>, and <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A> properties to the values you pass in, it and sets the <xref:System.Diagnostics.PerformanceCounter.MachineName%2A> property to the local computer, ".".</span></span>  
  
 <span data-ttu-id="ede04-286">這個建構函式會初始化效能計數器，並將執行個體與本機電腦上的現有計數器 （系統或自訂計數器） 相關聯。</span><span class="sxs-lookup"><span data-stu-id="ede04-286">This constructor initializes the performance counter and associates the instance with an existing counter (either a system or a custom counter) on the local computer.</span></span> <span data-ttu-id="ede04-287">您為傳入的值<xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>，和<xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>屬性必須指向本機電腦上的現有效能計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-287">The values that you pass in for the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>, and <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A> properties must point to an existing performance counter on the local computer.</span></span> <span data-ttu-id="ede04-288">如果您指向的效能計數器執行個體不是有效的則呼叫建構函式會擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="ede04-288">If the performance counter instance that you point to is not valid, calling the constructor throws an exception.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-289">您可以使用這個多載來連接到系統的計數器，但您無法寫入至系統計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-289">You can use this overload to connect to a system counter, but you cannot write to a system counter.</span></span> <span data-ttu-id="ede04-290">因此，設定`readOnly`至`false`當連接到系統計數器會導致擲回例外狀況的建構函式。</span><span class="sxs-lookup"><span data-stu-id="ede04-290">Therefore, setting `readOnly` to `false` when connecting to a system counter causes the constructor to throw an exception.</span></span>  
  
 <span data-ttu-id="ede04-291">若要建立效能類別執行個體，指定`instanceName`上<xref:System.Diagnostics.PerformanceCounter.%23ctor%2A>建構函式。</span><span class="sxs-lookup"><span data-stu-id="ede04-291">To create a performance category instance, specify an `instanceName` on the <xref:System.Diagnostics.PerformanceCounter.%23ctor%2A> constructor.</span></span> <span data-ttu-id="ede04-292">如果所指定的類別執行個體`instanceName`已經存在新的物件會參考現有的類別執行個體。</span><span class="sxs-lookup"><span data-stu-id="ede04-292">If the category instance specified by `instanceName` already exists the new object will reference the existing category instance.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-293">若要閱讀 Windows Vista、 Windows XP Professional x64 Edition 或 Windows Server 2003 中的效能計數器，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-293">To read performance counters in Windows Vista, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="ede04-294">若要避免將權限來存取效能計數器，Windows Vista 中的提高，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="ede04-294">To avoid having to elevate your privileges to access performance counters in Windows Vista, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="ede04-295">在 Windows Vista 中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-295">In Windows Vista, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="ede04-296">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="ede04-296">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="ede04-297">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="ede04-297">By default, you are in the standard user role.</span></span> <span data-ttu-id="ede04-298">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="ede04-298">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="ede04-299">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-299">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-300">
            <paramref name="categoryName" />為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-300">
              <paramref name="categoryName" /> is an empty string ("").</span>
          </span>
          <span data-ttu-id="ede04-301">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-301">-or-</span>
          </span>
          <span data-ttu-id="ede04-302">
            <paramref name="counterName" />為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-302">
              <paramref name="counterName" /> is an empty string ("").</span>
          </span>
          <span data-ttu-id="ede04-303">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-303">-or-</span>
          </span>
          <span data-ttu-id="ede04-304">要求的讀取/寫入使用權限設定對這個計數器無效。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-304">The read/write permission setting requested is invalid for this counter.</span>
          </span>
          <span data-ttu-id="ede04-305">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-305">-or-</span>
          </span>
          <span data-ttu-id="ede04-306">指定的分類不存在 (如果 <paramref name="readOnly" /> 為 <see langword="true" />)。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-306">The category specified does not exist (if <paramref name="readOnly" /> is <see langword="true" />).</span>
          </span>
          <span data-ttu-id="ede04-307">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-307">-or-</span>
          </span>
          <span data-ttu-id="ede04-308">指定的分類不是 .NET Framework 自訂分類 (如果 <paramref name="readOnly" /> 為 <see langword="false" />)。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-308">The category specified is not a .NET Framework custom category (if <paramref name="readOnly" /> is <see langword="false" />).</span>
          </span>
          <span data-ttu-id="ede04-309">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-309">-or-</span>
          </span>
          <span data-ttu-id="ede04-310">指定的分類會標記為多執行個體，而且需要以執行個體名稱建立效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-310">The category specified is marked as multi-instance and requires the performance counter to be created with an instance name.</span>
          </span>
          <span data-ttu-id="ede04-311">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-311">-or-</span>
          </span>
          <span data-ttu-id="ede04-312">
            <paramref name="instanceName" /> 長度超過 127 個字元。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-312">
              <paramref name="instanceName" /> is longer than 127 characters.</span>
          </span>
          <span data-ttu-id="ede04-313">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-313">-or-</span>
          </span>
          <span data-ttu-id="ede04-314">
            <paramref name="categoryName" /> 和 <paramref name="counterName" /> 已經當地語系化成不同的語言。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-314">
              <paramref name="categoryName" /> and <paramref name="counterName" /> have been localized into different languages.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="ede04-315">
            <paramref name="categoryName" /> 或 <paramref name="counterName" /> 是 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-315">
              <paramref name="categoryName" /> or <paramref name="counterName" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="ede04-316">在存取系統 API 時發生錯誤 </span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-316">An error occurred when accessing a system API.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-317">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-317">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="ede04-318">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-318">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-319">如果寫入的效能計數器分類<see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" />屬性是<see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-319">for writing the performance counter category if the <see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" /> property is <see langword="false" />.</span>
          </span>
          <span data-ttu-id="ede04-320">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-320">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />.</span>
          </span>
        </permission>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public PerformanceCounter (string categoryName, string counterName, string instanceName, string machineName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string categoryName, string counterName, string instanceName, string machineName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.#ctor(System.String,System.String,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (categoryName As String, counterName As String, instanceName As String, machineName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; PerformanceCounter(System::String ^ categoryName, System::String ^ counterName, System::String ^ instanceName, System::String ^ machineName);" />
      <MemberSignature Language="F#" Value="new System.Diagnostics.PerformanceCounter : string * string * string * string -&gt; System.Diagnostics.PerformanceCounter" Usage="new System.Diagnostics.PerformanceCounter (categoryName, counterName, instanceName, machineName)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="categoryName" Type="System.String" />
        <Parameter Name="counterName" Type="System.String" />
        <Parameter Name="instanceName" Type="System.String" />
        <Parameter Name="machineName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="categoryName">
          <span data-ttu-id="ede04-321">與這個效能計數器相關的效能計數器分類 (效能物件) 名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-321">The name of the performance counter category (performance object) with which this performance counter is associated.</span>
          </span>
        </param>
        <param name="counterName">
          <span data-ttu-id="ede04-322">效能計數器的名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-322">The name of the performance counter.</span>
          </span>
        </param>
        <param name="instanceName">
          <span data-ttu-id="ede04-323">效能計數器分類執行個體的名稱；如果分類含有單一執行個體，則為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-323">The name of the performance counter category instance, or an empty string (""), if the category contains a single instance.</span>
          </span>
        </param>
        <param name="machineName">
          <span data-ttu-id="ede04-324">效能計數器和其相關聯的分類所在的電腦。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-324">The computer on which the performance counter and its associated category exist.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="ede04-325">初始化 <see cref="T:System.Diagnostics.PerformanceCounter" /> 類別的新的、唯讀的執行個體，並將其與指定電腦上指定的系統或自訂效能計數器和分類執行個體相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-325">Initializes a new, read-only instance of the <see cref="T:System.Diagnostics.PerformanceCounter" /> class and associates it with the specified system or custom performance counter and category instance, on the specified computer.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-326">參數的字串不區分大小寫。</span><span class="sxs-lookup"><span data-stu-id="ede04-326">The parameter strings are not case-sensitive.</span></span>  
  
 <span data-ttu-id="ede04-327">這個多載的建構函式集合<xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>， <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>，和<xref:System.Diagnostics.PerformanceCounter.MachineName%2A>屬性為您所傳遞的值。</span><span class="sxs-lookup"><span data-stu-id="ede04-327">This overload of the constructor sets the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>, <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>, and <xref:System.Diagnostics.PerformanceCounter.MachineName%2A> properties to the values you pass in.</span></span>  
  
 <span data-ttu-id="ede04-328">這個建構函式會初始化效能計數器，並將執行個體與指定的電腦上的現有計數器 （系統或自訂計數器） 相關聯。</span><span class="sxs-lookup"><span data-stu-id="ede04-328">This constructor initializes the performance counter and associates the instance with an existing counter (either a system or a custom counter) on the specified computer.</span></span> <span data-ttu-id="ede04-329">您為傳入的值<xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>，<xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>和<xref:System.Diagnostics.PerformanceCounter.MachineName%2A>屬性必須指向現有的效能計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-329">The values that you pass in for the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>, <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A> and <xref:System.Diagnostics.PerformanceCounter.MachineName%2A> properties must point to an existing performance counter.</span></span> <span data-ttu-id="ede04-330">如果您指向的效能計數器執行個體不是有效的則呼叫建構函式會擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="ede04-330">If the performance counter instance you point to is not valid, calling the constructor throws an exception.</span></span> <span data-ttu-id="ede04-331">這個多載可以存取任何唯讀或讀取/寫入計數器，但不會以唯讀模式。</span><span class="sxs-lookup"><span data-stu-id="ede04-331">This overload can access any read-only or read/write counter, but does so in a read-only mode.</span></span> <span data-ttu-id="ede04-332">A<xref:System.Diagnostics.PerformanceCounter>使用這個多載所建立的執行個體無法寫入的計數器，即使計數器本身是可讀寫。</span><span class="sxs-lookup"><span data-stu-id="ede04-332">A <xref:System.Diagnostics.PerformanceCounter> instance created using this overload cannot write to the counter, even if the counter itself is read/write.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-333">您無法寫入遠端效能計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-333">You cannot write to remote performance counters.</span></span> <span data-ttu-id="ede04-334">沒有任何多載，可讓您指定的讀取/寫入執行個體<xref:System.Diagnostics.PerformanceCounter>類別連接到遠端電腦。</span><span class="sxs-lookup"><span data-stu-id="ede04-334">There is no overload that allows you to specify a read/write instance of the <xref:System.Diagnostics.PerformanceCounter> class that connects to a remote computer.</span></span>  
  
 <span data-ttu-id="ede04-335">若要建立效能類別執行個體，指定`instanceName`上<xref:System.Diagnostics.PerformanceCounter.%23ctor%2A>建構函式。</span><span class="sxs-lookup"><span data-stu-id="ede04-335">To create a performance category instance, specify an `instanceName` on the <xref:System.Diagnostics.PerformanceCounter.%23ctor%2A> constructor.</span></span> <span data-ttu-id="ede04-336">如果所指定的類別執行個體`instanceName`已經存在新的物件會參考現有的類別執行個體。</span><span class="sxs-lookup"><span data-stu-id="ede04-336">If the category instance specified by `instanceName` already exists the new object will reference the existing category instance.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-337">若要閱讀 Windows Vista、 Windows XP Professional x64 Edition 或 Windows Server 2003 中的效能計數器，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-337">To read performance counters in Windows Vista, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="ede04-338">若要避免將權限來存取效能計數器，Windows Vista 中的提高，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="ede04-338">To avoid having to elevate your privileges to access performance counters in Windows Vista, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="ede04-339">在 Windows Vista 中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-339">In Windows Vista, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="ede04-340">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="ede04-340">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="ede04-341">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="ede04-341">By default, you are in the standard user role.</span></span> <span data-ttu-id="ede04-342">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="ede04-342">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="ede04-343">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-343">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-344">在 Windows Vista 中，當遠端電腦屬於工作群組中，您可能需要停用 UAC，讓本機使用者帳戶未篩選，而且可以是提高權限為系統管理員帳戶。</span><span class="sxs-lookup"><span data-stu-id="ede04-344">In Windows Vista, when the remote computer is a member of a workgroup, you may need to disable UAC so that the local user account is not filtered and can be elevated to an administrator account.</span></span> <span data-ttu-id="ede04-345">基於安全性理由，停用 UAC 應該是最後的手段。</span><span class="sxs-lookup"><span data-stu-id="ede04-345">For security reasons, disabling UAC should be a last resort.</span></span> <span data-ttu-id="ede04-346">如需有關停用 UAC，請參閱[使用者帳戶控制和 WMI](https://go.microsoft.com/fwlink/?LinkId=91617)。</span><span class="sxs-lookup"><span data-stu-id="ede04-346">For information on disabling UAC, see [User Account Control and WMI](https://go.microsoft.com/fwlink/?LinkId=91617).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-347">
            <paramref name="categoryName" />為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-347">
              <paramref name="categoryName" /> is an empty string ("").</span>
          </span>
          <span data-ttu-id="ede04-348">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-348">-or-</span>
          </span>
          <span data-ttu-id="ede04-349">
            <paramref name="counterName" />為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-349">
              <paramref name="counterName" /> is an empty string ("").</span>
          </span>
          <span data-ttu-id="ede04-350">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-350">-or-</span>
          </span>
          <span data-ttu-id="ede04-351">要求的讀取/寫入使用權限設定對這個計數器無效。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-351">The read/write permission setting requested is invalid for this counter.</span>
          </span>
          <span data-ttu-id="ede04-352">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-352">-or-</span>
          </span>
          <span data-ttu-id="ede04-353">計數器不在指定的電腦上。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-353">The counter does not exist on the specified computer.</span>
          </span>
          <span data-ttu-id="ede04-354">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-354">-or-</span>
          </span>
          <span data-ttu-id="ede04-355">指定的分類會標記為多執行個體，而且需要以執行個體名稱建立效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-355">The category specified is marked as multi-instance and requires the performance counter to be created with an instance name.</span>
          </span>
          <span data-ttu-id="ede04-356">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-356">-or-</span>
          </span>
          <span data-ttu-id="ede04-357">
            <paramref name="instanceName" /> 長度超過 127 個字元。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-357">
              <paramref name="instanceName" /> is longer than 127 characters.</span>
          </span>
          <span data-ttu-id="ede04-358">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-358">-or-</span>
          </span>
          <span data-ttu-id="ede04-359">
            <paramref name="categoryName" /> 和 <paramref name="counterName" /> 已經當地語系化成不同的語言。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-359">
              <paramref name="categoryName" /> and <paramref name="counterName" /> have been localized into different languages.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="ede04-360">
            <paramref name="machineName" /> 參數無效。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-360">The <paramref name="machineName" /> parameter is not valid.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="ede04-361">
            <paramref name="categoryName" /> 或 <paramref name="counterName" /> 是 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-361">
              <paramref name="categoryName" /> or <paramref name="counterName" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="ede04-362">在存取系統 API 時發生錯誤 </span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-362">An error occurred when accessing a system API.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-363">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-363">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="ede04-364">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-364">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-365">如果寫入的效能計數器分類<see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" />屬性是<see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-365">for writing the performance counter category if the <see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" /> property is <see langword="false" />.</span>
          </span>
          <span data-ttu-id="ede04-366">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-366">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />.</span>
          </span>
        </permission>
      </Docs>
    </Member>
    <Member MemberName="BeginInit">
      <MemberSignature Language="C#" Value="public void BeginInit ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void BeginInit() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.BeginInit" />
      <MemberSignature Language="VB.NET" Value="Public Sub BeginInit ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void BeginInit();" />
      <MemberSignature Language="F#" Value="abstract member BeginInit : unit -&gt; unit&#xA;override this.BeginInit : unit -&gt; unit" Usage="performanceCounter.BeginInit " />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.ComponentModel.ISupportInitialize.BeginInit</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="ede04-367">開始初始化用於表單或為另一元件所使用的 <see cref="T:System.Diagnostics.PerformanceCounter" /> 執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-367">Begins the initialization of a <see cref="T:System.Diagnostics.PerformanceCounter" /> instance used on a form or by another component.</span>
          </span>
          <span data-ttu-id="ede04-368">初始化會於執行階段時執行。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-368">The initialization occurs at runtime.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-369">[!INCLUDE[vsprvslong](~/includes/vsprvslong-md.md)]設計環境會使用這個方法來開始初始化用於表單或另一個元件所使用的元件。</span><span class="sxs-lookup"><span data-stu-id="ede04-369">The [!INCLUDE[vsprvslong](~/includes/vsprvslong-md.md)] design environment uses this method to start the initialization of a component that is used on a form or by another component.</span></span> <span data-ttu-id="ede04-370"><xref:System.Diagnostics.PerformanceCounter.EndInit%2A>方法結束初始化。</span><span class="sxs-lookup"><span data-stu-id="ede04-370">The <xref:System.Diagnostics.PerformanceCounter.EndInit%2A> method ends the initialization.</span></span> <span data-ttu-id="ede04-371">使用<xref:System.Diagnostics.PerformanceCounter.BeginInit%2A>和<xref:System.Diagnostics.PerformanceCounter.EndInit%2A>方法可防止元件完全初始化之前使用。</span><span class="sxs-lookup"><span data-stu-id="ede04-371">Using the <xref:System.Diagnostics.PerformanceCounter.BeginInit%2A> and <xref:System.Diagnostics.PerformanceCounter.EndInit%2A> methods prevents the component from being used before it is fully initialized.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CategoryName">
      <MemberSignature Language="C#" Value="public string CategoryName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string CategoryName" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.PerformanceCounter.CategoryName" />
      <MemberSignature Language="VB.NET" Value="Public Property CategoryName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ CategoryName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.CategoryName : string with get, set" Usage="System.Diagnostics.PerformanceCounter.CategoryName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.DefaultValue("")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.ReadOnly(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;xamarinmac-3.0">
          <AttributeName>System.ComponentModel.RecommendedAsConfigurable(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.TypeConverter("System.Diagnostics.Design.CategoryValueConverter, System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1">
          <AttributeName>System.ComponentModel.TypeConverter("System.Diagnostics.Design.CategoryValueConverter, System.Design, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5">
          <AttributeName>System.ComponentModel.TypeConverter("System.Diagnostics.Design.CategoryValueConverter, System.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.SettingsBindable(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="ede04-372">取得或設定這個效能計數器的效能計數器分類的名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-372">Gets or sets the name of the performance counter category for this performance counter.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="ede04-373">與這個效能計數器相關的效能計數器分類 (效能物件) 名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-373">The name of the performance counter category (performance object) with which this performance counter is associated.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-374"><xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>會顯示在`Performance Object`欄位的效能計數器管理員 MMC 嵌入式管理單元中的`Add Counter` 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="ede04-374">The <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A> is displayed in the `Performance Object` field of Performance Counter Manager MMC snap in's `Add Counter` dialog box.</span></span>  
  
 <span data-ttu-id="ede04-375">效能計數器會監視分類或效能物件，在電腦上的行為。</span><span class="sxs-lookup"><span data-stu-id="ede04-375">A performance counter monitors the behavior of a category, or performance object, on a computer.</span></span> <span data-ttu-id="ede04-376">類別包含實體的元件 （例如處理器、 磁碟和記憶體） 和系統物件 （例如處理程序和執行緒）。</span><span class="sxs-lookup"><span data-stu-id="ede04-376">Categories include physical components (such as processors, disks, and memory) and system objects (such as processes and threads).</span></span> <span data-ttu-id="ede04-377">系統與相同的效能物件相關的計數器會分組為類別，表示其一般的焦點。</span><span class="sxs-lookup"><span data-stu-id="ede04-377">System counters that are related to the same performance object are grouped into a category that indicates their common focus.</span></span> <span data-ttu-id="ede04-378">當您建立的執行個體<xref:System.Diagnostics.PerformanceCounter>類別，您先指出與其元件將互動，而且然後從該類別選取計數器的分類。</span><span class="sxs-lookup"><span data-stu-id="ede04-378">When you create an instance of the <xref:System.Diagnostics.PerformanceCounter> class, you first indicate the category with which the component will interact, and then you choose a counter from that category.</span></span>  
  
 <span data-ttu-id="ede04-379">比方說，一個 Windows 計數器分類是 [記憶體] 類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-379">For example, one Windows counter category is the Memory category.</span></span> <span data-ttu-id="ede04-380">此類別內的系統計數器會追蹤記憶體的資料，例如可用的位元組數目和快取的位元組數目。</span><span class="sxs-lookup"><span data-stu-id="ede04-380">System counters within this category track memory data such as the number of bytes available and the number of bytes cached.</span></span> <span data-ttu-id="ede04-381">如果您想要使用 在您的應用程式中快取的位元組，您會建立的執行個體<xref:System.Diagnostics.PerformanceCounter>元件，將它連接到 記憶體 類別中，，，然後挑選該類別的適當計數器 （在此案例中，快取的位元組為單位）。</span><span class="sxs-lookup"><span data-stu-id="ede04-381">If you wanted to work with the bytes cached in your application, you would create an instance of the <xref:System.Diagnostics.PerformanceCounter> component, connect it to the Memory category, and then pick the appropriate counter (in this case, Cached Bytes) from that category.</span></span>  
  
 <span data-ttu-id="ede04-382">雖然您的系統提供許多其他的計數器類別，您可能將互動最常使用的類別會快取、 記憶體、 物件、 PhysicalDisk、 程序、 處理器、 伺服器、 系統和執行緒的類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-382">Although your system makes many more counter categories available, the categories that you will probably interact with most frequently are the Cache, Memory, Objects, PhysicalDisk, Process, Processor, Server, System, and Thread categories.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="ede04-383">下列程式碼範例會建立預設執行個體<xref:System.Diagnostics.PerformanceCounter>類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-383">The following code example creates a default instance of the <xref:System.Diagnostics.PerformanceCounter> class.</span></span> <span data-ttu-id="ede04-384">建立執行個體之後， <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>，並<xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>屬性值已設定，而且若要呼叫的結果<xref:System.Diagnostics.PerformanceCounter.NextValue%2A>方法會顯示。</span><span class="sxs-lookup"><span data-stu-id="ede04-384">After the instance is created, the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>, and <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A> property values are set, and the results of a call to the <xref:System.Diagnostics.PerformanceCounter.NextValue%2A> method are displayed.</span></span>  
  
 [!code-cpp[PerfCounter#1](~/samples/snippets/cpp/VS_Snippets_CLR/PerfCounter/CPP/perfcounter.cpp#1)]
 [!code-csharp[PerfCounter#1](~/samples/snippets/csharp/VS_Snippets_CLR/PerfCounter/CS/perfcounter.cs#1)]
 [!code-vb[PerfCounter#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/PerfCounter/VB/perfcounter.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="ede04-385">
            <see cref="P:System.Diagnostics.PerformanceCounter.CategoryName" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-385">The <see cref="P:System.Diagnostics.PerformanceCounter.CategoryName" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-386">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-386">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <altmember cref="P:System.Diagnostics.Process.ProcessName" />
      </Docs>
    </Member>
    <Member MemberName="Close">
      <MemberSignature Language="C#" Value="public void Close ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void Close() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.Close" />
      <MemberSignature Language="VB.NET" Value="Public Sub Close ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Close();" />
      <MemberSignature Language="F#" Value="member this.Close : unit -&gt; unit" Usage="performanceCounter.Close " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="ede04-387">關閉效能計數器，並釋放這個效能計數器執行個體所配置的所有資源。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-387">Closes the performance counter and frees all the resources allocated by this performance counter instance.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-388">當您建立的關聯這<xref:System.Diagnostics.PerformanceCounter>與所在的伺服器，系統的效能計數器的執行個體初始化的執行個體，並將記憶體配置給包含計數器範例的資訊。</span><span class="sxs-lookup"><span data-stu-id="ede04-388">When you associate this <xref:System.Diagnostics.PerformanceCounter> instance with a performance counter that resides on the server, the system initializes the instance and allocates memory to contain counter sample information.</span></span> <span data-ttu-id="ede04-389"><xref:System.Diagnostics.PerformanceCounter.Close%2A>方法會釋放物件所配置的資源。</span><span class="sxs-lookup"><span data-stu-id="ede04-389">The <xref:System.Diagnostics.PerformanceCounter.Close%2A> method frees the resources allocated by the object.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CloseSharedResources">
      <MemberSignature Language="C#" Value="public static void CloseSharedResources ();" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void CloseSharedResources() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.CloseSharedResources" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub CloseSharedResources ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void CloseSharedResources();" />
      <MemberSignature Language="F#" Value="static member CloseSharedResources : unit -&gt; unit" Usage="System.Diagnostics.PerformanceCounter.CloseSharedResources " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="ede04-390">釋放由計數器配置的效能計數器程式庫的共用狀態。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-390">Frees the performance counter library shared state allocated by the counters.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-391">用於讀取的效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-391">for reading the performance counter category.</span>
          </span>
          <span data-ttu-id="ede04-392">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-392">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
      </Docs>
    </Member>
    <Member MemberName="CounterHelp">
      <MemberSignature Language="C#" Value="public string CounterHelp { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string CounterHelp" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.PerformanceCounter.CounterHelp" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property CounterHelp As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ CounterHelp { System::String ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.CounterHelp : string" Usage="System.Diagnostics.PerformanceCounter.CounterHelp" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.ReadOnly(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="xamarinmac-3.0">
          <AttributeName>System.Diagnostics.MonitoringDescription("A description describing the counter.")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="xamarinmac-3.0">
          <AttributeName>System.MonoTODO</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Diagnostics.MonitoringDescription("PC_CounterHelp")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="ede04-393">取得這個效能計數器的描述。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-393">Gets the description for this performance counter.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="ede04-394">這個效能計數器所測量的項目或數量的描述。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-394">A description of the item or quantity that this performance counter measures.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-395">[新增計數器] 對話方塊中，在顯示的效能計數器管理員 MMC 嵌入式管理單元的<xref:System.Diagnostics.PerformanceCounter.CounterHelp%2A>當使用者從 [計數器] 清單中選取計數器，並按一下 [說明] 按鈕的文字。</span><span class="sxs-lookup"><span data-stu-id="ede04-395">The Add Counters dialog box of the Performance Counter Manager MMC snap in displays the <xref:System.Diagnostics.PerformanceCounter.CounterHelp%2A> text when a user selects a counter from the counters list and clicks the Explain button.</span></span>  
  
 <span data-ttu-id="ede04-396">當您建立新的計數器時，使用<xref:System.Diagnostics.PerformanceCounter.CounterHelp%2A>文字來描述計數器的監視執行，因此使用者可以判斷是否要將計數器新增至 「 系統監視器的顯示。</span><span class="sxs-lookup"><span data-stu-id="ede04-396">When you create a new counter, use the <xref:System.Diagnostics.PerformanceCounter.CounterHelp%2A> text to describe what the counter monitors do so the user can determine whether to add the counter to the System Monitor's display.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-397">如果值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>屬性是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process>效能計數器分類以.NET Framework 1.0 或 1.1 版中建立和<xref:System.InvalidOperationException>就會擲回。</span><span class="sxs-lookup"><span data-stu-id="ede04-397">If the value for the <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> property is <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process> and the performance counter category was created with .NET Framework version 1.0 or 1.1, an <xref:System.InvalidOperationException> is thrown.</span></span> <span data-ttu-id="ede04-398">建立與舊版本的效能計數器分類使用全域共用的記憶體和值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>必須是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>。</span><span class="sxs-lookup"><span data-stu-id="ede04-398">Performance counter categories created with earlier versions use global shared memory, and the value for <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> must be <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>.</span></span> <span data-ttu-id="ede04-399">如果類別不使用 1.0 或 1.1 版的.NET Framework 的版本上執行的應用程式中，刪除並重新建立類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-399">If the category is not used by applications running on versions 1.0 or 1.1 of the .NET Framework, delete and recreate the category.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-400">若要閱讀 Windows Vista、 Windows XP Professional x64 Edition 或 Windows Server 2003 中的效能計數器，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-400">To read performance counters in Windows Vista, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="ede04-401">若要避免將權限來存取效能計數器，Windows Vista 中的提高，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="ede04-401">To avoid having to elevate your privileges to access performance counters in Windows Vista, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="ede04-402">在 Windows Vista 中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-402">In Windows Vista, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="ede04-403">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="ede04-403">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="ede04-404">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="ede04-404">By default, you are in the standard user role.</span></span> <span data-ttu-id="ede04-405">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="ede04-405">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="ede04-406">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-406">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-407">
            <see cref="T:System.Diagnostics.PerformanceCounter" /> 執行個體沒有與效能計數器相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-407">The <see cref="T:System.Diagnostics.PerformanceCounter" /> instance is not associated with a performance counter.</span>
          </span>
          <span data-ttu-id="ede04-408">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-408">-or-</span>
          </span>
          <span data-ttu-id="ede04-409">使用全域共用記憶體時，<see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> 屬性是設定為 <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-409">The <see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> property is set to <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" /> when using global shared memory.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-410">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-410">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="ede04-411">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-411">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-412">用於讀取的效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-412">for reading the performance counter category.</span>
          </span>
          <span data-ttu-id="ede04-413">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-413">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
      </Docs>
    </Member>
    <Member MemberName="CounterName">
      <MemberSignature Language="C#" Value="public string CounterName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string CounterName" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.PerformanceCounter.CounterName" />
      <MemberSignature Language="VB.NET" Value="Public Property CounterName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ CounterName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.CounterName : string with get, set" Usage="System.Diagnostics.PerformanceCounter.CounterName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.DefaultValue("")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.ReadOnly(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;xamarinmac-3.0">
          <AttributeName>System.ComponentModel.RecommendedAsConfigurable(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.TypeConverter("System.Diagnostics.Design.CounterNameConverter, System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1">
          <AttributeName>System.ComponentModel.TypeConverter("System.Diagnostics.Design.CounterNameConverter, System.Design, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5">
          <AttributeName>System.ComponentModel.TypeConverter("System.Diagnostics.Design.CounterNameConverter, System.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.SettingsBindable(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="ede04-414">取得或設定與這個 <see cref="T:System.Diagnostics.PerformanceCounter" /> 執行個體相關的效能計數器的名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-414">Gets or sets the name of the performance counter that is associated with this <see cref="T:System.Diagnostics.PerformanceCounter" /> instance.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="ede04-415">計數器的名稱，一般用於描述計算所得的數量。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-415">The name of the counter, which generally describes the quantity being counted.</span>
          </span>
          <span data-ttu-id="ede04-416">這個名稱會顯示於 [效能計數器管理工具 MMC 嵌入式管理單元] 中 [新增計數器] 對話方塊的計數器清單中。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-416">This name is displayed in the list of counters of the Performance Counter Manager MMC snap in's Add Counters dialog box.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-417">您可以取得一份可用的預先存在計數器從 Windows 效能管理員[新增計數器對話方塊](https://go.microsoft.com/fwlink/p/?LinkId=257854)。</span><span class="sxs-lookup"><span data-stu-id="ede04-417">You can get a list of available pre-existing counters from the Windows Performance Manager’s [Add Counters dialog box](https://go.microsoft.com/fwlink/p/?LinkId=257854).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="ede04-418">下列程式碼範例示範如何設定<xref:System.Diagnostics.PerformanceCounter.CounterName%2A>屬性設為一般計數器名稱。</span><span class="sxs-lookup"><span data-stu-id="ede04-418">The following code example shows how to set the <xref:System.Diagnostics.PerformanceCounter.CounterName%2A> property to a typical counter name.</span></span>  
  
 [!code-cpp[PerfCounter#1](~/samples/snippets/cpp/VS_Snippets_CLR/PerfCounter/CPP/perfcounter.cpp#1)]
 [!code-csharp[PerfCounter#1](~/samples/snippets/csharp/VS_Snippets_CLR/PerfCounter/CS/perfcounter.cs#1)]
 [!code-vb[PerfCounter#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/PerfCounter/VB/perfcounter.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="ede04-419">
            <see cref="P:System.Diagnostics.PerformanceCounter.CounterName" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-419">The <see cref="P:System.Diagnostics.PerformanceCounter.CounterName" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-420">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-420">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="CounterType">
      <MemberSignature Language="C#" Value="public System.Diagnostics.PerformanceCounterType CounterType { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Diagnostics.PerformanceCounterType CounterType" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.PerformanceCounter.CounterType" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property CounterType As PerformanceCounterType" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Diagnostics::PerformanceCounterType CounterType { System::Diagnostics::PerformanceCounterType get(); };" />
      <MemberSignature Language="F#" Value="member this.CounterType : System.Diagnostics.PerformanceCounterType" Usage="System.Diagnostics.PerformanceCounter.CounterType" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="xamarinmac-3.0">
          <AttributeName>System.Diagnostics.MonitoringDescription("The type of the counter.")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Diagnostics.MonitoringDescription("PC_CounterType")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Diagnostics.PerformanceCounterType</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="ede04-421">取得相關的效能計數器的計數器型別。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-421">Gets the counter type of the associated performance counter.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="ede04-422">
            <see cref="T:System.Diagnostics.PerformanceCounterType" />，描述計數器與監視應用程式的互動方式，以及它所包含的值的性質 (例如，計算過或未計算的)。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-422">A <see cref="T:System.Diagnostics.PerformanceCounterType" /> that describes both how the counter interacts with a monitoring application and the nature of the values it contains (for example, calculated or uncalculated).</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-423"><xref:System.Diagnostics.PerformanceCounterType>列舉包含的效能計數器，您可以互動的型別。</span><span class="sxs-lookup"><span data-stu-id="ede04-423">The <xref:System.Diagnostics.PerformanceCounterType> enumeration contains the types of performance counters that you can interact with.</span></span> <span data-ttu-id="ede04-424">有些計數器型別則代表導出的值，例如系統所需的計數器度量的平均值。</span><span class="sxs-lookup"><span data-stu-id="ede04-424">Some of the counter types represent calculated values, such as the average of the counter measurements the system has taken.</span></span> <span data-ttu-id="ede04-425">其他類型代表未經處理、 或未計算的值。</span><span class="sxs-lookup"><span data-stu-id="ede04-425">Other types represent raw, or uncalculated, values.</span></span> <span data-ttu-id="ede04-426">下表顯示您互動最頻繁的計數器型別。</span><span class="sxs-lookup"><span data-stu-id="ede04-426">The following table shows the counter types that you will interact with most frequently.</span></span>  
  
|<span data-ttu-id="ede04-427">計數器的責任</span><span class="sxs-lookup"><span data-stu-id="ede04-427">Counter's Responsibility</span></span>|<span data-ttu-id="ede04-428">PerformanceCounterType 值</span><span class="sxs-lookup"><span data-stu-id="ede04-428">PerformanceCounterType Value</span></span>|<span data-ttu-id="ede04-429">範例</span><span class="sxs-lookup"><span data-stu-id="ede04-429">Example</span></span>|  
|------------------------------|----------------------------------|-------------|  
|<span data-ttu-id="ede04-430">維護項目或作業的簡單計數。</span><span class="sxs-lookup"><span data-stu-id="ede04-430">Maintain a simple count of items or operations.</span></span>|`NumberOfItems32`|<span data-ttu-id="ede04-431">追蹤收到的 32 位元整數的訂單數目。</span><span class="sxs-lookup"><span data-stu-id="ede04-431">Tracking the number of orders received as a 32-bit integer.</span></span>|  
|<span data-ttu-id="ede04-432">維護的較高容量的簡單計數。</span><span class="sxs-lookup"><span data-stu-id="ede04-432">Maintain a higher-capacity simple count.</span></span>|`NumberOfItems64`|<span data-ttu-id="ede04-433">追蹤具有非常大量的站台的訂單數量、 儲存為 64 位元整數。</span><span class="sxs-lookup"><span data-stu-id="ede04-433">Tracking the number of orders for a site with very high volume, stored as a 64-bit integer.</span></span>|  
|<span data-ttu-id="ede04-434">追蹤項目或每秒的作業的數目。</span><span class="sxs-lookup"><span data-stu-id="ede04-434">Track the number of items or operations per second.</span></span>|`RateOfCountsPerSecond32`|<span data-ttu-id="ede04-435">站台上每秒接收的追蹤訂單。</span><span class="sxs-lookup"><span data-stu-id="ede04-435">Tracking orders received per second on a site.</span></span>|  
|<span data-ttu-id="ede04-436">追蹤項目或作業每秒的高容量數字。</span><span class="sxs-lookup"><span data-stu-id="ede04-436">Track a higher-capacity number of items or operations per second.</span></span>|`RateOfCountsPerSecond64`|<span data-ttu-id="ede04-437">追蹤訂單上每秒接收非常大量的網站。</span><span class="sxs-lookup"><span data-stu-id="ede04-437">Tracking orders received per second on a site with very high volume.</span></span>|  
|<span data-ttu-id="ede04-438">計算的平均時間，來執行處理程序，或處理項目</span><span class="sxs-lookup"><span data-stu-id="ede04-438">Calculate the average time to perform a process or to process an item</span></span>|`AverageTimer32`|<span data-ttu-id="ede04-439">計算訂單處理所花費的平均時間。</span><span class="sxs-lookup"><span data-stu-id="ede04-439">Calculate the average time an order takes to be processed.</span></span>|  
  
 <span data-ttu-id="ede04-440">當您建立的類型需要使用對應的基底計數器的計數器時，您必須宣告計數器和中的基底<xref:System.Diagnostics.CounterCreationDataCollection>您傳入<xref:System.Diagnostics.PerformanceCounterCategory.Create%2A?displayProperty=nameWithType>方法。</span><span class="sxs-lookup"><span data-stu-id="ede04-440">When you create a counter whose type requires the use of a corresponding base counter, you must declare the counter and the base in the <xref:System.Diagnostics.CounterCreationDataCollection> you pass into the <xref:System.Diagnostics.PerformanceCounterCategory.Create%2A?displayProperty=nameWithType> method.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-441">如果值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>屬性是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process>效能計數器分類以.NET Framework 1.0 或 1.1 版中建立和<xref:System.InvalidOperationException>就會擲回。</span><span class="sxs-lookup"><span data-stu-id="ede04-441">If the value for the <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> property is <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process> and the performance counter category was created with .NET Framework version 1.0 or 1.1, an <xref:System.InvalidOperationException> is thrown.</span></span> <span data-ttu-id="ede04-442">建立與舊版本的效能計數器分類使用全域共用的記憶體和值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>必須是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>。</span><span class="sxs-lookup"><span data-stu-id="ede04-442">Performance counter categories created with earlier versions use global shared memory, and the value for <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> must be <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>.</span></span> <span data-ttu-id="ede04-443">如果類別不使用 1.0 或 1.1 版的.NET Framework 的版本上執行的應用程式中，刪除並重新建立類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-443">If the category is not used by applications running on versions 1.0 or 1.1 of the .NET Framework, delete and recreate the category.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-444">若要閱讀 Windows Vista、 Windows XP Professional x64 Edition 或 Windows Server 2003 中的效能計數器，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-444">To read performance counters in Windows Vista, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="ede04-445">若要避免將權限來存取效能計數器，Windows Vista 中的提高，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="ede04-445">To avoid having to elevate your privileges to access performance counters in Windows Vista, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="ede04-446">在 Windows Vista 中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-446">In Windows Vista, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="ede04-447">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="ede04-447">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="ede04-448">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="ede04-448">By default, you are in the standard user role.</span></span> <span data-ttu-id="ede04-449">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="ede04-449">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="ede04-450">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-450">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-451">該執行個體沒有與效能計數器正確的相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-451">The instance is not correctly associated with a performance counter.</span>
          </span>
          <span data-ttu-id="ede04-452">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-452">-or-</span>
          </span>
          <span data-ttu-id="ede04-453">使用全域共用記憶體時，<see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> 屬性是設定為 <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-453">The <see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> property is set to <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" /> when using global shared memory.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-454">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-454">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="ede04-455">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-455">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-456">用於讀取的效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-456">for reading the performance counter category.</span>
          </span>
          <span data-ttu-id="ede04-457">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-457">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="T:System.Diagnostics.PerformanceCounterType" />
      </Docs>
    </Member>
    <Member MemberName="Decrement">
      <MemberSignature Language="C#" Value="public long Decrement ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance int64 Decrement() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.Decrement" />
      <MemberSignature Language="VB.NET" Value="Public Function Decrement () As Long" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; long Decrement();" />
      <MemberSignature Language="F#" Value="member this.Decrement : unit -&gt; int64" Usage="performanceCounter.Decrement " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int64</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="ede04-458">經由有效率的不可部分完成的作業 (Atomic Operation)，將相關的效能計數器逐一遞減。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-458">Decrements the associated performance counter by one through an efficient atomic operation.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="ede04-459">遞減的計數器值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-459">The decremented counter value.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-460">您可以撰寫至自訂計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-460">You can write only to custom counters.</span></span> <span data-ttu-id="ede04-461">所有系統計數器都是唯讀的。</span><span class="sxs-lookup"><span data-stu-id="ede04-461">All system counters are read-only.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-462"><xref:System.Diagnostics.PerformanceCounter.Increment%2A>， <xref:System.Diagnostics.PerformanceCounter.IncrementBy%2A>，和<xref:System.Diagnostics.PerformanceCounter.Decrement%2A>方法使用聯鎖更新計數器的值。</span><span class="sxs-lookup"><span data-stu-id="ede04-462">The <xref:System.Diagnostics.PerformanceCounter.Increment%2A>, <xref:System.Diagnostics.PerformanceCounter.IncrementBy%2A>, and <xref:System.Diagnostics.PerformanceCounter.Decrement%2A> methods use interlocks to update the counter value.</span></span> <span data-ttu-id="ede04-463">這有助於在多執行緒或多重處理序的案例，也會導致對效能帶來負面影響，保留的計數器值正確無誤。</span><span class="sxs-lookup"><span data-stu-id="ede04-463">This helps keep the counter value accurate in multithreaded or multiprocess scenarios, but also results in a performance penalty.</span></span> <span data-ttu-id="ede04-464">如果您不需要精確度的連鎖作業提供，您可以更新<xref:System.Diagnostics.PerformanceCounter.RawValue%2A>屬性直接直到 5 倍的效能改善。</span><span class="sxs-lookup"><span data-stu-id="ede04-464">If you do not need the accuracy that interlocked operations provide, you can update the <xref:System.Diagnostics.PerformanceCounter.RawValue%2A> property directly for up to a 5 times performance improvement.</span></span>  <span data-ttu-id="ede04-465">不過，在多執行緒的情況下，某些更新為計數器值可能會忽略，導致不正確的資料。</span><span class="sxs-lookup"><span data-stu-id="ede04-465">However, in multithreaded scenarios, some updates to the counter value might be ignored, resulting in inaccurate data.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-466">如果值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>屬性是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process>效能計數器分類以.NET Framework 1.0 或 1.1 版中建立和<xref:System.InvalidOperationException>就會擲回。</span><span class="sxs-lookup"><span data-stu-id="ede04-466">If the value for the <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> property is <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process> and the performance counter category was created with .NET Framework version 1.0 or 1.1, an <xref:System.InvalidOperationException> is thrown.</span></span> <span data-ttu-id="ede04-467">建立與舊版本的效能計數器分類使用全域共用的記憶體和值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>必須是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>。</span><span class="sxs-lookup"><span data-stu-id="ede04-467">Performance counter categories created with earlier versions use global shared memory, and the value for <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> must be <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>.</span></span> <span data-ttu-id="ede04-468">如果類別不使用 1.0 或 1.1 版的.NET Framework 的版本上執行的應用程式中，刪除並重新建立類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-468">If the category is not used by applications running on versions 1.0 or 1.1 of the .NET Framework, delete and recreate the category.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-469">計數器是唯讀的，所以應用程式無法將其遞減。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-469">The counter is read-only, so the application cannot decrement it.</span>
          </span>
          <span data-ttu-id="ede04-470">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-470">-or-</span>
          </span>
          <span data-ttu-id="ede04-471">該執行個體沒有與效能計數器正確的相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-471">The instance is not correctly associated with a performance counter.</span>
          </span>
          <span data-ttu-id="ede04-472">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-472">-or-</span>
          </span>
          <span data-ttu-id="ede04-473">使用全域共用記憶體時，<see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> 屬性是設定為 <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-473">The <see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> property is set to <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" /> when using global shared memory.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="ede04-474">在存取系統 API 時發生錯誤 </span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-474">An error occurred when accessing a system API.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-475">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-475">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-476">如果寫入的效能計數器分類<see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" />屬性是<see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-476">for writing the performance counter category if the <see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" /> property is <see langword="false" />.</span>
          </span>
          <span data-ttu-id="ede04-477">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-477">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />.</span>
          </span>
        </permission>
        <threadsafe>
          <span data-ttu-id="ede04-478">這個方法是安全執行緒。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-478">This method is thread safe.</span>
          </span>
        </threadsafe>
      </Docs>
    </Member>
    <Member MemberName="DefaultFileMappingSize">
      <MemberSignature Language="C#" Value="public static int DefaultFileMappingSize;" />
      <MemberSignature Language="ILAsm" Value=".field public static int32 DefaultFileMappingSize" />
      <MemberSignature Language="DocId" Value="F:System.Diagnostics.PerformanceCounter.DefaultFileMappingSize" />
      <MemberSignature Language="VB.NET" Value="Public Shared DefaultFileMappingSize As Integer " />
      <MemberSignature Language="C++ CLI" Value="public: static int DefaultFileMappingSize;" />
      <MemberSignature Language="F#" Value=" staticval mutable DefaultFileMappingSize : int" Usage="System.Diagnostics.PerformanceCounter.DefaultFileMappingSize" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="xamarinmac-3.0">
          <AttributeName>System.Obsolete</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netcore-2.0;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netcore-2.1;netframework-4.8;dotnet-plat-ext-2.1">
          <AttributeName>System.Obsolete("This field has been deprecated and is not used.  Use machine.config or an application configuration file to set the size of the PerformanceCounter file mapping.")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="ede04-479">指定效能計數器所共用之全域記憶體的大小 (以位元組計)。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-479">Specifies the size, in bytes, of the global memory shared by performance counters.</span>
          </span>
          <span data-ttu-id="ede04-480">預設大小為 524,288 個位元組。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-480">The default size is 524,288 bytes.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Dispose">
      <MemberSignature Language="C#" Value="protected override void Dispose (bool disposing);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void Dispose(bool disposing) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.Dispose(System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Sub Dispose (disposing As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void Dispose(bool disposing);" />
      <MemberSignature Language="F#" Value="override this.Dispose : bool -&gt; unit" Usage="performanceCounter.Dispose disposing" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="disposing" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="disposing">To be added.</param>
        <summary>To be added.</summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="EndInit">
      <MemberSignature Language="C#" Value="public void EndInit ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void EndInit() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.EndInit" />
      <MemberSignature Language="VB.NET" Value="Public Sub EndInit ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void EndInit();" />
      <MemberSignature Language="F#" Value="abstract member EndInit : unit -&gt; unit&#xA;override this.EndInit : unit -&gt; unit" Usage="performanceCounter.EndInit " />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.ComponentModel.ISupportInitialize.EndInit</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="ede04-481">結束初始化用於表單或為另一元件所使用的 <see cref="T:System.Diagnostics.PerformanceCounter" /> 執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-481">Ends the initialization of a <see cref="T:System.Diagnostics.PerformanceCounter" /> instance that is used on a form or by another component.</span>
          </span>
          <span data-ttu-id="ede04-482">初始化會於執行階段時執行。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-482">The initialization occurs at runtime.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-483">[!INCLUDE[vsprvslong](~/includes/vsprvslong-md.md)]設計環境會使用這個方法來結束初始化用於表單或另一個元件所使用的元件。</span><span class="sxs-lookup"><span data-stu-id="ede04-483">The [!INCLUDE[vsprvslong](~/includes/vsprvslong-md.md)] design environment uses this method to end the initialization of a component that is used on a form or by another component.</span></span> <span data-ttu-id="ede04-484"><xref:System.Diagnostics.PerformanceCounter.BeginInit%2A>方法會啟動初始化。</span><span class="sxs-lookup"><span data-stu-id="ede04-484">The <xref:System.Diagnostics.PerformanceCounter.BeginInit%2A> method starts the initialization.</span></span> <span data-ttu-id="ede04-485">使用<xref:System.Diagnostics.PerformanceCounter.BeginInit%2A>和<xref:System.Diagnostics.PerformanceCounter.EndInit%2A>方法可防止元件完全初始化之前使用。</span><span class="sxs-lookup"><span data-stu-id="ede04-485">Using the <xref:System.Diagnostics.PerformanceCounter.BeginInit%2A> and <xref:System.Diagnostics.PerformanceCounter.EndInit%2A> methods prevents the component from being used before it is fully initialized.</span></span>  
  
 ]]></format>
        </remarks>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-486">如果寫入的效能計數器分類<see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" />屬性是<see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-486">for writing the performance counter category if the <see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" /> property is <see langword="false" />.</span>
          </span>
          <span data-ttu-id="ede04-487">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-487">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />.</span>
          </span>
        </permission>
      </Docs>
    </Member>
    <Member MemberName="Increment">
      <MemberSignature Language="C#" Value="public long Increment ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance int64 Increment() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.Increment" />
      <MemberSignature Language="VB.NET" Value="Public Function Increment () As Long" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; long Increment();" />
      <MemberSignature Language="F#" Value="member this.Increment : unit -&gt; int64" Usage="performanceCounter.Increment " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int64</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="ede04-488">經由有效率的不可部分完成的作業，將相關的效能計數器逐一遞增。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-488">Increments the associated performance counter by one through an efficient atomic operation.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="ede04-489">遞增的計數器值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-489">The incremented counter value.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-490">您可以撰寫至自訂計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-490">You can write only to custom counters.</span></span> <span data-ttu-id="ede04-491">所有系統計數器都是唯讀的。</span><span class="sxs-lookup"><span data-stu-id="ede04-491">All system counters are read-only.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-492"><xref:System.Diagnostics.PerformanceCounter.Increment%2A>， <xref:System.Diagnostics.PerformanceCounter.IncrementBy%2A>，和<xref:System.Diagnostics.PerformanceCounter.Decrement%2A>方法使用聯鎖更新計數器的值。</span><span class="sxs-lookup"><span data-stu-id="ede04-492">The <xref:System.Diagnostics.PerformanceCounter.Increment%2A>, <xref:System.Diagnostics.PerformanceCounter.IncrementBy%2A>, and <xref:System.Diagnostics.PerformanceCounter.Decrement%2A> methods use interlocks to update the counter value.</span></span> <span data-ttu-id="ede04-493">這有助於在多執行緒或多重處理序的案例，也會導致對效能帶來負面影響，保留的計數器值正確無誤。</span><span class="sxs-lookup"><span data-stu-id="ede04-493">This helps keep the counter value accurate in multithreaded or multiprocess scenarios, but also results in a performance penalty.</span></span> <span data-ttu-id="ede04-494">如果您不需要精確度的連鎖作業提供，您可以更新<xref:System.Diagnostics.PerformanceCounter.RawValue%2A>屬性直接直到 5 倍的效能改善。</span><span class="sxs-lookup"><span data-stu-id="ede04-494">If you do not need the accuracy that interlocked operations provide, you can update the <xref:System.Diagnostics.PerformanceCounter.RawValue%2A> property directly for up to a 5 times performance improvement.</span></span>  <span data-ttu-id="ede04-495">不過，在多執行緒的情況下，某些更新為計數器值可能會忽略，導致不正確的資料。</span><span class="sxs-lookup"><span data-stu-id="ede04-495">However, in multithreaded scenarios, some updates to the counter value might be ignored, resulting in inaccurate data.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-496">如果值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>屬性是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process>效能計數器分類以.NET Framework 1.0 或 1.1 版中建立和<xref:System.InvalidOperationException>就會擲回。</span><span class="sxs-lookup"><span data-stu-id="ede04-496">If the value for the <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> property is <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process> and the performance counter category was created with .NET Framework version 1.0 or 1.1, an <xref:System.InvalidOperationException> is thrown.</span></span> <span data-ttu-id="ede04-497">建立與舊版本的效能計數器分類使用全域共用的記憶體和值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>必須是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>。</span><span class="sxs-lookup"><span data-stu-id="ede04-497">Performance counter categories created with earlier versions use global shared memory, and the value for <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> must be <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>.</span></span> <span data-ttu-id="ede04-498">如果類別不使用 1.0 或 1.1 版的.NET Framework 的版本上執行的應用程式中，刪除並重新建立類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-498">If the category is not used by applications running on versions 1.0 or 1.1 of the .NET Framework, delete and recreate the category.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-499">計數器是唯讀的，所以應用程式無法將其遞增。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-499">The counter is read-only, so the application cannot increment it.</span>
          </span>
          <span data-ttu-id="ede04-500">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-500">-or-</span>
          </span>
          <span data-ttu-id="ede04-501">該執行個體沒有與效能計數器正確的相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-501">The instance is not correctly associated with a performance counter.</span>
          </span>
          <span data-ttu-id="ede04-502">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-502">-or-</span>
          </span>
          <span data-ttu-id="ede04-503">使用全域共用記憶體時，<see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> 屬性是設定為 <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-503">The <see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> property is set to <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" /> when using global shared memory.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="ede04-504">在存取系統 API 時發生錯誤 </span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-504">An error occurred when accessing a system API.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-505">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-505">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-506">如果寫入的效能計數器分類<see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" />屬性是<see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-506">for writing the performance counter category if the <see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" /> property is <see langword="false" />.</span>
          </span>
          <span data-ttu-id="ede04-507">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-507">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />.</span>
          </span>
        </permission>
        <threadsafe>
          <span data-ttu-id="ede04-508">這個方法是安全執行緒。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-508">This method is thread safe.</span>
          </span>
        </threadsafe>
      </Docs>
    </Member>
    <Member MemberName="IncrementBy">
      <MemberSignature Language="C#" Value="public long IncrementBy (long value);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance int64 IncrementBy(int64 value) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.IncrementBy(System.Int64)" />
      <MemberSignature Language="VB.NET" Value="Public Function IncrementBy (value As Long) As Long" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; long IncrementBy(long value);" />
      <MemberSignature Language="F#" Value="member this.IncrementBy : int64 -&gt; int64" Usage="performanceCounter.IncrementBy value" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.Runtime.ConstrainedExecution.ReliabilityContract(System.Runtime.ConstrainedExecution.Consistency.WillNotCorruptState, System.Runtime.ConstrainedExecution.Cer.MayFail)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Int64</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="value" Type="System.Int64" />
      </Parameters>
      <Docs>
        <param name="value">
          <span data-ttu-id="ede04-509">要被遞增的值</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-509">The value to increment by.</span>
          </span>
          <span data-ttu-id="ede04-510">(負值會將計數器遞減)。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-510">(A negative value decrements the counter.)</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="ede04-511">經由有效率的不可部分完成的作業，將相關的效能計數器值按指定的數量遞增或遞減。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-511">Increments or decrements the value of the associated performance counter by a specified amount through an efficient atomic operation.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="ede04-512">新的計數器值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-512">The new counter value.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-513">您可以撰寫至自訂計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-513">You can write only to custom counters.</span></span> <span data-ttu-id="ede04-514">所有系統計數器都是唯讀的。</span><span class="sxs-lookup"><span data-stu-id="ede04-514">All system counters are read-only.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-515"><xref:System.Diagnostics.PerformanceCounter.Increment%2A>， <xref:System.Diagnostics.PerformanceCounter.IncrementBy%2A>，和<xref:System.Diagnostics.PerformanceCounter.Decrement%2A>方法使用聯鎖更新計數器的值。</span><span class="sxs-lookup"><span data-stu-id="ede04-515">The <xref:System.Diagnostics.PerformanceCounter.Increment%2A>, <xref:System.Diagnostics.PerformanceCounter.IncrementBy%2A>, and <xref:System.Diagnostics.PerformanceCounter.Decrement%2A> methods use interlocks to update the counter value.</span></span> <span data-ttu-id="ede04-516">這有助於在多執行緒或多重處理序的案例，也會導致對效能帶來負面影響，保留的計數器值正確無誤。</span><span class="sxs-lookup"><span data-stu-id="ede04-516">This helps keep the counter value accurate in multithreaded or multiprocess scenarios, but also results in a performance penalty.</span></span> <span data-ttu-id="ede04-517">如果您不需要精確度的連鎖作業提供，您可以更新<xref:System.Diagnostics.PerformanceCounter.RawValue%2A>屬性直接直到 5 倍的效能改善。</span><span class="sxs-lookup"><span data-stu-id="ede04-517">If you do not need the accuracy that interlocked operations provide, you can update the <xref:System.Diagnostics.PerformanceCounter.RawValue%2A> property directly for up to a 5 times performance improvement.</span></span>  <span data-ttu-id="ede04-518">不過，在多執行緒的情況下，某些更新為計數器值可能會忽略，導致不正確的資料。</span><span class="sxs-lookup"><span data-stu-id="ede04-518">However, in multithreaded scenarios, some updates to the counter value might be ignored, resulting in inaccurate data.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-519">如果值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>屬性是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process>效能計數器分類以.NET Framework 1.0 或 1.1 版中建立和<xref:System.InvalidOperationException>就會擲回。</span><span class="sxs-lookup"><span data-stu-id="ede04-519">If the value forthe <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> property is <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process> and the performance counter category was created with .NET Framework version 1.0 or 1.1, an <xref:System.InvalidOperationException> is thrown.</span></span> <span data-ttu-id="ede04-520">建立與舊版本的效能計數器分類使用全域共用的記憶體和值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>必須是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>。</span><span class="sxs-lookup"><span data-stu-id="ede04-520">Performance counter categories created with earlier versions use global shared memory, and the value for <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> must be <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>.</span></span> <span data-ttu-id="ede04-521">如果類別不使用 1.0 或 1.1 版的.NET Framework 的版本上執行的應用程式中，刪除並重新建立類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-521">If the category is not used by applications running on versions 1.0 or 1.1 of the .NET Framework, delete and recreate the category.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="ede04-522">下列程式碼範例示範如何使用<xref:System.Diagnostics.PerformanceCounter.IncrementBy%2A>方法加入至計數器遞增。</span><span class="sxs-lookup"><span data-stu-id="ede04-522">The following code example demonstrates how to use the <xref:System.Diagnostics.PerformanceCounter.IncrementBy%2A> method to add increments to a counter.</span></span> <span data-ttu-id="ede04-523">這個程式碼範例是針對較大範例的一部分<xref:System.Diagnostics.PerformanceCounter>類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-523">This code example is part of a larger example for the <xref:System.Diagnostics.PerformanceCounter> class.</span></span>  
  
 [!code-cpp[PerformanceCounterType.AverageCounter64#3](~/samples/snippets/cpp/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/CPP/averagecount32.cpp#3)]
 [!code-csharp[PerformanceCounterType.AverageCounter64#3](~/samples/snippets/csharp/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/CS/averagecount32.cs#3)]
 [!code-vb[PerformanceCounterType.AverageCounter64#3](~/samples/snippets/visualbasic/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/VB/averagecount32.vb#3)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-524">計數器是唯讀的，所以應用程式無法將其遞增。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-524">The counter is read-only, so the application cannot increment it.</span>
          </span>
          <span data-ttu-id="ede04-525">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-525">-or-</span>
          </span>
          <span data-ttu-id="ede04-526">該執行個體沒有與效能計數器正確的相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-526">The instance is not correctly associated with a performance counter.</span>
          </span>
          <span data-ttu-id="ede04-527">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-527">-or-</span>
          </span>
          <span data-ttu-id="ede04-528">使用全域共用記憶體時，<see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> 屬性是設定為 <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-528">The <see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> property is set to <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" /> when using global shared memory.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="ede04-529">在存取系統 API 時發生錯誤 </span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-529">An error occurred when accessing a system API.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-530">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-530">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-531">如果寫入的效能計數器分類<see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" />屬性是<see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-531">for writing the performance counter category if the <see cref="P:System.Diagnostics.PerformanceCounter.ReadOnly" /> property is <see langword="false" />.</span>
          </span>
          <span data-ttu-id="ede04-532">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-532">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />.</span>
          </span>
        </permission>
        <threadsafe>
          <span data-ttu-id="ede04-533">這個方法是安全執行緒。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-533">This method is thread safe.</span>
          </span>
        </threadsafe>
      </Docs>
    </Member>
    <Member MemberName="InstanceLifetime">
      <MemberSignature Language="C#" Value="public System.Diagnostics.PerformanceCounterInstanceLifetime InstanceLifetime { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Diagnostics.PerformanceCounterInstanceLifetime InstanceLifetime" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" />
      <MemberSignature Language="VB.NET" Value="Public Property InstanceLifetime As PerformanceCounterInstanceLifetime" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Diagnostics::PerformanceCounterInstanceLifetime InstanceLifetime { System::Diagnostics::PerformanceCounterInstanceLifetime get(); void set(System::Diagnostics::PerformanceCounterInstanceLifetime value); };" />
      <MemberSignature Language="F#" Value="member this.InstanceLifetime : System.Diagnostics.PerformanceCounterInstanceLifetime with get, set" Usage="System.Diagnostics.PerformanceCounter.InstanceLifetime" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.DefaultValue(Mono.Cecil.CustomAttributeArgument)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="xamarinmac-3.0">
          <AttributeName>System.MonoTODO</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Diagnostics.PerformanceCounterInstanceLifetime</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="ede04-534">取得或設定處理序的存留期 (Lifetime)。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-534">Gets or sets the lifetime of a process.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="ede04-535">其中一個 <see cref="T:System.Diagnostics.PerformanceCounterInstanceLifetime" /> 值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-535">One of the <see cref="T:System.Diagnostics.PerformanceCounterInstanceLifetime" /> values.</span>
          </span>
          <span data-ttu-id="ede04-536">預設值為 <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Global" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-536">The default is <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Global" />.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-537">如果效能計數器分類以.NET Framework 1.0 或 1.1 版建立的它會使用全域共用的記憶體和值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>必須是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>。</span><span class="sxs-lookup"><span data-stu-id="ede04-537">If the performance counter category is created with the .NET Framework version 1.0 or 1.1, it uses global shared memory, and the value for <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> must be <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>.</span></span> <span data-ttu-id="ede04-538">如果類別不使用 1.0 或 1.1 版的.NET Framework 的版本上執行的應用程式中，刪除並重新建立類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-538">If the category is not used by applications running on versions 1.0 or 1.1 of the .NET Framework, delete and recreate the category.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-539">如果值<xref:System.Diagnostics.PerformanceCounter.CounterType%2A>屬性是<xref:System.Diagnostics.PerformanceCounterCategoryType.SingleInstance>，則<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>值必須是效能計數器<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>。</span><span class="sxs-lookup"><span data-stu-id="ede04-539">If the value of the <xref:System.Diagnostics.PerformanceCounter.CounterType%2A> property is <xref:System.Diagnostics.PerformanceCounterCategoryType.SingleInstance>, the <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> value for the performance counter must be <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentOutOfRangeException">
          <span data-ttu-id="ede04-540">設定值不是 <see cref="T:System.Diagnostics.PerformanceCounterInstanceLifetime" /> 列舉型別的成員。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-540">The value set is not a member of the <see cref="T:System.Diagnostics.PerformanceCounterInstanceLifetime" /> enumeration.</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-541">在 <see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> 已初始化後設定 <see cref="T:System.Diagnostics.PerformanceCounter" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-541">
              <see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> is set after the <see cref="T:System.Diagnostics.PerformanceCounter" /> has been initialized.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="InstanceName">
      <MemberSignature Language="C#" Value="public string InstanceName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string InstanceName" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.PerformanceCounter.InstanceName" />
      <MemberSignature Language="VB.NET" Value="Public Property InstanceName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ InstanceName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.InstanceName : string with get, set" Usage="System.Diagnostics.PerformanceCounter.InstanceName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.DefaultValue("")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.ReadOnly(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;xamarinmac-3.0">
          <AttributeName>System.ComponentModel.RecommendedAsConfigurable(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.TypeConverter("System.Diagnostics.Design.InstanceNameConverter, System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1">
          <AttributeName>System.ComponentModel.TypeConverter("System.Diagnostics.Design.InstanceNameConverter, System.Design, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5">
          <AttributeName>System.ComponentModel.TypeConverter("System.Diagnostics.Design.InstanceNameConverter, System.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.SettingsBindable(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="ede04-542">取得或設定這個效能計數器的執行個體名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-542">Gets or sets an instance name for this performance counter.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="ede04-543">效能計數器分類執行個體的名稱，如果計數器是單一執行個體計數器，則為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-543">The name of the performance counter category instance, or an empty string (""), if the counter is a single-instance counter.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  <span data-ttu-id="ede04-544">執行個體名稱必須少於 128 個字元的長度。</span><span class="sxs-lookup"><span data-stu-id="ede04-544">Instance names must be shorter than 128 characters in length.</span></span>  
  
 <span data-ttu-id="ede04-545">在某些情況下，類別會細分為執行個體，以追蹤多個項目與相關的分類之物件的相關資料。</span><span class="sxs-lookup"><span data-stu-id="ede04-545">In some situations, categories are subdivided into instances, which track data about multiple occurrences of the object that a category relates to.</span></span> <span data-ttu-id="ede04-546">執行個體套用至整個分類，而不是個別計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-546">Instances apply to the category as whole, rather than to individual counters.</span></span> <span data-ttu-id="ede04-547">在類別內的每個計數器有定義的分類每個執行個體。</span><span class="sxs-lookup"><span data-stu-id="ede04-547">Every counter within a category has each instance defined for the category.</span></span> <span data-ttu-id="ede04-548">例如，處理序類別包含名為閒置和系統的執行個體。</span><span class="sxs-lookup"><span data-stu-id="ede04-548">For example, the Process category contains instances named Idle and System.</span></span> <span data-ttu-id="ede04-549">處理序類別內的每個計數器，因此包含每個執行個體，顯示閒置處理序或系統處理序的相關資訊的資料。</span><span class="sxs-lookup"><span data-stu-id="ede04-549">Every counter within the Process category thus contains data for each instance, showing information about either idle processes or system processes.</span></span>  
  
 <span data-ttu-id="ede04-550">許多類別並不會包含多個執行個體，因此您可以將此屬性保留空白，表示沒有任何執行個體是與分類相關聯。</span><span class="sxs-lookup"><span data-stu-id="ede04-550">Many categories do not contain multiple instances, so you can leave this property empty to indicate that no instance is associated with the category.</span></span>  
  
 <span data-ttu-id="ede04-551">如果這個<xref:System.Diagnostics.PerformanceCounter>執行個體指向非自訂類別目錄時，您可以選擇只有現有的類別執行個體。</span><span class="sxs-lookup"><span data-stu-id="ede04-551">If this <xref:System.Diagnostics.PerformanceCounter> instance points to a noncustom category, you can choose from only the existing category instances.</span></span> <span data-ttu-id="ede04-552">您可以只在自訂類別，可讓您定義多個計數器和分類執行個體，您需要建立新的類別執行個體。</span><span class="sxs-lookup"><span data-stu-id="ede04-552">You can create new category instances only in custom categories, which allow you to define as many counters and category instances as you need.</span></span>  
  
 <span data-ttu-id="ede04-553">若要建立效能類別執行個體，指定`instanceName`上<xref:System.Diagnostics.PerformanceCounter.%23ctor%2A>建構函式。</span><span class="sxs-lookup"><span data-stu-id="ede04-553">To create a performance category instance, specify an `instanceName` on the <xref:System.Diagnostics.PerformanceCounter.%23ctor%2A> constructor.</span></span> <span data-ttu-id="ede04-554">如果所指定的類別執行個體`instanceName`已經存在新的物件會參考現有的類別執行個體。</span><span class="sxs-lookup"><span data-stu-id="ede04-554">If the category instance specified by `instanceName` already exists the new object will reference the existing category instance.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-555">請勿使用字元"（"，"）"，"#"、"\\」，或"/"的執行個體名稱。</span><span class="sxs-lookup"><span data-stu-id="ede04-555">Do not use the characters "(", ")", "#", "\\", or "/" in the instance name.</span></span> <span data-ttu-id="ede04-556">如果使用下列任何字元，則效能主控台 (請參閱[執行階段分析](~/docs/framework/debug-trace-profile/runtime-profiling.md)) 可能無法正確顯示執行個體值。</span><span class="sxs-lookup"><span data-stu-id="ede04-556">If any of these characters are used, the Performance Console (see [Runtime Profiling](~/docs/framework/debug-trace-profile/runtime-profiling.md)) may not correctly display the instance values.</span></span>  
  
 <span data-ttu-id="ede04-557">如果執行個體名稱會自動產生，而且可能包含字元"（"，"）"，"#"、"\\」，或"/"，請使用下表中的字元對應。</span><span class="sxs-lookup"><span data-stu-id="ede04-557">If the instance name is automatically generated and might contain the characters "(", ")", "#", "\\", or "/", use the character mapping in the following table.</span></span>  
  
|<span data-ttu-id="ede04-558">字元</span><span class="sxs-lookup"><span data-stu-id="ede04-558">Character</span></span>|<span data-ttu-id="ede04-559">對應的字元</span><span class="sxs-lookup"><span data-stu-id="ede04-559">Mapped character</span></span>|  
|---------------|----------------------|  
|<span data-ttu-id="ede04-560">(</span><span class="sxs-lookup"><span data-stu-id="ede04-560">(</span></span>|<span data-ttu-id="ede04-561">[</span><span class="sxs-lookup"><span data-stu-id="ede04-561">[</span></span>|  
|<span data-ttu-id="ede04-562">)</span><span class="sxs-lookup"><span data-stu-id="ede04-562">)</span></span>|<span data-ttu-id="ede04-563">]</span><span class="sxs-lookup"><span data-stu-id="ede04-563">]</span></span>|  
|#|<span data-ttu-id="ede04-564">_</span><span class="sxs-lookup"><span data-stu-id="ede04-564">_</span></span>|  
|<span data-ttu-id="ede04-565">\|_</span><span class="sxs-lookup"><span data-stu-id="ede04-565">\|_</span></span>|  
|/|<span data-ttu-id="ede04-566">_</span><span class="sxs-lookup"><span data-stu-id="ede04-566">_</span></span>|  
  
 <span data-ttu-id="ede04-567"><xref:System.AppDomain.FriendlyName%2A>的屬性<xref:System.AppDomain>從物件取得<xref:System.AppDomain.CurrentDomain%2A?displayProperty=nameWithType>屬性是可包含無效字元的執行個體名稱的常見來源。</span><span class="sxs-lookup"><span data-stu-id="ede04-567">The <xref:System.AppDomain.FriendlyName%2A> property of the <xref:System.AppDomain> object obtained from the <xref:System.AppDomain.CurrentDomain%2A?displayProperty=nameWithType> property is a common source of instance names that can contain invalid characters.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="ede04-568">下列程式碼範例會建立預設執行個體<xref:System.Diagnostics.PerformanceCounter>類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-568">The following code example creates a default instance of the <xref:System.Diagnostics.PerformanceCounter> class.</span></span> <span data-ttu-id="ede04-569">建立執行個體之後， <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>，並<xref:System.Diagnostics.PerformanceCounter.InstanceName%2A>屬性值已設定，而且若要呼叫的結果<xref:System.Diagnostics.PerformanceCounter.NextValue%2A>方法會顯示。</span><span class="sxs-lookup"><span data-stu-id="ede04-569">After the instance is created, the <xref:System.Diagnostics.PerformanceCounter.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounter.CounterName%2A>, and <xref:System.Diagnostics.PerformanceCounter.InstanceName%2A> property values are set, and the results of a call to the <xref:System.Diagnostics.PerformanceCounter.NextValue%2A> method are displayed.</span></span>  
  
 [!code-cpp[PerfCounter#1](~/samples/snippets/cpp/VS_Snippets_CLR/PerfCounter/CPP/perfcounter.cpp#1)]
 [!code-csharp[PerfCounter#1](~/samples/snippets/csharp/VS_Snippets_CLR/PerfCounter/CS/perfcounter.cs#1)]
 [!code-vb[PerfCounter#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/PerfCounter/VB/perfcounter.vb#1)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="MachineName">
      <MemberSignature Language="C#" Value="public string MachineName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string MachineName" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.PerformanceCounter.MachineName" />
      <MemberSignature Language="VB.NET" Value="Public Property MachineName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ MachineName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.MachineName : string with get, set" Usage="System.Diagnostics.PerformanceCounter.MachineName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.Browsable(false)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.DefaultValue(".")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;xamarinmac-3.0">
          <AttributeName>System.ComponentModel.RecommendedAsConfigurable(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="xamarinmac-3.0">
          <AttributeName>System.MonoTODO("What's the machine name format?")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.ComponentModel.SettingsBindable(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="ede04-570">取得或設定這個效能計數器的電腦名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-570">Gets or sets the computer name for this performance counter</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="ede04-571">伺服器，效能計數器及其相關的分類所在處。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-571">The server on which the performance counter and its associated category reside.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-572">您可寫入才能存在於計數器的值，在本機電腦上。</span><span class="sxs-lookup"><span data-stu-id="ede04-572">You can write values only to counters that reside on the local computer.</span></span> <span data-ttu-id="ede04-573">不過，您可以讀取計數器的值，您可以從任何電腦的企業中擁有存取權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-573">However, you can read counter values from any computer in the enterprise for which you have access privileges.</span></span>  
  
 <span data-ttu-id="ede04-574">當您設定<xref:System.Diagnostics.PerformanceCounter.MachineName%2A>屬性以指向遠端電腦，<xref:System.Diagnostics.PerformanceCounter>執行個體會嘗試開啟該電腦上的計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-574">When you set the <xref:System.Diagnostics.PerformanceCounter.MachineName%2A> property to point to a remote computer, the <xref:System.Diagnostics.PerformanceCounter> instance attempts to open the counter on that computer.</span></span> <span data-ttu-id="ede04-575">如果計數器不存在，則設定這個屬性會擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="ede04-575">If the counter does not exist, setting this property throws an exception.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="ede04-576">
            <see cref="P:System.Diagnostics.PerformanceCounter.MachineName" /> 格式無效。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-576">The <see cref="P:System.Diagnostics.PerformanceCounter.MachineName" /> format is invalid.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-577">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-577">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="NextSample">
      <MemberSignature Language="C#" Value="public System.Diagnostics.CounterSample NextSample ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance valuetype System.Diagnostics.CounterSample NextSample() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.NextSample" />
      <MemberSignature Language="VB.NET" Value="Public Function NextSample () As CounterSample" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Diagnostics::CounterSample NextSample();" />
      <MemberSignature Language="F#" Value="member this.NextSample : unit -&gt; System.Diagnostics.CounterSample" Usage="performanceCounter.NextSample " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Diagnostics.CounterSample</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="ede04-578">取得計數器範例，並為其傳回未經處理或未計算的值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-578">Obtains a counter sample, and returns the raw, or uncalculated, value for it.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="ede04-579">
            <see cref="T:System.Diagnostics.CounterSample" />，表示系統為這個計數器取得的下一個未經處理的值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-579">A <see cref="T:System.Diagnostics.CounterSample" /> that represents the next raw value that the system obtains for this counter.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-580">這個方法通常用於包含未計算的值的計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-580">This method is generally used for counters that contain uncalculated values.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-581">如果值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>屬性是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process>效能計數器分類以.NET Framework 1.0 或 1.1 版中建立和<xref:System.InvalidOperationException>就會擲回。</span><span class="sxs-lookup"><span data-stu-id="ede04-581">If the value for the <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> property is <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process> and the performance counter category was created with .NET Framework version 1.0 or 1.1, an <xref:System.InvalidOperationException> is thrown.</span></span> <span data-ttu-id="ede04-582">建立與舊版本的效能計數器分類使用全域共用的記憶體和值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>必須是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>。</span><span class="sxs-lookup"><span data-stu-id="ede04-582">Performance counter categories created with earlier versions use global shared memory, and the value for <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> must be <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>.</span></span> <span data-ttu-id="ede04-583">如果類別不使用 1.0 或 1.1 版的.NET Framework 的版本上執行的應用程式中，刪除並重新建立類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-583">If the category is not used by applications running on versions 1.0 or 1.1 of the .NET Framework, delete and recreate the category.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-584">若要閱讀 Windows Vista、 Windows XP Professional x64 Edition 或 Windows Server 2003 中的效能計數器，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-584">To read performance counters in Windows Vista, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="ede04-585">若要避免將權限來存取效能計數器，Windows Vista 中的提高，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="ede04-585">To avoid having to elevate your privileges to access performance counters in Windows Vista, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="ede04-586">在 Windows Vista 中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-586">In Windows Vista, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="ede04-587">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="ede04-587">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="ede04-588">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="ede04-588">By default, you are in the standard user role.</span></span> <span data-ttu-id="ede04-589">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="ede04-589">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="ede04-590">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-590">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="ede04-591">下列程式碼範例示範如何使用<xref:System.Diagnostics.PerformanceCounter.NextSample%2A>方法，以取得計數器的下一個未計算的值。</span><span class="sxs-lookup"><span data-stu-id="ede04-591">The following code example demonstrates how to use the <xref:System.Diagnostics.PerformanceCounter.NextSample%2A> method to obtain the next uncalculated value of a counter.</span></span> <span data-ttu-id="ede04-592">這個程式碼範例是針對較大範例的一部分<xref:System.Diagnostics.PerformanceCounter>類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-592">This code example is part of a larger example for the <xref:System.Diagnostics.PerformanceCounter> class.</span></span>  
  
 [!code-cpp[PerformanceCounterType.AverageCounter64#3](~/samples/snippets/cpp/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/CPP/averagecount32.cpp#3)]
 [!code-csharp[PerformanceCounterType.AverageCounter64#3](~/samples/snippets/csharp/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/CS/averagecount32.cs#3)]
 [!code-vb[PerformanceCounterType.AverageCounter64#3](~/samples/snippets/visualbasic/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/VB/averagecount32.vb#3)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-593">該執行個體沒有與效能計數器正確的相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-593">The instance is not correctly associated with a performance counter.</span>
          </span>
          <span data-ttu-id="ede04-594">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-594">-or-</span>
          </span>
          <span data-ttu-id="ede04-595">使用全域共用記憶體時，<see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> 屬性是設定為 <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-595">The <see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> property is set to <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" /> when using global shared memory.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="ede04-596">在存取系統 API 時發生錯誤 </span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-596">An error occurred when accessing a system API.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-597">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-597">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="ede04-598">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-598">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-599">用於讀取的效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-599">for reading the performance counter category.</span>
          </span>
          <span data-ttu-id="ede04-600">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-600">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
      </Docs>
    </Member>
    <Member MemberName="NextValue">
      <MemberSignature Language="C#" Value="public float NextValue ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance float32 NextValue() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.NextValue" />
      <MemberSignature Language="VB.NET" Value="Public Function NextValue () As Single" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; float NextValue();" />
      <MemberSignature Language="F#" Value="member this.NextValue : unit -&gt; single" Usage="performanceCounter.NextValue " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Single</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="ede04-601">取得計數器樣本，並為其傳回計算過的值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-601">Obtains a counter sample and returns the calculated value for it.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="ede04-602">系統為這個計數器取得的下一個計算過的值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-602">The next calculated value that the system obtains for this counter.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  <span data-ttu-id="ede04-603">如果計數器的導出的值取決於兩個計數器讀取，第一次讀取的作業會傳回 0.0。</span><span class="sxs-lookup"><span data-stu-id="ede04-603">If the calculated value of a counter depends on two counter reads, the first read operation returns 0.0.</span></span> <span data-ttu-id="ede04-604">重設指定不同的計數器的效能計數器屬性就相當於建立新的效能計數器，並使用新的屬性的第一個讀取的作業傳回 0.0。</span><span class="sxs-lookup"><span data-stu-id="ede04-604">Resetting the performance counter properties to specify a different counter is equivalent to creating a new performance counter, and the first read operation using the new properties returns 0.0.</span></span> <span data-ttu-id="ede04-605">若要呼叫的建議的延遲時間<xref:System.Diagnostics.PerformanceCounter.NextValue%2A>方法是一秒，允許執行下一個累加讀取計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-605">The recommended delay time between calls to the <xref:System.Diagnostics.PerformanceCounter.NextValue%2A> method is one second, to allow the counter to perform the next incremental read.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-606">若要讀取效能計數器，您必須使用系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-606">To read performance counters, you must have administrative privileges.</span></span> <span data-ttu-id="ede04-607">在 Windows Vista 中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-607">In Windows Vista, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="ede04-608">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="ede04-608">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="ede04-609">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="ede04-609">By default, you are in the standard user role.</span></span> <span data-ttu-id="ede04-610">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="ede04-610">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="ede04-611">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-611">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="ede04-612">下列程式碼範例會建立<xref:System.Diagnostics.PerformanceCounterType.ElapsedTime>計數器，並使用<xref:System.Diagnostics.PerformanceCounter.NextValue%2A>方法來顯示時間週期內的計數器的值。</span><span class="sxs-lookup"><span data-stu-id="ede04-612">The following code example creates an <xref:System.Diagnostics.PerformanceCounterType.ElapsedTime> counter and uses the <xref:System.Diagnostics.PerformanceCounter.NextValue%2A> method to display the counter's values over a time period.</span></span>  
  
 [!code-cpp[PerformanceCounterType.ElapsedTime#2](~/samples/snippets/cpp/VS_Snippets_CLR/PerformanceCounterType.ElapsedTime/CPP/elapsedtime.cpp#2)]
 [!code-csharp[PerformanceCounterType.ElapsedTime#2](~/samples/snippets/csharp/VS_Snippets_CLR/PerformanceCounterType.ElapsedTime/CS/elapsedtime.cs#2)]
 [!code-vb[PerformanceCounterType.ElapsedTime#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/PerformanceCounterType.ElapsedTime/VB/elapsedtime.vb#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-613">該執行個體沒有與效能計數器正確的相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-613">The instance is not correctly associated with a performance counter.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="ede04-614">在存取系統 API 時發生錯誤 </span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-614">An error occurred when accessing a system API.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-615">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-615">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="ede04-616">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-616">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-617">用於讀取的效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-617">for reading the performance counter category.</span>
          </span>
          <span data-ttu-id="ede04-618">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-618">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
      </Docs>
    </Member>
    <Member MemberName="RawValue">
      <MemberSignature Language="C#" Value="public long RawValue { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance int64 RawValue" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.PerformanceCounter.RawValue" />
      <MemberSignature Language="VB.NET" Value="Public Property RawValue As Long" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property long RawValue { long get(); void set(long value); };" />
      <MemberSignature Language="F#" Value="member this.RawValue : int64 with get, set" Usage="System.Diagnostics.PerformanceCounter.RawValue" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.Browsable(false)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.DesignerSerializationVisibility(System.ComponentModel.DesignerSerializationVisibility.Hidden)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="xamarinmac-3.0">
          <AttributeName>System.Diagnostics.MonitoringDescription("The raw value of the counter.")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Diagnostics.MonitoringDescription("PC_RawValue")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Int64</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="ede04-619">取得或設定這個計數器的未經處理或未經計算的值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-619">Gets or sets the raw, or uncalculated, value of this counter.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="ede04-620">計數器未經處理的值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-620">The raw value of the counter.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-621">如果計數器型別是 32 位元大小，而您嘗試將此屬性設定為太大，無法容納值，屬性就會截斷為 32 位元值。</span><span class="sxs-lookup"><span data-stu-id="ede04-621">If the counter type is a 32-bit size and you attempt to set this property to a value that is too large to fit, the property truncates the value to 32 bits.</span></span> <span data-ttu-id="ede04-622">當讀取本機電腦上的自訂計數器，請使用<xref:System.Diagnostics.PerformanceCounter.RawValue%2A>屬性，而不是導出的值可能會產生效能明顯優於在未經處理的值不足的狀況。</span><span class="sxs-lookup"><span data-stu-id="ede04-622">When reading custom counters on the local computer, using the <xref:System.Diagnostics.PerformanceCounter.RawValue%2A> property rather than a calculated value can produce significantly better performance in scenarios where the raw value is sufficient.</span></span>  
  
 <span data-ttu-id="ede04-623">如果您正在閱讀的計數器是唯讀屬性，取得<xref:System.Diagnostics.PerformanceCounter.RawValue%2A>屬性的屬性稱為次取樣的計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-623">If the counter that you are reading is read-only, getting the <xref:System.Diagnostics.PerformanceCounter.RawValue%2A> property samples the counter at the time that the property is called.</span></span> <span data-ttu-id="ede04-624">這個動作相當於發出初始呼叫<xref:System.Diagnostics.PerformanceCounter.NextSample%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="ede04-624">This action is equivalent to making an initial call to the <xref:System.Diagnostics.PerformanceCounter.NextSample%2A> method.</span></span> <span data-ttu-id="ede04-625">如果您後續呼叫<xref:System.Diagnostics.PerformanceCounter.NextSample%2A>，您可以在兩個呼叫所傳回的值上執行計算。</span><span class="sxs-lookup"><span data-stu-id="ede04-625">If you subsequently call <xref:System.Diagnostics.PerformanceCounter.NextSample%2A>, you can perform calculations on the values that both calls returned.</span></span>  
  
 <span data-ttu-id="ede04-626">由於系統計數器是唯讀的您可以取得，但未設定其原始值。</span><span class="sxs-lookup"><span data-stu-id="ede04-626">Because system counters are read-only, you can get but not set their raw values.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-627"><xref:System.Diagnostics.PerformanceCounter.Increment%2A>， <xref:System.Diagnostics.PerformanceCounter.IncrementBy%2A>，和<xref:System.Diagnostics.PerformanceCounter.Decrement%2A>方法使用聯鎖更新計數器的值。</span><span class="sxs-lookup"><span data-stu-id="ede04-627">The <xref:System.Diagnostics.PerformanceCounter.Increment%2A>, <xref:System.Diagnostics.PerformanceCounter.IncrementBy%2A>, and <xref:System.Diagnostics.PerformanceCounter.Decrement%2A> methods use interlocks to update the counter value.</span></span> <span data-ttu-id="ede04-628">這有助於在多執行緒或多重處理序的案例，也會導致對效能帶來負面影響，保留的計數器值正確無誤。</span><span class="sxs-lookup"><span data-stu-id="ede04-628">This helps keep the counter value accurate in multithreaded or multiprocess scenarios, but also results in a performance penalty.</span></span> <span data-ttu-id="ede04-629">如果您不需要精確度的連鎖作業提供，您可以更新<xref:System.Diagnostics.PerformanceCounter.RawValue%2A>屬性直接直到 5 倍的效能改善。</span><span class="sxs-lookup"><span data-stu-id="ede04-629">If you do not need the accuracy that interlocked operations provide, you can update the <xref:System.Diagnostics.PerformanceCounter.RawValue%2A> property directly for up to a 5 times performance improvement.</span></span>  <span data-ttu-id="ede04-630">不過，在多執行緒的情況下，某些更新為計數器值可能會忽略，導致不正確的資料。</span><span class="sxs-lookup"><span data-stu-id="ede04-630">However, in multithreaded scenarios, some updates to the counter value might be ignored, resulting in inaccurate data.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-631">如果值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>屬性是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process>效能計數器分類以.NET Framework 1.0 或 1.1 版中建立和<xref:System.InvalidOperationException>就會擲回。</span><span class="sxs-lookup"><span data-stu-id="ede04-631">If the value for the <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> property is <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process> and the performance counter category was created with .NET Framework version 1.0 or 1.1, an <xref:System.InvalidOperationException> is thrown.</span></span> <span data-ttu-id="ede04-632">建立與舊版本的效能計數器分類使用全域共用的記憶體和值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>必須是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>。</span><span class="sxs-lookup"><span data-stu-id="ede04-632">Performance counter categories created with earlier versions use global shared memory, and the value for <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> must be <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>.</span></span> <span data-ttu-id="ede04-633">如果類別不使用 1.0 或 1.1 版的.NET Framework 的版本上執行的應用程式中，刪除並重新建立類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-633">If the category is not used by applications running on versions 1.0 or 1.1 of the .NET Framework, delete and recreate the category.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-634">若要閱讀 Windows Vista、 Windows XP Professional x64 Edition 或 Windows Server 2003 中的效能計數器，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-634">To read performance counters in Windows Vista, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="ede04-635">若要避免將權限來存取效能計數器，Windows Vista 中的提高，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="ede04-635">To avoid having to elevate your privileges to access performance counters in Windows Vista, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="ede04-636">在 Windows Vista 中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-636">In Windows Vista, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="ede04-637">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="ede04-637">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="ede04-638">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="ede04-638">By default, you are in the standard user role.</span></span> <span data-ttu-id="ede04-639">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="ede04-639">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="ede04-640">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="ede04-640">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="ede04-641">下列範例會使用<xref:System.Diagnostics.CounterSample>類別，以顯示的值<xref:System.Diagnostics.PerformanceCounter.RawValue%2A>計數器的屬性。</span><span class="sxs-lookup"><span data-stu-id="ede04-641">The following example uses the <xref:System.Diagnostics.CounterSample> class to display the value of the <xref:System.Diagnostics.PerformanceCounter.RawValue%2A> property for a counter.</span></span>  
  
 [!code-cpp[PerformanceCounterType.AverageCounter64#1](~/samples/snippets/cpp/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/CPP/averagecount32.cpp#1)]
 [!code-csharp[PerformanceCounterType.AverageCounter64#1](~/samples/snippets/csharp/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/CS/averagecount32.cs#1)]
 [!code-vb[PerformanceCounterType.AverageCounter64#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/PerformanceCounterType.AverageCounter64/VB/averagecount32.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-642">您嘗試設定計數器的未經處理的值，但是處理器是唯讀的。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-642">You are trying to set the counter's raw value, but the counter is read-only.</span>
          </span>
          <span data-ttu-id="ede04-643">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-643">-or-</span>
          </span>
          <span data-ttu-id="ede04-644">該執行個體沒有與效能計數器正確的相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-644">The instance is not correctly associated with a performance counter.</span>
          </span>
          <span data-ttu-id="ede04-645">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-645">-or-</span>
          </span>
          <span data-ttu-id="ede04-646">使用全域共用記憶體時，<see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> 屬性是設定為 <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-646">The <see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> property is set to <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" /> when using global shared memory.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="ede04-647">在存取系統 API 時發生錯誤 </span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-647">An error occurred when accessing a system API.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-648">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-648">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="ede04-649">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-649">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-650">用於寫入的效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-650">for writing the performance counter category.</span>
          </span>
          <span data-ttu-id="ede04-651">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-651">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />.</span>
          </span>
        </permission>
      </Docs>
    </Member>
    <Member MemberName="ReadOnly">
      <MemberSignature Language="C#" Value="public bool ReadOnly { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool ReadOnly" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.PerformanceCounter.ReadOnly" />
      <MemberSignature Language="VB.NET" Value="Public Property ReadOnly As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool ReadOnly { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.ReadOnly : bool with get, set" Usage="System.Diagnostics.PerformanceCounter.ReadOnly" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.Browsable(false)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.ComponentModel.DefaultValue(true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="xamarinmac-3.0">
          <AttributeName>System.Diagnostics.MonitoringDescription("The accessability level of the counter.")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
          <AttributeName>System.Diagnostics.MonitoringDescription("PC_ReadOnly")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="ede04-652">取得或設定數值，表示 <see cref="T:System.Diagnostics.PerformanceCounter" /> 執行個體是否處於唯讀模式。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-652">Gets or sets a value indicating whether this <see cref="T:System.Diagnostics.PerformanceCounter" /> instance is in read-only mode.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="ede04-653">如果 <see cref="T:System.Diagnostics.PerformanceCounter" /> 執行個體是唯讀模式 (即使計數器本身是自訂的 .NET Framework 計數器)，則為 <see langword="true" />；如果它是讀取/寫入模式，則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-653">
              <see langword="true" />, if the <see cref="T:System.Diagnostics.PerformanceCounter" /> instance is in read-only mode (even if the counter itself is a custom .NET Framework counter); <see langword="false" /> if it is in read/write mode.</span>
          </span>
          <span data-ttu-id="ede04-654">預設值是建構函式設定的值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-654">The default is the value set by the constructor.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-655">系統的計數器，如<xref:System.Diagnostics.PerformanceCounter.ReadOnly%2A>應一律`true`。</span><span class="sxs-lookup"><span data-stu-id="ede04-655">For a system counter, <xref:System.Diagnostics.PerformanceCounter.ReadOnly%2A> should always `true`.</span></span> <span data-ttu-id="ede04-656">您無法寫入至系統計數器。</span><span class="sxs-lookup"><span data-stu-id="ede04-656">You cannot write to a system counter.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="RemoveInstance">
      <MemberSignature Language="C#" Value="public void RemoveInstance ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void RemoveInstance() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounter.RemoveInstance" />
      <MemberSignature Language="VB.NET" Value="Public Sub RemoveInstance ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void RemoveInstance();" />
      <MemberSignature Language="F#" Value="member this.RemoveInstance : unit -&gt; unit" Usage="performanceCounter.RemoveInstance " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="xamarinmac-3.0">
          <AttributeName>System.MonoTODO</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.Runtime.ConstrainedExecution.ReliabilityContract(System.Runtime.ConstrainedExecution.Consistency.WillNotCorruptState, System.Runtime.ConstrainedExecution.Cer.MayFail)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="ede04-657">刪除由 <see cref="T:System.Diagnostics.PerformanceCounter" /> 物件 <see cref="P:System.Diagnostics.PerformanceCounter.InstanceName" /> 屬性所指定的分類執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-657">Deletes the category instance specified by the <see cref="T:System.Diagnostics.PerformanceCounter" /> object <see cref="P:System.Diagnostics.PerformanceCounter.InstanceName" /> property.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ede04-658">您可以移除僅針對自訂計數器執行個體。</span><span class="sxs-lookup"><span data-stu-id="ede04-658">You can remove an instance only for a custom counter.</span></span> <span data-ttu-id="ede04-659">所有系統計數器都是唯讀的因此嘗試移除其中一個會擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="ede04-659">All system counters are read-only, so attempting to remove one of them throws an exception.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-660">若要發行的效能計數器共用記憶體時，請避免可能的競爭情形，建議<xref:System.Diagnostics.PerformanceCounter.RemoveInstance%2A>方法呼叫從<xref:System.AppDomain.DomainUnload>事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="ede04-660">To avoid a possible race condition when the performance counter shared memory is released, it is recommended that the <xref:System.Diagnostics.PerformanceCounter.RemoveInstance%2A> method be called from the <xref:System.AppDomain.DomainUnload> event handler.</span></span>  
  
 <span data-ttu-id="ede04-661">若要建立效能類別執行個體，指定`instanceName`上<xref:System.Diagnostics.PerformanceCounter.%23ctor%2A>建構函式。</span><span class="sxs-lookup"><span data-stu-id="ede04-661">To create a performance category instance, specify an `instanceName` on the <xref:System.Diagnostics.PerformanceCounter.%23ctor%2A> constructor.</span></span> <span data-ttu-id="ede04-662">如果所指定的類別執行個體`instanceName`已經存在新的物件會參考現有的類別執行個體。</span><span class="sxs-lookup"><span data-stu-id="ede04-662">If the category instance specified by `instanceName` already exists the new object will reference the existing category instance.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ede04-663">如果值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>屬性是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process>效能計數器分類以.NET Framework 1.0 或 1.1 版中建立和<xref:System.InvalidOperationException>就會擲回。</span><span class="sxs-lookup"><span data-stu-id="ede04-663">If the value for the <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> property is <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Process> and the performance counter category was created with .NET Framework version 1.0 or 1.1, an <xref:System.InvalidOperationException> is thrown.</span></span> <span data-ttu-id="ede04-664">建立與舊版本的效能計數器分類使用全域共用的記憶體和值<xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A>必須是<xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>。</span><span class="sxs-lookup"><span data-stu-id="ede04-664">Performance counter categories created with earlier versions use global shared memory, and the value for <xref:System.Diagnostics.PerformanceCounter.InstanceLifetime%2A> must be <xref:System.Diagnostics.PerformanceCounterInstanceLifetime.Global>.</span></span> <span data-ttu-id="ede04-665">如果類別不使用 1.0 或 1.1 版的.NET Framework 的版本上執行的應用程式中，刪除並重新建立類別。</span><span class="sxs-lookup"><span data-stu-id="ede04-665">If the category is not used by applications running on versions 1.0 or 1.1 of the .NET Framework, delete and recreate the category.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="ede04-666">這個計數器是唯讀的，所以任何與分類相關的執行個體都無法移除。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-666">This counter is read-only, so any instance that is associated with the category cannot be removed.</span>
          </span>
          <span data-ttu-id="ede04-667">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-667">-or-</span>
          </span>
          <span data-ttu-id="ede04-668">該執行個體沒有與效能計數器正確的相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-668">The instance is not correctly associated with a performance counter.</span>
          </span>
          <span data-ttu-id="ede04-669">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-669">-or-</span>
          </span>
          <span data-ttu-id="ede04-670">使用全域共用記憶體時，<see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> 屬性是設定為 <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-670">The <see cref="P:System.Diagnostics.PerformanceCounter.InstanceLifetime" /> property is set to <see cref="F:System.Diagnostics.PerformanceCounterInstanceLifetime.Process" /> when using global shared memory.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="ede04-671">在存取系統 API 時發生錯誤 </span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-671">An error occurred when accessing a system API.</span>
          </span>
        </exception>
        <exception cref="T:System.PlatformNotSupportedException">
          <span data-ttu-id="ede04-672">平台是 Windows 98 或 Windows Millennium Edition (Me)，這兩個平台都不支援效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-672">The platform is Windows 98 or Windows Millennium Edition (Me), which does not support performance counters.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="ede04-673">用於寫入的效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-673">for writing the performance counter category.</span>
          </span>
          <span data-ttu-id="ede04-674">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="ede04-674">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Write" />.</span>
          </span>
        </permission>
      </Docs>
    </Member>
  </Members>
</Type>