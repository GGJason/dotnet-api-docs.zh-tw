<Type Name="PerformanceCounterCategory" FullName="System.Diagnostics.PerformanceCounterCategory">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="7aef01809af018ffc683e3b14dd1ccd6a253c08f" />
    <Meta Name="ms.sourcegitcommit" Value="9e06b87bcfa4347dbbaaa4b3cc36b43b93b5badb" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="zh-TW" />
    <Meta Name="ms.lasthandoff" Value="11/20/2018" />
    <Meta Name="ms.locfileid" Value="52210695" />
  </Metadata>
  <TypeSignature Language="C#" Value="public sealed class PerformanceCounterCategory" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit PerformanceCounterCategory extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Diagnostics.PerformanceCounterCategory" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class PerformanceCounterCategory" />
  <TypeSignature Language="C++ CLI" Value="public ref class PerformanceCounterCategory sealed" />
  <TypeSignature Language="F#" Value="type PerformanceCounterCategory = class" />
  <AssemblyInfo>
    <AssemblyName>System</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>
      <span data-ttu-id="0a4d3-101">表示效能物件，定義效能計數器的分類。</span>
      <span class="sxs-lookup">
        <span data-stu-id="0a4d3-101">Represents a performance object, which defines a category of performance counters.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!IMPORTANT]
>  <span data-ttu-id="0a4d3-102">建立或刪除效能計數器需要同步處理的基礎程式碼使用具名的 mutex。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-102">Creating or deleting a performance counter requires synchronization of the underlying code by using a named mutex.</span></span> <span data-ttu-id="0a4d3-103">如果高特殊權限的應用程式鎖定具名的 mutex，嘗試建立或刪除效能計數器就會導致應用程式停止回應，直到釋放鎖定為止。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-103">If a highly privileged application locks the named mutex, attempts to create or delete a performance counter causes the application to stop responding until the lock is released.</span></span> <span data-ttu-id="0a4d3-104">若要避免這個問題，永遠不會授與<xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode>不受信任的程式碼的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-104">To help avoid this problem, never grant <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission to untrusted code.</span></span> <span data-ttu-id="0a4d3-105">颾魤 ㄛ<xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode>權限可能會允許略過其他權限，以及只應該授與高度信任程式碼。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-105">In addition, <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission potentially allows other permissions to be bypassed and should only be granted to highly trusted code.</span></span>  
  
 <span data-ttu-id="0a4d3-106"><xref:System.Diagnostics.PerformanceCounterCategory>執行個體的<xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A>屬性會顯示在效能檢視器應用程式的 [新增計數器] 對話方塊的 [效能物件] 欄位。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-106">The <xref:System.Diagnostics.PerformanceCounterCategory> instance's <xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A> property is displayed in the Performance Object field of the Performance Viewer application's Add Counter dialog box.</span></span>  
  
 <span data-ttu-id="0a4d3-107"><xref:System.Diagnostics.PerformanceCounterCategory>類別提供數種方法可以互動計數器和電腦上的分類。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-107">The <xref:System.Diagnostics.PerformanceCounterCategory> class provides several methods for interacting with counters and categories on the computer.</span></span> <span data-ttu-id="0a4d3-108"><xref:System.Diagnostics.PerformanceCounterCategory.Create%2A>方法可讓您定義自訂類別。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-108">The <xref:System.Diagnostics.PerformanceCounterCategory.Create%2A> methods enable you to define custom categories.</span></span> <span data-ttu-id="0a4d3-109"><xref:System.Diagnostics.PerformanceCounterCategory.Delete%2A>方法可用來從電腦移除類別目錄。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-109">The <xref:System.Diagnostics.PerformanceCounterCategory.Delete%2A> method provides a way to remove categories from the computer.</span></span> <span data-ttu-id="0a4d3-110"><xref:System.Diagnostics.PerformanceCounterCategory.GetCategories%2A>方法可讓您檢視類別清單，而<xref:System.Diagnostics.PerformanceCounterCategory.ReadCategory%2A>擷取所有計數器與執行個體資料相關聯的單一類別。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-110">The <xref:System.Diagnostics.PerformanceCounterCategory.GetCategories%2A> method enables you to view the list of categories, while <xref:System.Diagnostics.PerformanceCounterCategory.ReadCategory%2A> retrieves all the counter and instance data associated with a single category.</span></span>  
  
 <span data-ttu-id="0a4d3-111">效能計數器會發行有關應用程式的效能資料。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-111">A performance counter publishes performance data about an application.</span></span> <span data-ttu-id="0a4d3-112">類別包含實體的元件 （例如處理器、 磁碟和記憶體） 和系統物件 （例如處理程序和執行緒）。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-112">Categories include physical components (such as processors, disks, and memory) and system objects (such as processes and threads).</span></span> <span data-ttu-id="0a4d3-113">系統與相同的效能物件相關的計數器會分組為類別，表示其一般的焦點。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-113">System counters that are related to the same performance object are grouped into a category that indicates their common focus.</span></span> <span data-ttu-id="0a4d3-114">當您建立的執行個體<xref:System.Diagnostics.PerformanceCounter>類別，您先指出與其元件將互動，而且然後從該類別選取計數器的分類。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-114">When you create an instance of the <xref:System.Diagnostics.PerformanceCounter> class, you first indicate the category with which the component will interact, and then you choose a counter from that category.</span></span>  
  
 <span data-ttu-id="0a4d3-115">比方說，一個 Windows 計數器分類是 [記憶體] 類別。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-115">For example, one Windows counter category is the Memory category.</span></span> <span data-ttu-id="0a4d3-116">此類別內的系統計數器會追蹤記憶體的資料，例如可用的位元組數目和快取的位元組數目。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-116">System counters within this category track memory data such as the number of bytes available and the number of bytes cached.</span></span> <span data-ttu-id="0a4d3-117">如果您想要使用 在您的應用程式中快取的位元組，您會建立的執行個體<xref:System.Diagnostics.PerformanceCounter>元件，將它連接到 記憶體 類別中，，，然後挑選該類別的適當計數器 （在此案例中，快取的位元組為單位）。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-117">If you wanted to work with the bytes cached in your application, you would create an instance of the <xref:System.Diagnostics.PerformanceCounter> component, connect it to the Memory category, and then pick the appropriate counter (in this case, Cached Bytes) from that category.</span></span>  
  
 <span data-ttu-id="0a4d3-118">雖然您的系統提供許多其他的計數器類別，您可能將互動最常使用的類別會快取、 記憶體、 物件、 PhysicalDisk、 程序、 處理器、 伺服器、 系統和執行緒的類別。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-118">Although your system makes many more counter categories available, the categories that you will probably interact with most frequently are the Cache, Memory, Objects, PhysicalDisk, Process, Processor, Server, System, and Thread categories.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="0a4d3-119"><xref:System.Diagnostics.PerformanceCounter.RemoveInstance%2A>方法中的<xref:System.Diagnostics.PerformanceCounter>類別會在發行的計數器，以及如果該類別選取重複使用的選項，則會重複使用的計數器執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-119">The <xref:System.Diagnostics.PerformanceCounter.RemoveInstance%2A> method in the <xref:System.Diagnostics.PerformanceCounter> class will release the counter and, if the reuse option is selected for that category, the instance of the counter will be reused.</span></span> <span data-ttu-id="0a4d3-120">如果另一個處理序或甚至是另一個部分，程式碼會嘗試寫入計數器執行個體，這可能會造成競爭情形。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-120">This could cause a race condition if another process or even another part of the code is trying to write to the counter instance.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-121">強烈建議在應用程式的安裝期間，不會在應用程式執行期間，建立新的效能計數器分類。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-121">It is strongly recommended that new performance counter categories be created during the installation of the application, not during the execution of the application.</span></span> <span data-ttu-id="0a4d3-122">這可讓作業系統重新整理其已註冊的效能計數器分類清單的時間。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-122">This allows time for the operating system to refresh its list of registered performance counter categories.</span></span> <span data-ttu-id="0a4d3-123">如果清單不會重新整理，則嘗試使用 「 類別目錄將會失敗。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-123">If the list has not been refreshed, the attempt to use the category will fail.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-124">與安裝的效能計數器分類[!INCLUDE[dnprdnlong](~/includes/dnprdnlong-md.md)]使用不同的共用的記憶體，且每個效能計數器分類都有它自己的記憶體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-124">Performance counter categories installed with the [!INCLUDE[dnprdnlong](~/includes/dnprdnlong-md.md)] use separate shared memory, with each performance counter category having its own memory.</span></span> <span data-ttu-id="0a4d3-125">您可以指定不同的共用記憶體的大小，藉由建立 DWORD 登錄機碼 HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services 中名為 FileMappingSize\\*\<類別名稱 >* \效能。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-125">You can specify the size of separate shared memory by creating a DWORD named FileMappingSize in the registry key HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\\*\<category name>* \Performance.</span></span> <span data-ttu-id="0a4d3-126">FileMappingSize 值設定為類別目錄的共用的記憶體大小。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-126">The FileMappingSize value is set to the shared memory size of the category.</span></span> <span data-ttu-id="0a4d3-127">預設大小為 131072 十進位。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-127">The default size is 131072 decimal.</span></span> <span data-ttu-id="0a4d3-128">FileMappingSize 值不存在，如果`fileMappingSize`屬性值`performanceCounters`使用 Machine.config 檔案中指定的項目時，造成額外負擔的組態檔處理。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-128">If the FileMappingSize value is not present, the `fileMappingSize` attribute value for the `performanceCounters` element specified in the Machine.config file is used, causing additional overhead for configuration file processing.</span></span> <span data-ttu-id="0a4d3-129">您可以藉由設定登錄中的檔案對應大小，達成應用程式啟動的效能改善。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-129">You can realize a performance improvement for application startup by setting the file mapping size in the registry.</span></span> <span data-ttu-id="0a4d3-130">如需有關檔案對應大小的詳細資訊，請參閱[ &lt;performanceCounters&gt;](~/docs/framework/configure-apps/file-schema/trace-debug/performancecounters-element.md)。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-130">For more information about the file mapping size, see [&lt;performanceCounters&gt;](~/docs/framework/configure-apps/file-schema/trace-debug/performancecounters-element.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-131">下列程式碼範例會判斷是否<xref:System.Diagnostics.PerformanceCounter>及其<xref:System.Diagnostics.PerformanceCounterCategory>存在於本機電腦或另一部電腦上。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-131">The following code example determines whether a <xref:System.Diagnostics.PerformanceCounter> and its <xref:System.Diagnostics.PerformanceCounterCategory> exist on the local computer or on another computer.</span></span> <span data-ttu-id="0a4d3-132">如果這些物件不存在本機電腦上，此範例 （選擇性） 會建立它們。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-132">If these objects do not exist on the local computer, the example optionally creates them.</span></span> <span data-ttu-id="0a4d3-133">它會使用<xref:System.Diagnostics.PerformanceCounterCategory.Exists%2A>方法，以判斷是否<xref:System.Diagnostics.PerformanceCounterCategory>存在。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-133">It uses the <xref:System.Diagnostics.PerformanceCounterCategory.Exists%2A> method to determine whether the <xref:System.Diagnostics.PerformanceCounterCategory> exists.</span></span>  <span data-ttu-id="0a4d3-134">如果<xref:System.Diagnostics.PerformanceCounterCategory>不存在並沒有計數器指定名稱，或如果電腦是在遠端電腦，範例就會結束。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-134">If the <xref:System.Diagnostics.PerformanceCounterCategory> does not exist and no counter name is specified, or if the computer is a remote machine, the example exits.</span></span>  
  
 <span data-ttu-id="0a4d3-135">如果<xref:System.Diagnostics.PerformanceCounter>提供名稱，此範例會使用<xref:System.Diagnostics.PerformanceCounterCategory.CounterExists%2A>方法，並向使用者顯示結果。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-135">If a <xref:System.Diagnostics.PerformanceCounter> name is provided, the example uses the <xref:System.Diagnostics.PerformanceCounterCategory.CounterExists%2A> method and displays the result to the user.</span></span> <span data-ttu-id="0a4d3-136">如果<xref:System.Diagnostics.PerformanceCounter>不存在，使用者可以刪除並重建<xref:System.Diagnostics.PerformanceCounterCategory>與新<xref:System.Diagnostics.PerformanceCounter>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-136">If the <xref:System.Diagnostics.PerformanceCounter> does not exist, the user can delete and re-create the <xref:System.Diagnostics.PerformanceCounterCategory> with the new <xref:System.Diagnostics.PerformanceCounter>.</span></span> <span data-ttu-id="0a4d3-137">如果使用者這麼做，類別也會刪除使用<xref:System.Diagnostics.PerformanceCounterCategory.Delete%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-137">If the user does so, the category is deleted using the <xref:System.Diagnostics.PerformanceCounterCategory.Delete%2A> method.</span></span>  
  
 <span data-ttu-id="0a4d3-138">如果要求，此範例現在會建立新<xref:System.Diagnostics.PerformanceCounterCategory>並<xref:System.Diagnostics.PerformanceCounter>使用<xref:System.Diagnostics.PerformanceCounterCategory.Create%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-138">If requested, the example now creates the new <xref:System.Diagnostics.PerformanceCounterCategory> and <xref:System.Diagnostics.PerformanceCounter> using the <xref:System.Diagnostics.PerformanceCounterCategory.Create%2A> method.</span></span> <span data-ttu-id="0a4d3-139">如果指定執行個體名稱，則此範例會使用<xref:System.Diagnostics.PerformanceCounterCategory.InstanceExists%2A>方法，並顯示結果。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-139">If an instance name is specified, the example uses the <xref:System.Diagnostics.PerformanceCounterCategory.InstanceExists%2A> method and displays the result.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.Class#27](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.Class/CS/perfcountercatcreateexist.cs#27)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.Class#27](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.Class/VB/perfcountercatcreateexist.vb#27)]  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Diagnostics.PerformanceCounter" />
    <altmember cref="T:System.Diagnostics.CounterCreationDataCollection" />
    <altmember cref="T:System.Diagnostics.CounterSample" />
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-140">初始化 <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> 類別的新執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-140">Initializes a new instance of the <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> class.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public PerformanceCounterCategory ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; PerformanceCounterCategory();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-141">初始化 <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> 類別的新執行個體，將 <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> 屬性保留為空的，並將 <see cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" /> 屬性設定為本機電腦。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-141">Initializes a new instance of the <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> class, leaves the <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> property empty, and sets the <see cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" /> property to the local computer.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-142"><xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A>屬性必須設定才能將此關聯<xref:System.Diagnostics.PerformanceCounterCategory>與伺服器上的效能物件的執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-142">The <xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A> property must be set before associating this <xref:System.Diagnostics.PerformanceCounterCategory> instance with a performance object on the server.</span></span> <span data-ttu-id="0a4d3-143">否則，會擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-143">Otherwise, an exception is thrown.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-144">下列程式碼範例接受<xref:System.Diagnostics.PerformanceCounterCategory>名稱和電腦名稱，從命令列。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-144">The following code example accepts a <xref:System.Diagnostics.PerformanceCounterCategory> name and a computer name from the command line.</span></span>  <span data-ttu-id="0a4d3-145">它會建立<xref:System.Diagnostics.PerformanceCounterCategory>使用適用於提供的參數數目的建構函式多載則會顯示其屬性。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-145">It creates a <xref:System.Diagnostics.PerformanceCounterCategory> using the constructor overload appropriate for the number of parameters provided, then displays its properties.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.OtherMembers#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/CS/perfcountercatctor.cs#4)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.OtherMembers#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/VB/perfcountercatctor.vb#4)]  
  
 ]]></format>
        </remarks>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-146">用於讀取效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-146">for reading performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-147">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-147">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" />
        <altmember cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public PerformanceCounterCategory (string categoryName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string categoryName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.#ctor(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (categoryName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; PerformanceCounterCategory(System::String ^ categoryName);" />
      <MemberSignature Language="F#" Value="new System.Diagnostics.PerformanceCounterCategory : string -&gt; System.Diagnostics.PerformanceCounterCategory" Usage="new System.Diagnostics.PerformanceCounterCategory categoryName" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="categoryName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="categoryName">
          <span data-ttu-id="0a4d3-148">效能計數器分類或效能物件的名稱，用來與這個 <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> 執行個體相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-148">The name of the performance counter category, or performance object, with which to associate this <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> instance.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-149">初始化 <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> 類別的新執行個體，將 <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> 屬性設定為指定值，並將 <see cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" /> 屬性設定為本機電腦。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-149">Initializes a new instance of the <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> class, sets the <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> property to the specified value, and sets the <see cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" /> property to the local computer.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="0a4d3-150">下列程式碼範例接受<xref:System.Diagnostics.PerformanceCounterCategory>名稱和電腦名稱，從命令列。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-150">The following code example accepts a <xref:System.Diagnostics.PerformanceCounterCategory> name and a computer name from the command line.</span></span> <span data-ttu-id="0a4d3-151">它會建立<xref:System.Diagnostics.PerformanceCounterCategory>使用適用於提供的參數數目的建構函式多載則會顯示其屬性。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-151">It creates a <xref:System.Diagnostics.PerformanceCounterCategory> using the constructor overload that is appropriate for the number of parameters provided, then displays its properties.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.OtherMembers#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/CS/perfcountercatctor.cs#4)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.OtherMembers#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/VB/perfcountercatctor.vb#4)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-152">
            <paramref name="categoryName" /> 為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-152">The <paramref name="categoryName" /> is an empty string ("").</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-153">
            <paramref name="categoryName" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-153">The <paramref name="categoryName" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-154">讀取類別目錄資訊，例如類別名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-154">for reading category information, such as the category name.</span>
          </span>
          <span data-ttu-id="0a4d3-155">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-155">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" />
        <altmember cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public PerformanceCounterCategory (string categoryName, string machineName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string categoryName, string machineName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.#ctor(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (categoryName As String, machineName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; PerformanceCounterCategory(System::String ^ categoryName, System::String ^ machineName);" />
      <MemberSignature Language="F#" Value="new System.Diagnostics.PerformanceCounterCategory : string * string -&gt; System.Diagnostics.PerformanceCounterCategory" Usage="new System.Diagnostics.PerformanceCounterCategory (categoryName, machineName)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="categoryName" Type="System.String" />
        <Parameter Name="machineName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="categoryName">
          <span data-ttu-id="0a4d3-156">效能計數器分類或效能物件的名稱，用來與這個 <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> 執行個體相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-156">The name of the performance counter category, or performance object, with which to associate this <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> instance.</span>
          </span>
        </param>
        <param name="machineName">
          <span data-ttu-id="0a4d3-157">效能計數器分類和其相關計數器所在的電腦。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-157">The computer on which the performance counter category and its associated counters exist.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-158">初始化 <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> 類別的新執行個體，並將 <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> 和 <see cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" /> 屬性設定為指定值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-158">Initializes a new instance of the <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> class and sets the <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> and <see cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" /> properties to the specified values.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="0a4d3-159">下列程式碼範例接受<xref:System.Diagnostics.PerformanceCounterCategory>名稱和電腦名稱，從命令列。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-159">The following code example accepts a <xref:System.Diagnostics.PerformanceCounterCategory> name and a computer name from the command line.</span></span> <span data-ttu-id="0a4d3-160">它會建立<xref:System.Diagnostics.PerformanceCounterCategory>使用適用於提供的參數數目的建構函式多載則會顯示其屬性。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-160">It creates a <xref:System.Diagnostics.PerformanceCounterCategory> using the constructor overload that is appropriate for the number of parameters provided, then displays its properties.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.OtherMembers#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/CS/perfcountercatctor.cs#4)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.OtherMembers#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/VB/perfcountercatctor.vb#4)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-161">
            <paramref name="categoryName" /> 為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-161">The <paramref name="categoryName" /> is an empty string ("").</span>
          </span>
          <span data-ttu-id="0a4d3-162">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-162">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-163">
            <paramref name="machineName" /> 語法無效。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-163">The <paramref name="machineName" /> syntax is invalid.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-164">
            <paramref name="categoryName" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-164">The <paramref name="categoryName" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-165">讀取類別目錄資訊，例如電腦和分類名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-165">for reading category information, such as the computer and category name.</span>
          </span>
          <span data-ttu-id="0a4d3-166">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-166">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" />
        <altmember cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <Member MemberName="CategoryHelp">
      <MemberSignature Language="C#" Value="public string CategoryHelp { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string CategoryHelp" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.PerformanceCounterCategory.CategoryHelp" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property CategoryHelp As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ CategoryHelp { System::String ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.CategoryHelp : string" Usage="System.Diagnostics.PerformanceCounterCategory.CategoryHelp" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-167">取得分類的說明文字。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-167">Gets the category's help text.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="0a4d3-168">這個分類所測量的效能物件的描述。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-168">A description of the performance object that this category measures.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="0a4d3-169">下列程式碼範例會建立<xref:System.Diagnostics.PerformanceCounterCategory>與<xref:System.Diagnostics.PerformanceCounterCategory.%23ctor>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-169">The following code example creates a <xref:System.Diagnostics.PerformanceCounterCategory> with the <xref:System.Diagnostics.PerformanceCounterCategory.%23ctor>.</span></span> <span data-ttu-id="0a4d3-170">它會提示使用者輸入<xref:System.Diagnostics.PerformanceCounterCategory>和電腦名稱，然後設定<xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A>和<xref:System.Diagnostics.PerformanceCounterCategory.MachineName%2A>屬性輸入的值。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-170">It prompts the user for the <xref:System.Diagnostics.PerformanceCounterCategory> and computer names, then sets the <xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A> and <xref:System.Diagnostics.PerformanceCounterCategory.MachineName%2A> properties from the entered values.</span></span> <span data-ttu-id="0a4d3-171">接著會顯示的值<xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounterCategory.MachineName%2A>，並<xref:System.Diagnostics.PerformanceCounterCategory.CategoryHelp%2A>屬性，或是它會顯示錯誤訊息如果<xref:System.Diagnostics.PerformanceCounterCategory>無法存取。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-171">It then displays the values of the <xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounterCategory.MachineName%2A>, and <xref:System.Diagnostics.PerformanceCounterCategory.CategoryHelp%2A> properties, or it displays an error message if the <xref:System.Diagnostics.PerformanceCounterCategory> cannot be accessed.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.OtherMembers#8](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/CS/perfCounterCatProps.cs#8)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.OtherMembers#8](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/VB/perfcountercatprops.vb#8)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="0a4d3-172">
            <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> 屬性為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-172">The <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> property is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="0a4d3-173">取得分類說明之前，分類名稱必須先設定。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-173">The category name must be set before getting the category help.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-174">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-174">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <altmember cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" />
        <altmember cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
        <altmember cref="P:System.Diagnostics.PerformanceCounter.CounterHelp" />
      </Docs>
    </Member>
    <Member MemberName="CategoryName">
      <MemberSignature Language="C#" Value="public string CategoryName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string CategoryName" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" />
      <MemberSignature Language="VB.NET" Value="Public Property CategoryName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ CategoryName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.CategoryName : string with get, set" Usage="System.Diagnostics.PerformanceCounterCategory.CategoryName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-175">取得或設定定義這個分類的效能物件名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-175">Gets or sets the name of the performance object that defines this category.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="0a4d3-176">效能計數器分類或效能物件的名稱，用來與這個 <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> 執行個體相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-176">The name of the performance counter category, or performance object, with which to associate this <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> instance.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="0a4d3-177">下列程式碼範例會建立<xref:System.Diagnostics.PerformanceCounterCategory>與<xref:System.Diagnostics.PerformanceCounterCategory.%23ctor>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-177">The following code example creates a <xref:System.Diagnostics.PerformanceCounterCategory> with the <xref:System.Diagnostics.PerformanceCounterCategory.%23ctor>.</span></span> <span data-ttu-id="0a4d3-178">它會提示使用者輸入<xref:System.Diagnostics.PerformanceCounterCategory>和電腦名稱，然後設定<xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A>和<xref:System.Diagnostics.PerformanceCounterCategory.MachineName%2A>屬性輸入的值。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-178">It prompts the user for the <xref:System.Diagnostics.PerformanceCounterCategory> and computer names, then sets the <xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A> and <xref:System.Diagnostics.PerformanceCounterCategory.MachineName%2A> properties from the entered values.</span></span> <span data-ttu-id="0a4d3-179">接著會顯示的值<xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounterCategory.MachineName%2A>，並<xref:System.Diagnostics.PerformanceCounterCategory.CategoryHelp%2A>屬性，或是它會顯示錯誤訊息如果<xref:System.Diagnostics.PerformanceCounterCategory>無法存取。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-179">It then displays the values of the <xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounterCategory.MachineName%2A>, and <xref:System.Diagnostics.PerformanceCounterCategory.CategoryHelp%2A> properties, or it displays an error message if the <xref:System.Diagnostics.PerformanceCounterCategory> cannot be accessed.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.OtherMembers#8](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/CS/perfCounterCatProps.cs#8)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.OtherMembers#8](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/VB/perfcountercatprops.vb#8)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-180">
            <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> 為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-180">The <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> is an empty string ("").</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-181">
            <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-181">The <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-182">用於讀取效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-182">for reading performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-183">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-183">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <Member MemberName="CategoryType">
      <MemberSignature Language="C#" Value="public System.Diagnostics.PerformanceCounterCategoryType CategoryType { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Diagnostics.PerformanceCounterCategoryType CategoryType" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.PerformanceCounterCategory.CategoryType" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property CategoryType As PerformanceCounterCategoryType" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Diagnostics::PerformanceCounterCategoryType CategoryType { System::Diagnostics::PerformanceCounterCategoryType get(); };" />
      <MemberSignature Language="F#" Value="member this.CategoryType : System.Diagnostics.PerformanceCounterCategoryType" Usage="System.Diagnostics.PerformanceCounterCategory.CategoryType" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Diagnostics.PerformanceCounterCategoryType</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-184">取得效能計數器分類的型別。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-184">Gets the performance counter category type.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="0a4d3-185">其中一個 <see cref="T:System.Diagnostics.PerformanceCounterCategoryType" /> 值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-185">One of the <see cref="T:System.Diagnostics.PerformanceCounterCategoryType" /> values.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-186"><xref:System.Diagnostics.PerformanceCounterCategory.CategoryType%2A>屬性會指出是否<xref:System.Diagnostics.PerformanceCounterCategory>物件可以有多個執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-186">The <xref:System.Diagnostics.PerformanceCounterCategory.CategoryType%2A> property indicates whether the <xref:System.Diagnostics.PerformanceCounterCategory> object can have multiple instances.</span></span> <span data-ttu-id="0a4d3-187">可能的值為<xref:System.Diagnostics.PerformanceCounterCategoryType.MultiInstance>， <xref:System.Diagnostics.PerformanceCounterCategoryType.SingleInstance>，或<xref:System.Diagnostics.PerformanceCounterCategoryType.Unknown>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-187">The possible values are <xref:System.Diagnostics.PerformanceCounterCategoryType.MultiInstance>, <xref:System.Diagnostics.PerformanceCounterCategoryType.SingleInstance>, or <xref:System.Diagnostics.PerformanceCounterCategoryType.Unknown>.</span></span>  
  
 <span data-ttu-id="0a4d3-188">有兩種類型的效能計數器類別： 單一執行個體和多重執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-188">There are two types of performance counter categories: single-instance and multi-instance.</span></span> <span data-ttu-id="0a4d3-189">根據預設，類別會是單一執行個體，當它已建立，並新增另一個執行個體時，成為多重執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-189">By default, a category is single-instance when it is created and becomes multi-instance when another instance is added.</span></span> <span data-ttu-id="0a4d3-190">設定應用程式，並在執行階段加入執行個體時，會建立類別目錄。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-190">Categories are created when an application is set up, and instances are added at run time.</span></span> <span data-ttu-id="0a4d3-191">在.NET framework 1.0 和 1.1 版中，不需要知道的效能計數器分類是多重執行個體或單一執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-191">In the .NET Framework versions 1.0 and 1.1, it is not necessary to know if a performance counter category is multi-instance or single-instance.</span></span> <span data-ttu-id="0a4d3-192">在  [!INCLUDE[dnprdnext](~/includes/dnprdnext-md.md)]，則<xref:System.Diagnostics.PerformanceCounterCategoryType>列舉型別用來表示效能計數器是否可以具有多個執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-192">In the [!INCLUDE[dnprdnext](~/includes/dnprdnext-md.md)], the <xref:System.Diagnostics.PerformanceCounterCategoryType> enumeration is used to indicate whether a performance counter can have multiple instances.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="CounterExists">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-193">判斷指定計數器是否登錄至特定分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-193">Determines whether a specified counter is registered to a particular category.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="CounterExists">
      <MemberSignature Language="C#" Value="public bool CounterExists (string counterName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance bool CounterExists(string counterName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.CounterExists(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function CounterExists (counterName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; bool CounterExists(System::String ^ counterName);" />
      <MemberSignature Language="F#" Value="member this.CounterExists : string -&gt; bool" Usage="performanceCounterCategory.CounterExists counterName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="counterName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="counterName">
          <span data-ttu-id="0a4d3-194">要尋找的效能計數器名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-194">The name of the performance counter to look for.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-195">判斷指定計數器是否登錄至這個分類，它是由 <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> 和 <see cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" /> 屬性所指示的。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-195">Determines whether the specified counter is registered to this category, which is indicated by the <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> and <see cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" /> properties.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-196">如果計數器登錄至 <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> 和 <see cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" /> 屬性所指定的分類，則為 <see langword="true" />，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-196">
              <see langword="true" /> if the counter is registered to the category that is specified by the <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> and <see cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" /> properties; otherwise, <see langword="false" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-197">您必須設定<xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A>之前呼叫這個方法的屬性。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-197">You must set the <xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A> property before calling this method.</span></span> <span data-ttu-id="0a4d3-198">否則，會擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-198">Otherwise, an exception is thrown.</span></span>  
  
 <span data-ttu-id="0a4d3-199">如果您沒有設定<xref:System.Diagnostics.PerformanceCounterCategory.MachineName%2A>屬性，這個方法會使用本機電腦 ("。")。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-199">If you have not set the <xref:System.Diagnostics.PerformanceCounterCategory.MachineName%2A> property, this method uses the local computer (".").</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-200">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-200">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-201">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-201">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-202">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-202">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-203">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-203">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-204">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-204">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-205">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-205">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-206">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-206">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-207">下列程式碼範例會判斷是否<xref:System.Diagnostics.PerformanceCounter>存在。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-207">The following code example determines whether a <xref:System.Diagnostics.PerformanceCounter> exists.</span></span> <span data-ttu-id="0a4d3-208">它會取得類別名稱、 計數器名稱和電腦名稱從命令列中，如果您授與他們。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-208">It gets a category name, counter name, and computer name from the command line, if they are given.</span></span> <span data-ttu-id="0a4d3-209">它會建立<xref:System.Diagnostics.PerformanceCounterCategory>物件使用適當<xref:System.Diagnostics.PerformanceCounterCategory.%23ctor%2A>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-209">It creates a <xref:System.Diagnostics.PerformanceCounterCategory> object using the appropriate <xref:System.Diagnostics.PerformanceCounterCategory.%23ctor%2A>.</span></span> <span data-ttu-id="0a4d3-210">然後它會使用<xref:System.Diagnostics.PerformanceCounterCategory.CounterExists%28System.String%29>方法，以判斷是否指定<xref:System.Diagnostics.PerformanceCounter>存在，而且會通知使用者。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-210">It then uses the <xref:System.Diagnostics.PerformanceCounterCategory.CounterExists%28System.String%29> method to determine whether the specified <xref:System.Diagnostics.PerformanceCounter> exists, and informs the user.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.ExistMembers#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.ExistMembers/CS/perfcountercatobjexists.cs#4)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.ExistMembers#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.ExistMembers/VB/perfcountercatobjcountexists.vb#4)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-211">
            <paramref name="counterName" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-211">The <paramref name="counterName" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="0a4d3-212">
            <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> 屬性尚未設定。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-212">The <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> property has not been set.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-213">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-213">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-214">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-214">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <altmember cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Exists(System.String)" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.InstanceExists(System.String)" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <Member MemberName="CounterExists">
      <MemberSignature Language="C#" Value="public static bool CounterExists (string counterName, string categoryName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool CounterExists(string counterName, string categoryName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.CounterExists(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function CounterExists (counterName As String, categoryName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool CounterExists(System::String ^ counterName, System::String ^ categoryName);" />
      <MemberSignature Language="F#" Value="static member CounterExists : string * string -&gt; bool" Usage="System.Diagnostics.PerformanceCounterCategory.CounterExists (counterName, categoryName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="counterName" Type="System.String" />
        <Parameter Name="categoryName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="counterName">
          <span data-ttu-id="0a4d3-215">要尋找的效能計數器名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-215">The name of the performance counter to look for.</span>
          </span>
        </param>
        <param name="categoryName">
          <span data-ttu-id="0a4d3-216">與指定效能計數器相關的效能計數器分類或效能物件的名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-216">The name of the performance counter category, or performance object, with which the specified performance counter is associated.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-217">判斷指定計數器是否登錄至本機電腦上的指定分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-217">Determines whether the specified counter is registered to the specified category on the local computer.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-218">如果計數器登錄至本機電腦上的指定分類，則為 <see langword="true" />，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-218">
              <see langword="true" />, if the counter is registered to the specified category on the local computer; otherwise, <see langword="false" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-219">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-219">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-220">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-220">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-221">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-221">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-222">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-222">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-223">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-223">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-224">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-224">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-225">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-225">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-226">下列程式碼範例會判斷是否<xref:System.Diagnostics.PerformanceCounter>存在。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-226">The following code example determines whether a <xref:System.Diagnostics.PerformanceCounter> exists.</span></span> <span data-ttu-id="0a4d3-227">它會取得類別名稱、 計數器名稱和電腦名稱從命令列中，如果您授與他們。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-227">It gets a category name, counter name, and computer name from the command line, if they are given.</span></span> <span data-ttu-id="0a4d3-228">它會使用靜態的多載<xref:System.Diagnostics.PerformanceCounterCategory.CounterExists%2A>方法，以判斷是否指定<xref:System.Diagnostics.PerformanceCounter>名稱存在於<xref:System.Diagnostics.PerformanceCounterCategory>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-228">It uses the static overloads of the <xref:System.Diagnostics.PerformanceCounterCategory.CounterExists%2A> method to determine whether the specified <xref:System.Diagnostics.PerformanceCounter> name exists in the <xref:System.Diagnostics.PerformanceCounterCategory>.</span></span> <span data-ttu-id="0a4d3-229">多載被根據是否提供電腦名稱。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-229">The overload is selected based on whether a computer name is provided.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.ExistMembers#8](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.ExistMembers/CS/perfcountercatstatcounterexists.cs#8)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.ExistMembers#8](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.ExistMembers/VB/perfcountercatstatcountexists.vb#8)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-230">
            <paramref name="categoryName" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-230">The <paramref name="categoryName" /> is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="0a4d3-231">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-231">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-232">
            <paramref name="counterName" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-232">The <paramref name="counterName" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-233">
            <paramref name="categoryName" /> 為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-233">The <paramref name="categoryName" /> is an empty string ("").</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="0a4d3-234">分類名稱不存在。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-234">The category name does not exist.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-235">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-235">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-236">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-236">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-237">用於讀取效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-237">for reading performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-238">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-238">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Exists(System.String)" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.InstanceExists(System.String)" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <Member MemberName="CounterExists">
      <MemberSignature Language="C#" Value="public static bool CounterExists (string counterName, string categoryName, string machineName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool CounterExists(string counterName, string categoryName, string machineName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.CounterExists(System.String,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function CounterExists (counterName As String, categoryName As String, machineName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool CounterExists(System::String ^ counterName, System::String ^ categoryName, System::String ^ machineName);" />
      <MemberSignature Language="F#" Value="static member CounterExists : string * string * string -&gt; bool" Usage="System.Diagnostics.PerformanceCounterCategory.CounterExists (counterName, categoryName, machineName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="counterName" Type="System.String" />
        <Parameter Name="categoryName" Type="System.String" />
        <Parameter Name="machineName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="counterName">
          <span data-ttu-id="0a4d3-239">要尋找的效能計數器名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-239">The name of the performance counter to look for.</span>
          </span>
        </param>
        <param name="categoryName">
          <span data-ttu-id="0a4d3-240">與指定效能計數器相關的效能計數器分類或效能物件的名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-240">The name of the performance counter category, or performance object, with which the specified performance counter is associated.</span>
          </span>
        </param>
        <param name="machineName">
          <span data-ttu-id="0a4d3-241">效能計數器分類和其相關聯計數器所在的電腦名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-241">The name of the computer on which the performance counter category and its associated counters exist.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-242">判斷指定計數器是否登錄至遠端電腦上的指定分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-242">Determines whether the specified counter is registered to the specified category on a remote computer.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-243">如果計數器登錄至指定電腦上的指定分類，則為 <see langword="true" />，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-243">
              <see langword="true" />, if the counter is registered to the specified category on the specified computer; otherwise, <see langword="false" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-244">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-244">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-245">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-245">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-246">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-246">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-247">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-247">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-248">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-248">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-249">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-249">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-250">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-250">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-251">下列程式碼範例會判斷是否<xref:System.Diagnostics.PerformanceCounter>存在。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-251">The following code example determines whether a <xref:System.Diagnostics.PerformanceCounter> exists.</span></span> <span data-ttu-id="0a4d3-252">它會取得類別名稱、 計數器名稱和電腦名稱從命令列中，如果您授與他們。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-252">It gets a category name, counter name, and computer name from the command line, if they are given.</span></span> <span data-ttu-id="0a4d3-253">它會使用靜態的多載<xref:System.Diagnostics.PerformanceCounterCategory.CounterExists%2A>方法，以判斷是否指定<xref:System.Diagnostics.PerformanceCounter>名稱存在於<xref:System.Diagnostics.PerformanceCounterCategory>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-253">It uses the static overloads of the <xref:System.Diagnostics.PerformanceCounterCategory.CounterExists%2A> method to determine whether the specified <xref:System.Diagnostics.PerformanceCounter> name exists in the <xref:System.Diagnostics.PerformanceCounterCategory>.</span></span> <span data-ttu-id="0a4d3-254">多載被根據是否提供電腦名稱。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-254">The overload is selected based on whether a computer name is provided.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.ExistMembers#8](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.ExistMembers/CS/perfcountercatstatcounterexists.cs#8)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.ExistMembers#8](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.ExistMembers/VB/perfcountercatstatcountexists.vb#8)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-255">
            <paramref name="categoryName" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-255">The <paramref name="categoryName" /> is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="0a4d3-256">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-256">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-257">
            <paramref name="counterName" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-257">The <paramref name="counterName" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-258">
            <paramref name="categoryName" /> 為空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-258">The <paramref name="categoryName" /> is an empty string ("").</span>
          </span>
          <span data-ttu-id="0a4d3-259">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-259">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-260">
            <paramref name="machineName" /> 無效。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-260">The <paramref name="machineName" /> is invalid.</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="0a4d3-261">分類名稱不存在。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-261">The category name does not exist.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-262">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-262">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-263">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-263">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-264">用於讀取效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-264">for reading performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-265">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-265">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Exists(System.String)" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.InstanceExists(System.String)" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <MemberGroup MemberName="Create">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-266">使用系統登錄自訂效能計數器分類和一個或多個計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-266">Registers a custom performance counter category and one or more counters with the system.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="Create">
      <MemberSignature Language="C#" Value="public static System.Diagnostics.PerformanceCounterCategory Create (string categoryName, string categoryHelp, System.Diagnostics.CounterCreationDataCollection counterData);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Diagnostics.PerformanceCounterCategory Create(string categoryName, string categoryHelp, class System.Diagnostics.CounterCreationDataCollection counterData) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.Create(System.String,System.String,System.Diagnostics.CounterCreationDataCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Create (categoryName As String, categoryHelp As String, counterData As CounterCreationDataCollection) As PerformanceCounterCategory" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Diagnostics::PerformanceCounterCategory ^ Create(System::String ^ categoryName, System::String ^ categoryHelp, System::Diagnostics::CounterCreationDataCollection ^ counterData);" />
      <MemberSignature Language="F#" Value="static member Create : string * string * System.Diagnostics.CounterCreationDataCollection -&gt; System.Diagnostics.PerformanceCounterCategory" Usage="System.Diagnostics.PerformanceCounterCategory.Create (categoryName, categoryHelp, counterData)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="xamarinmac-3.0">
          <AttributeName>System.Obsolete("Use another overload that uses PerformanceCounterCategoryType instead")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;dotnet-plat-ext-2.1;netcore-2.1;netcore-2.2">
          <AttributeName>System.Obsolete("This method has been deprecated.  Please use System.Diagnostics.PerformanceCounterCategory.Create(string categoryName, string categoryHelp, PerformanceCounterCategoryType categoryType, CounterCreationDataCollection counterData) instead.  http://go.microsoft.com/fwlink/?linkid=14202")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Diagnostics.PerformanceCounterCategory</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="categoryName" Type="System.String" />
        <Parameter Name="categoryHelp" Type="System.String" />
        <Parameter Name="counterData" Type="System.Diagnostics.CounterCreationDataCollection" />
      </Parameters>
      <Docs>
        <param name="categoryName">
          <span data-ttu-id="0a4d3-267">要建立並登錄於系統的自訂效能計數器分類名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-267">The name of the custom performance counter category to create and register with the system.</span>
          </span>
        </param>
        <param name="categoryHelp">
          <span data-ttu-id="0a4d3-268">自訂分類的描述。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-268">A description of the custom category.</span>
          </span>
        </param>
        <param name="counterData">
          <span data-ttu-id="0a4d3-269">
            <see cref="T:System.Diagnostics.CounterCreationDataCollection" />，指定要建立為新分類部分的計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-269">A <see cref="T:System.Diagnostics.CounterCreationDataCollection" /> that specifies the counters to create as part of the new category.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-270">在本機電腦上登錄包含指定計數器的自訂效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-270">Registers the custom performance counter category containing the specified counters on the local computer.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-271">
            <see cref="T:System.Diagnostics.PerformanceCounterCategory" />，與新的自訂分類或效能物件相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-271">A <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> that is associated with the new custom category, or performance object.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-272">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-272">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-273">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-273">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-274">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-274">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-275">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-275">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-276">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-276">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-277">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-277">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-278">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-278">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-279">下列程式碼範例會判斷是否<xref:System.Diagnostics.PerformanceCounterCategory>名為"orders"物件存在。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-279">The following code example determines whether a <xref:System.Diagnostics.PerformanceCounterCategory> object named "orders" exists.</span></span> <span data-ttu-id="0a4d3-280">如果沒有，它會建立<xref:System.Diagnostics.PerformanceCounterCategory>物件使用<xref:System.Diagnostics.CounterCreationDataCollection>物件，其中包含兩個效能計數器。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-280">If not, it creates the <xref:System.Diagnostics.PerformanceCounterCategory> object by using a <xref:System.Diagnostics.CounterCreationDataCollection> object that contains two performance counters.</span></span>  
  
 [!code-cpp[PerfCounter_ccd#1](~/samples/snippets/cpp/VS_Snippets_CLR/PerfCounter_ccd/CPP/ccd.cpp#1)]
 [!code-csharp[PerfCounter_ccd#1](~/samples/snippets/csharp/VS_Snippets_CLR/PerfCounter_ccd/CS/ccd.cs#1)]
 [!code-vb[PerfCounter_ccd#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/PerfCounter_ccd/VB/ccd.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-281">在 <paramref name="counterData" /> 集合中所指定的計數器名稱為 <see langword="null" /> 或空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-281">A counter name that is specified within the <paramref name="counterData" /> collection is <see langword="null" /> or an empty string ("").</span>
          </span>
          <span data-ttu-id="0a4d3-282">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-282">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-283">在 <paramref name="counterData" /> 集合中所指定的計數器已存在。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-283">A counter that is specified within the <paramref name="counterData" /> collection already exists.</span>
          </span>
          <span data-ttu-id="0a4d3-284">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-284">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-285">
            <paramref name="counterName" /> 參數的語法無效。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-285">The <paramref name="counterName" /> parameter has invalid syntax.</span>
          </span>
          <span data-ttu-id="0a4d3-286">它可能包含反斜線字元 ("\\") 或長度大於 80 個字元。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-286">It might contain backslash characters ("\\") or have length greater than 80 characters.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-287">
            <paramref name="categoryName" /> 參數為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-287">The <paramref name="categoryName" /> parameter is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="0a4d3-288">分類已存在於本機電腦上。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-288">The category already exists on the local computer.</span>
          </span>
          <span data-ttu-id="0a4d3-289">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-289">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-290">
            <paramref name="counterData" /> 集合的配置對基底計數器而言不正確。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-290">The layout of the <paramref name="counterData" /> collection is incorrect for base counters.</span>
          </span>
          <span data-ttu-id="0a4d3-291">
            <see langword="AverageCount64" />、<see langword="AverageTimer32" />、<see langword="CounterMultiTimer" />、<see langword="CounterMultiTimerInverse" />、<see langword="CounterMultiTimer100Ns" />、<see langword="CounterMultiTimer100NsInverse" />、<see langword="RawFraction" />、<see langword="SampleFraction" /> 或 <see langword="SampleCounter" /> 類型的計數器後面必須緊接著其中一個基底計數器類型 (<see langword="AverageBase" />、<see langword="MultiBase" />、<see langword="RawBase" /> 或 <see langword="SampleBase" />)。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-291">A counter of type <see langword="AverageCount64" />, <see langword="AverageTimer32" />, <see langword="CounterMultiTimer" />, <see langword="CounterMultiTimerInverse" />, <see langword="CounterMultiTimer100Ns" />, <see langword="CounterMultiTimer100NsInverse" />, <see langword="RawFraction" />, <see langword="SampleFraction" /> or <see langword="SampleCounter" /> has to be immediately followed by one of the base counter types (<see langword="AverageBase" />, <see langword="MultiBase" />, <see langword="RawBase" />, or <see langword="SampleBase" />).</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-292">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-292">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-293">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-293">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-294">在 效能計數器分類執行系統管理工作。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-294">for performing administrative tasks on performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-295">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Administer" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-295">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Administer" />.</span>
          </span>
        </permission>
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Delete(System.String)" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Exists(System.String)" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
        <altmember cref="T:System.Diagnostics.CounterCreationDataCollection" />
      </Docs>
    </Member>
    <Member MemberName="Create">
      <MemberSignature Language="C#" Value="public static System.Diagnostics.PerformanceCounterCategory Create (string categoryName, string categoryHelp, System.Diagnostics.PerformanceCounterCategoryType categoryType, System.Diagnostics.CounterCreationDataCollection counterData);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Diagnostics.PerformanceCounterCategory Create(string categoryName, string categoryHelp, valuetype System.Diagnostics.PerformanceCounterCategoryType categoryType, class System.Diagnostics.CounterCreationDataCollection counterData) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.Create(System.String,System.String,System.Diagnostics.PerformanceCounterCategoryType,System.Diagnostics.CounterCreationDataCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Create (categoryName As String, categoryHelp As String, categoryType As PerformanceCounterCategoryType, counterData As CounterCreationDataCollection) As PerformanceCounterCategory" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Diagnostics::PerformanceCounterCategory ^ Create(System::String ^ categoryName, System::String ^ categoryHelp, System::Diagnostics::PerformanceCounterCategoryType categoryType, System::Diagnostics::CounterCreationDataCollection ^ counterData);" />
      <MemberSignature Language="F#" Value="static member Create : string * string * System.Diagnostics.PerformanceCounterCategoryType * System.Diagnostics.CounterCreationDataCollection -&gt; System.Diagnostics.PerformanceCounterCategory" Usage="System.Diagnostics.PerformanceCounterCategory.Create (categoryName, categoryHelp, categoryType, counterData)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Diagnostics.PerformanceCounterCategory</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="categoryName" Type="System.String" />
        <Parameter Name="categoryHelp" Type="System.String" />
        <Parameter Name="categoryType" Type="System.Diagnostics.PerformanceCounterCategoryType" />
        <Parameter Name="counterData" Type="System.Diagnostics.CounterCreationDataCollection" />
      </Parameters>
      <Docs>
        <param name="categoryName">
          <span data-ttu-id="0a4d3-296">要建立並登錄於系統的自訂效能計數器分類名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-296">The name of the custom performance counter category to create and register with the system.</span>
          </span>
        </param>
        <param name="categoryHelp">
          <span data-ttu-id="0a4d3-297">自訂分類的描述。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-297">A description of the custom category.</span>
          </span>
        </param>
        <param name="categoryType">
          <span data-ttu-id="0a4d3-298">其中一個 <see cref="T:System.Diagnostics.PerformanceCounterCategoryType" /> 值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-298">One of the <see cref="T:System.Diagnostics.PerformanceCounterCategoryType" /> values.</span>
          </span>
        </param>
        <param name="counterData">
          <span data-ttu-id="0a4d3-299">
            <see cref="T:System.Diagnostics.CounterCreationDataCollection" />，指定要建立為新分類部分的計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-299">A <see cref="T:System.Diagnostics.CounterCreationDataCollection" /> that specifies the counters to create as part of the new category.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-300">在本機電腦上登錄包含指定計數器的自訂效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-300">Registers the custom performance counter category containing the specified counters on the local computer.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-301">
            <see cref="T:System.Diagnostics.PerformanceCounterCategory" />，與新的自訂分類或效能物件相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-301">A <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> that is associated with the new custom category, or performance object.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-302">`categoryType`參數指定的效能計數器分類是否是單一執行個體或多重執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-302">The `categoryType` parameter specifies whether the performance counter category is single-instance or multi-instance.</span></span> <span data-ttu-id="0a4d3-303">根據預設，類別會是單一執行個體，當它已建立，並新增另一個執行個體時，成為多重執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-303">By default, a category is single-instance when it is created and becomes multi-instance when another instance is added.</span></span> <span data-ttu-id="0a4d3-304">設定應用程式，並在執行階段加入執行個體時，會建立類別目錄。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-304">Categories are created when an application is set up, and instances are added at run time.</span></span> <span data-ttu-id="0a4d3-305">在.NET framework 1.0 和 1.1 版中，不需要知道的效能計數器分類是多重執行個體或單一執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-305">In the  .NET Framework versions 1.0 and 1.1, it is not necessary to know if a performance counter category is multi-instance or single-instance.</span></span> <span data-ttu-id="0a4d3-306">在  [!INCLUDE[dnprdnext](~/includes/dnprdnext-md.md)]，則<xref:System.Diagnostics.PerformanceCounterCategoryType>列舉型別用來表示效能計數器是否可以具有多個執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-306">In the [!INCLUDE[dnprdnext](~/includes/dnprdnext-md.md)], the <xref:System.Diagnostics.PerformanceCounterCategoryType> enumeration is used to indicate whether a performance counter can have multiple instances.</span></span>  
  
 <span data-ttu-id="0a4d3-307">與安裝的效能計數器分類[!INCLUDE[dnprdnlong](~/includes/dnprdnlong-md.md)]使用不同的共用的記憶體，且每個效能計數器分類都有它自己的記憶體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-307">Performance counter categories installed with the [!INCLUDE[dnprdnlong](~/includes/dnprdnlong-md.md)] use separate shared memory, with each performance counter category having its own memory.</span></span>  <span data-ttu-id="0a4d3-308">您可以指定不同的共用記憶體的大小，藉由建立 DWORD 登錄機碼 HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services 中名為 FileMappingSize\\*\<類別名稱 >* \效能。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-308">You can specify the size of separate shared memory by creating a DWORD named FileMappingSize in the registry key HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\\*\<category name>* \Performance.</span></span> <span data-ttu-id="0a4d3-309">FileMappingSize 值設定為類別目錄的共用的記憶體大小。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-309">The FileMappingSize value is set to the shared memory size of the category.</span></span> <span data-ttu-id="0a4d3-310">預設大小為 131072 十進位。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-310">The default size is 131072 decimal.</span></span> <span data-ttu-id="0a4d3-311">FileMappingSize 值不存在，如果`fileMappingSize`屬性值`performanceCounters`使用 Machine.config 檔案中指定的項目時，造成額外負擔的組態檔處理。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-311">If the FileMappingSize value is not present, the `fileMappingSize` attribute value for the `performanceCounters` element specified in the Machine.config file is used, causing additional overhead for configuration file processing.</span></span> <span data-ttu-id="0a4d3-312">您可以藉由設定登錄中的檔案對應大小，達成應用程式啟動的效能改善。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-312">You can realize a performance improvement for application startup by setting the file mapping size in the registry.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-313">強烈建議在應用程式的安裝期間，不會在應用程式執行期間，建立新的效能計數器分類。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-313">It is strongly recommended that new performance counter categories be created during the installation of the application, not during the execution of the application.</span></span> <span data-ttu-id="0a4d3-314">這可讓作業系統重新整理其已註冊的效能計數器分類清單的時間。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-314">This allows time for the operating system to refresh its list of registered performance counter categories.</span></span> <span data-ttu-id="0a4d3-315">如果清單不會重新整理，則嘗試使用 「 類別目錄將會失敗。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-315">If the list has not been refreshed, the attempt to use the category will fail.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-316">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-316">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-317">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-317">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-318">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-318">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-319">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-319">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-320">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-320">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-321">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-321">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-322">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-322">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-323">下列程式碼範例示範使用<xref:System.Diagnostics.PerformanceCounterCategory.Create%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-323">The following code example shows the use of the <xref:System.Diagnostics.PerformanceCounterCategory.Create%2A> method.</span></span> <span data-ttu-id="0a4d3-324">範例會示範如何建立自訂的多重執行個體的效能計數器分類的每秒的訂單數目。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-324">The example shows how to create a custom, multi-instance performance counter category for the number of orders per second.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategoryType#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategoryType/CS/program.cs#2)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategoryType#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategoryType/VB/program.vb#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-325">在 <paramref name="counterData" /> 集合中所指定的計數器名稱為 <see langword="null" /> 或空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-325">A counter name that is specified within the <paramref name="counterData" /> collection is <see langword="null" /> or an empty string ("").</span>
          </span>
          <span data-ttu-id="0a4d3-326">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-326">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-327">在 <paramref name="counterData" /> 集合中所指定的計數器已存在。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-327">A counter that is specified within the <paramref name="counterData" /> collection already exists.</span>
          </span>
          <span data-ttu-id="0a4d3-328">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-328">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-329">
            <paramref name="counterName" /> 含無效語法。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-329">
              <paramref name="counterName" /> has invalid syntax.</span>
          </span>
          <span data-ttu-id="0a4d3-330">它可能包含反斜線字元 ("\\") 或長度大於 80 個字元。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-330">It might contain backslash characters ("\\") or have length greater than 80 characters.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-331">
            <paramref name="categoryName" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-331">
              <paramref name="categoryName" /> is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="0a4d3-332">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-332">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-333">
            <paramref name="counterData" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-333">
              <paramref name="counterData" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentOutOfRangeException">
          <span data-ttu-id="0a4d3-334">
            <paramref name="categoryType" /> 值超出下列值範圍：<see langword="MultiInstance" />、<see langword="SingleInstance" /> 或 <see langword="Unknown" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-334">
              <paramref name="categoryType" /> value is outside of the range of the following values: <see langword="MultiInstance" />, <see langword="SingleInstance" />, or <see langword="Unknown" />.</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="0a4d3-335">分類已存在於本機電腦上。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-335">The category already exists on the local computer.</span>
          </span>
          <span data-ttu-id="0a4d3-336">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-336">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-337">
            <paramref name="counterData" /> 集合的配置對基底計數器而言不正確。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-337">The layout of the <paramref name="counterData" /> collection is incorrect for base counters.</span>
          </span>
          <span data-ttu-id="0a4d3-338">
            <see langword="AverageCount64" />、<see langword="AverageTimer32" />、<see langword="CounterMultiTimer" />、<see langword="CounterMultiTimerInverse" />、<see langword="CounterMultiTimer100Ns" />、<see langword="CounterMultiTimer100NsInverse" />、<see langword="RawFraction" />、<see langword="SampleFraction" /> 或 <see langword="SampleCounter" /> 類型的計數器後面必須緊接著其中一個基底計數器類型 (<see langword="AverageBase" />、<see langword="MultiBase" />、<see langword="RawBase" /> 或 <see langword="SampleBase" />)。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-338">A counter of type <see langword="AverageCount64" />, <see langword="AverageTimer32" />, <see langword="CounterMultiTimer" />, <see langword="CounterMultiTimerInverse" />, <see langword="CounterMultiTimer100Ns" />, <see langword="CounterMultiTimer100NsInverse" />, <see langword="RawFraction" />, <see langword="SampleFraction" />, or <see langword="SampleCounter" /> must be immediately followed by one of the base counter types (<see langword="AverageBase" />, <see langword="MultiBase" />, <see langword="RawBase" />, or <see langword="SampleBase" />).</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-339">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-339">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-340">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-340">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-341">在 效能計數器分類執行系統管理工作。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-341">for performing administrative tasks on performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-342">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Administer" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-342">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Administer" />.</span>
          </span>
        </permission>
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Delete(System.String)" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Exists(System.String)" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
        <altmember cref="T:System.Diagnostics.CounterCreationDataCollection" />
      </Docs>
    </Member>
    <Member MemberName="Create">
      <MemberSignature Language="C#" Value="public static System.Diagnostics.PerformanceCounterCategory Create (string categoryName, string categoryHelp, string counterName, string counterHelp);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Diagnostics.PerformanceCounterCategory Create(string categoryName, string categoryHelp, string counterName, string counterHelp) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.Create(System.String,System.String,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Create (categoryName As String, categoryHelp As String, counterName As String, counterHelp As String) As PerformanceCounterCategory" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Diagnostics::PerformanceCounterCategory ^ Create(System::String ^ categoryName, System::String ^ categoryHelp, System::String ^ counterName, System::String ^ counterHelp);" />
      <MemberSignature Language="F#" Value="static member Create : string * string * string * string -&gt; System.Diagnostics.PerformanceCounterCategory" Usage="System.Diagnostics.PerformanceCounterCategory.Create (categoryName, categoryHelp, counterName, counterHelp)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="xamarinmac-3.0">
          <AttributeName>System.Obsolete("Use another overload that uses PerformanceCounterCategoryType instead")</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;dotnet-plat-ext-2.1;netcore-2.1;netcore-2.2">
          <AttributeName>System.Obsolete("This method has been deprecated.  Please use System.Diagnostics.PerformanceCounterCategory.Create(string categoryName, string categoryHelp, PerformanceCounterCategoryType categoryType, string counterName, string counterHelp) instead.  http://go.microsoft.com/fwlink/?linkid=14202")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Diagnostics.PerformanceCounterCategory</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="categoryName" Type="System.String" />
        <Parameter Name="categoryHelp" Type="System.String" />
        <Parameter Name="counterName" Type="System.String" />
        <Parameter Name="counterHelp" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="categoryName">
          <span data-ttu-id="0a4d3-343">要建立並登錄於系統的自訂效能計數器分類名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-343">The name of the custom performance counter category to create and register with the system.</span>
          </span>
        </param>
        <param name="categoryHelp">
          <span data-ttu-id="0a4d3-344">自訂分類的描述。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-344">A description of the custom category.</span>
          </span>
        </param>
        <param name="counterName">
          <span data-ttu-id="0a4d3-345">屬於 <see langword="NumberOfItems32" /> 型別的新計數器的名稱，要建立為新分類的部分。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-345">The name of a new counter, of type <see langword="NumberOfItems32" />, to create as part of the new category.</span>
          </span>
        </param>
        <param name="counterHelp">
          <span data-ttu-id="0a4d3-346">與新的自訂分類相關聯的計數器描述。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-346">A description of the counter that is associated with the new custom category.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-347">在本機電腦上登錄包含 <see langword="NumberOfItems32" /> 型別單一計數器的自訂效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-347">Registers a custom performance counter category containing a single counter of type <see langword="NumberOfItems32" /> on the local computer.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-348">
            <see cref="T:System.Diagnostics.PerformanceCounterCategory" />，與新的系統分類或效能物件相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-348">A <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> that is associated with the new system category, or performance object.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-349">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-349">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-350">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-350">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-351">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-351">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-352">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-352">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-353">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-353">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-354">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-354">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-355">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-355">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-356">下列程式碼範例會建立<xref:System.Diagnostics.PerformanceCounterCategory>和單一<xref:System.Diagnostics.PerformanceCounter>與說明文字分別使用<xref:System.Diagnostics.PerformanceCounterCategory.Create%28System.String%2CSystem.String%2CSystem.String%2CSystem.String%29>方法。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-356">The following code example creates a <xref:System.Diagnostics.PerformanceCounterCategory> and single <xref:System.Diagnostics.PerformanceCounter> with help text for each, using the <xref:System.Diagnostics.PerformanceCounterCategory.Create%28System.String%2CSystem.String%2CSystem.String%2CSystem.String%29> method.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.OtherMembers#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/CS/perfcountercatcreate.cs#2)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.OtherMembers#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/VB/perfcountercatcreate.vb#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-357">
            <paramref name="counterName" /> 是 <see langword="null" /> 或空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-357">
              <paramref name="counterName" /> is <see langword="null" /> or is an empty string ("").</span>
          </span>
          <span data-ttu-id="0a4d3-358">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-358">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-359">
            <paramref name="counterName" /> 所指定的計數器已存在。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-359">The counter that is specified by <paramref name="counterName" /> already exists.</span>
          </span>
          <span data-ttu-id="0a4d3-360">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-360">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-361">
            <paramref name="counterName" /> 含無效語法。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-361">
              <paramref name="counterName" /> has invalid syntax.</span>
          </span>
          <span data-ttu-id="0a4d3-362">它可能包含反斜線字元 ("\\") 或長度大於 80 個字元。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-362">It might contain backslash characters ("\\") or have length greater than 80 characters.</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="0a4d3-363">分類已存在於本機電腦上。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-363">The category already exists on the local computer.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-364">
            <paramref name="categoryName" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-364">
              <paramref name="categoryName" /> is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="0a4d3-365">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-365">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-366">
            <paramref name="counterHelp" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-366">
              <paramref name="counterHelp" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-367">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-367">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-368">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-368">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-369">在 效能計數器分類執行系統管理工作。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-369">for performing administrative tasks on performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-370">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Administer" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-370">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Administer" />.</span>
          </span>
        </permission>
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Delete(System.String)" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Exists(System.String)" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
        <altmember cref="P:System.Diagnostics.PerformanceCounter.CounterHelp" />
      </Docs>
    </Member>
    <Member MemberName="Create">
      <MemberSignature Language="C#" Value="public static System.Diagnostics.PerformanceCounterCategory Create (string categoryName, string categoryHelp, System.Diagnostics.PerformanceCounterCategoryType categoryType, string counterName, string counterHelp);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Diagnostics.PerformanceCounterCategory Create(string categoryName, string categoryHelp, valuetype System.Diagnostics.PerformanceCounterCategoryType categoryType, string counterName, string counterHelp) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.Create(System.String,System.String,System.Diagnostics.PerformanceCounterCategoryType,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Create (categoryName As String, categoryHelp As String, categoryType As PerformanceCounterCategoryType, counterName As String, counterHelp As String) As PerformanceCounterCategory" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Diagnostics::PerformanceCounterCategory ^ Create(System::String ^ categoryName, System::String ^ categoryHelp, System::Diagnostics::PerformanceCounterCategoryType categoryType, System::String ^ counterName, System::String ^ counterHelp);" />
      <MemberSignature Language="F#" Value="static member Create : string * string * System.Diagnostics.PerformanceCounterCategoryType * string * string -&gt; System.Diagnostics.PerformanceCounterCategory" Usage="System.Diagnostics.PerformanceCounterCategory.Create (categoryName, categoryHelp, categoryType, counterName, counterHelp)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Diagnostics.PerformanceCounterCategory</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="categoryName" Type="System.String" />
        <Parameter Name="categoryHelp" Type="System.String" />
        <Parameter Name="categoryType" Type="System.Diagnostics.PerformanceCounterCategoryType" />
        <Parameter Name="counterName" Type="System.String" />
        <Parameter Name="counterHelp" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="categoryName">
          <span data-ttu-id="0a4d3-371">要建立並登錄於系統的自訂效能計數器分類名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-371">The name of the custom performance counter category to create and register with the system.</span>
          </span>
        </param>
        <param name="categoryHelp">
          <span data-ttu-id="0a4d3-372">自訂分類的描述。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-372">A description of the custom category.</span>
          </span>
        </param>
        <param name="categoryType">
          <span data-ttu-id="0a4d3-373">指定分類是 <see cref="F:System.Diagnostics.PerformanceCounterCategoryType.MultiInstance" />、<see cref="F:System.Diagnostics.PerformanceCounterCategoryType.SingleInstance" /> 或 <see cref="F:System.Diagnostics.PerformanceCounterCategoryType.Unknown" /> 的其中一個 <see cref="T:System.Diagnostics.PerformanceCounterCategoryType" /> 值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-373">One of the <see cref="T:System.Diagnostics.PerformanceCounterCategoryType" /> values specifying whether the category is <see cref="F:System.Diagnostics.PerformanceCounterCategoryType.MultiInstance" />, <see cref="F:System.Diagnostics.PerformanceCounterCategoryType.SingleInstance" />, or <see cref="F:System.Diagnostics.PerformanceCounterCategoryType.Unknown" />.</span>
          </span>
        </param>
        <param name="counterName">
          <span data-ttu-id="0a4d3-374">要建立為新分類一部分的新計數器名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-374">The name of a new counter to create as part of the new category.</span>
          </span>
        </param>
        <param name="counterHelp">
          <span data-ttu-id="0a4d3-375">與新的自訂分類相關聯的計數器描述。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-375">A description of the counter that is associated with the new custom category.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-376">在本機電腦上登錄包含 <see cref="F:System.Diagnostics.PerformanceCounterType.NumberOfItems32" /> 型別之單一計數器的自訂效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-376">Registers the custom performance counter category containing a single counter of type <see cref="F:System.Diagnostics.PerformanceCounterType.NumberOfItems32" /> on the local computer.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-377">
            <see cref="T:System.Diagnostics.PerformanceCounterCategory" />，與新的系統分類或效能物件相關聯。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-377">A <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> that is associated with the new system category, or performance object.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-378">`categoryType`參數指定的效能計數器分類是否是單一執行個體或多重執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-378">The `categoryType` parameter specifies whether the performance counter category is single-instance or multi-instance.</span></span> <span data-ttu-id="0a4d3-379">根據預設，類別會是單一執行個體，當它已建立，並新增另一個執行個體時，成為多重執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-379">By default, a category is single-instance when it is created and becomes multi-instance when another instance is added.</span></span> <span data-ttu-id="0a4d3-380">設定應用程式，並在執行階段加入執行個體時，會建立類別目錄。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-380">Categories are created when an application is set up, and instances are added at run time.</span></span> <span data-ttu-id="0a4d3-381">在.NET framework 1.0 和 1.1 版中，不需要知道的效能計數器分類是多重執行個體或單一執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-381">In the .NET Framework versions 1.0 and 1.1, it is not necessary to know if a performance counter category is multi-instance or single-instance.</span></span> <span data-ttu-id="0a4d3-382">在  [!INCLUDE[dnprdnext](~/includes/dnprdnext-md.md)]，則<xref:System.Diagnostics.PerformanceCounterCategoryType>列舉型別用來表示效能計數器是否可以具有多個執行個體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-382">In the [!INCLUDE[dnprdnext](~/includes/dnprdnext-md.md)], the <xref:System.Diagnostics.PerformanceCounterCategoryType> enumeration is used to indicate whether a performance counter can have multiple instances.</span></span>  
  
 <span data-ttu-id="0a4d3-383">與安裝的效能計數器分類[!INCLUDE[dnprdnlong](~/includes/dnprdnlong-md.md)]使用不同的共用的記憶體，且每個效能計數器分類都有它自己的記憶體。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-383">Performance counter categories installed with the [!INCLUDE[dnprdnlong](~/includes/dnprdnlong-md.md)] use separate shared memory, with each performance counter category having its own memory.</span></span> <span data-ttu-id="0a4d3-384">您可以指定不同的共用記憶體的大小，藉由建立 DWORD 登錄機碼 HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services 中名為 FileMappingSize\\*\<類別名稱 >* \效能。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-384">You can specify the size of separate shared memory by creating a DWORD named FileMappingSize in the registry key HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\\*\<category name>* \Performance.</span></span> <span data-ttu-id="0a4d3-385">FileMappingSize 值設定為類別目錄的共用的記憶體大小。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-385">The FileMappingSize value is set to the shared memory size of the category.</span></span> <span data-ttu-id="0a4d3-386">預設大小為 131072 十進位。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-386">The default size is 131072 decimal.</span></span> <span data-ttu-id="0a4d3-387">FileMappingSize 值不存在，如果`fileMappingSize`屬性值`performanceCounters`使用 Machine.config 檔案中指定的項目時，造成額外負擔的組態檔處理。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-387">If the FileMappingSize value is not present, the `fileMappingSize` attribute value for the `performanceCounters` element specified in the Machine.config file is used, causing additional overhead for configuration file processing.</span></span> <span data-ttu-id="0a4d3-388">您可以藉由設定登錄中的檔案對應大小，達成應用程式啟動的效能改善。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-388">You can realize a performance improvement for application startup by setting the file mapping size in the registry.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-389">強烈建議在應用程式的安裝期間，不會在應用程式執行期間，建立新的效能計數器分類。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-389">It is strongly recommended that new performance counter categories be created during the installation of the application, not during the execution of the application.</span></span> <span data-ttu-id="0a4d3-390">這可讓作業系統重新整理其已註冊的效能計數器分類清單的時間。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-390">This allows time for the operating system to refresh its list of registered performance counter categories.</span></span> <span data-ttu-id="0a4d3-391">如果清單不會重新整理，則嘗試使用 「 類別目錄將會失敗。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-391">If the list has not been refreshed, the attempt to use the category will fail.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-392">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-392">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-393">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-393">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-394">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-394">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-395">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-395">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-396">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-396">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-397">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-397">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-398">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-398">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-399">下列程式碼範例示範使用<xref:System.Diagnostics.PerformanceCounterCategory.Create%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-399">The following code example shows the use of the <xref:System.Diagnostics.PerformanceCounterCategory.Create%2A> method.</span></span> <span data-ttu-id="0a4d3-400">此範例示範如何建立自訂的單一執行個體的效能計數器分類。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-400">The example shows how to create a custom, single instance performance counter category.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategoryType#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategoryType/CS/program.cs#3)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategoryType#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategoryType/VB/program.vb#3)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-401">
            <paramref name="counterName" /> 是 <see langword="null" /> 或空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-401">
              <paramref name="counterName" /> is <see langword="null" /> or is an empty string ("").</span>
          </span>
          <span data-ttu-id="0a4d3-402">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-402">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-403">
            <paramref name="counterName" /> 所指定的計數器已存在。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-403">The counter that is specified by <paramref name="counterName" /> already exists.</span>
          </span>
          <span data-ttu-id="0a4d3-404">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-404">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-405">
            <paramref name="counterName" /> 含無效語法。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-405">
              <paramref name="counterName" /> has invalid syntax.</span>
          </span>
          <span data-ttu-id="0a4d3-406">它可能包含反斜線字元 ("\\") 或長度大於 80 個字元。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-406">It might contain backslash characters ("\\") or have length greater than 80 characters.</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="0a4d3-407">分類已存在於本機電腦上。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-407">The category already exists on the local computer.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-408">
            <paramref name="categoryName" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-408">
              <paramref name="categoryName" /> is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="0a4d3-409">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-409">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-410">
            <paramref name="counterHelp" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-410">
              <paramref name="counterHelp" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-411">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-411">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-412">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-412">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-413">在 效能計數器分類執行系統管理工作。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-413">for performing administrative tasks on performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-414">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Administer" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-414">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Administer" />.</span>
          </span>
        </permission>
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Delete(System.String)" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Exists(System.String)" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
        <altmember cref="T:System.Diagnostics.CounterCreationDataCollection" />
      </Docs>
    </Member>
    <Member MemberName="Delete">
      <MemberSignature Language="C#" Value="public static void Delete (string categoryName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void Delete(string categoryName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.Delete(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub Delete (categoryName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void Delete(System::String ^ categoryName);" />
      <MemberSignature Language="F#" Value="static member Delete : string -&gt; unit" Usage="System.Diagnostics.PerformanceCounterCategory.Delete categoryName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="categoryName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="categoryName">
          <span data-ttu-id="0a4d3-415">要刪除的自訂效能計數器分類名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-415">The name of the custom performance counter category to delete.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-416">從本機電腦移除分類和其相關的計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-416">Removes the category and its associated counters from the local computer.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-417">您可以從系統刪除自訂效能計數器分類。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-417">You can delete only custom performance counter categories from the system.</span></span> <span data-ttu-id="0a4d3-418">您無法刪除計數器從 類別目錄。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-418">You cannot delete a counter from a category.</span></span> <span data-ttu-id="0a4d3-419">若要這樣做，請刪除分類，並重新建立與您想要保留的計數器分類。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-419">To do so, delete the category and recreate the category with the counters you want to retain.</span></span> <span data-ttu-id="0a4d3-420">若要避免例外狀況，請確認類別目錄存在，在您嘗試將它刪除。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-420">To avoid an exception, confirm that the category exists before you attempt to delete it.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-421">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-421">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-422">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-422">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-423">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-423">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-424">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-424">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-425">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-425">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-426">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-426">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-427">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-427">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-428">下列程式碼範例會使用<xref:System.Diagnostics.PerformanceCounterCategory.Delete%2A>方法來刪除<xref:System.Diagnostics.PerformanceCounterCategory>而<xref:System.Diagnostics.PerformanceCounter>它所包含的物件。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-428">The following code example uses the <xref:System.Diagnostics.PerformanceCounterCategory.Delete%2A> method to delete a <xref:System.Diagnostics.PerformanceCounterCategory> and the <xref:System.Diagnostics.PerformanceCounter> objects that it contains.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.OtherMembers#6](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/CS/perfCounterCatDelete.cs#6)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.OtherMembers#6](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/VB/perfcountercatdelete.vb#6)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-429">
            <paramref name="categoryName" /> 參數為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-429">The <paramref name="categoryName" /> parameter is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-430">
            <paramref name="categoryName" /> 參數的語法無效。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-430">The <paramref name="categoryName" /> parameter has invalid syntax.</span>
          </span>
          <span data-ttu-id="0a4d3-431">它可能包含反斜線字元 ("\\") 或長度大於 80 個字元。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-431">It might contain backslash characters ("\\") or have length greater than 80 characters.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-432">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-432">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="0a4d3-433">分類無法刪除，因為它不是自訂分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-433">The category cannot be deleted because it is not a custom category.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-434">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-434">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-435">用於讀取效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-435">for reading performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-436">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Administer" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-436">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Administer" />.</span>
          </span>
        </permission>
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Create(System.String,System.String,System.Diagnostics.CounterCreationDataCollection)" />
      </Docs>
    </Member>
    <MemberGroup MemberName="Exists">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-437">判斷分類是否登錄在系統上。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-437">Determines whether the category is registered on the system.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="Exists">
      <MemberSignature Language="C#" Value="public static bool Exists (string categoryName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool Exists(string categoryName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.Exists(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Exists (categoryName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool Exists(System::String ^ categoryName);" />
      <MemberSignature Language="F#" Value="static member Exists : string -&gt; bool" Usage="System.Diagnostics.PerformanceCounterCategory.Exists categoryName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="categoryName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="categoryName">
          <span data-ttu-id="0a4d3-438">要尋找的效能計數器分類名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-438">The name of the performance counter category to look for.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-439">判斷分類是否登錄在本機電腦上。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-439">Determines whether the category is registered on the local computer.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-440">如果分類已登錄，則為 <see langword="true" />，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-440">
              <see langword="true" /> if the category is registered; otherwise, <see langword="false" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-441">使用<xref:System.Diagnostics.PerformanceCounterCategory.Exists%2A>時在電腦上的所有效能計數器會都檢查可用性的方法可能造成明顯的效能影響。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-441">Use of the <xref:System.Diagnostics.PerformanceCounterCategory.Exists%2A> method can result in a noticeable performance penalty while all performance counters on the machine are checked for availability.</span></span> <span data-ttu-id="0a4d3-442">如果您只會寫入效能計數器，您可以避免時已安裝的應用程式，且假設類別目錄有存取計數器時，建立效能計數器的效能計數器的全域搜尋。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-442">If you are only writing to a performance counter, you can avoid the global search for performance counters by creating the performance counter when the application is installed and assuming the category exists when accessing the counter.</span></span> <span data-ttu-id="0a4d3-443">沒有任何方法可避免從效能計數器讀取時的效能計數器搜尋。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-443">There is no way to avoid the performance counter search when reading from performance counters.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-444">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-444">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-445">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-445">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-446">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-446">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-447">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-447">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-448">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-448">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-449">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-449">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-450">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-450">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-451">下列程式碼範例會判斷是否<xref:System.Diagnostics.PerformanceCounterCategory>名為"orders"物件存在。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-451">The following code example determines whether a <xref:System.Diagnostics.PerformanceCounterCategory> object named "orders" exists.</span></span> <span data-ttu-id="0a4d3-452">如果沒有，它會建立<xref:System.Diagnostics.PerformanceCounterCategory>物件使用<xref:System.Diagnostics.CounterCreationDataCollection>物件，其中包含兩個效能計數器。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-452">If not, it creates the <xref:System.Diagnostics.PerformanceCounterCategory> object by using a <xref:System.Diagnostics.CounterCreationDataCollection> object that contains two performance counters.</span></span>  
  
 [!code-cpp[PerfCounter_ccd#1](~/samples/snippets/cpp/VS_Snippets_CLR/PerfCounter_ccd/CPP/ccd.cpp#1)]
 [!code-csharp[PerfCounter_ccd#1](~/samples/snippets/csharp/VS_Snippets_CLR/PerfCounter_ccd/CS/ccd.cs#1)]
 [!code-vb[PerfCounter_ccd#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/PerfCounter_ccd/VB/ccd.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-453">
            <paramref name="categoryName" /> 參數為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-453">The <paramref name="categoryName" /> parameter is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-454">
            <paramref name="categoryName" /> 參數是空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-454">The <paramref name="categoryName" /> parameter is an empty string ("").</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-455">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-455">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-456">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-456">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-457">用於讀取效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-457">for reading performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-458">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-458">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.CounterExists(System.String)" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.InstanceExists(System.String)" />
      </Docs>
    </Member>
    <Member MemberName="Exists">
      <MemberSignature Language="C#" Value="public static bool Exists (string categoryName, string machineName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool Exists(string categoryName, string machineName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.Exists(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Exists (categoryName As String, machineName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool Exists(System::String ^ categoryName, System::String ^ machineName);" />
      <MemberSignature Language="F#" Value="static member Exists : string * string -&gt; bool" Usage="System.Diagnostics.PerformanceCounterCategory.Exists (categoryName, machineName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="categoryName" Type="System.String" />
        <Parameter Name="machineName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="categoryName">
          <span data-ttu-id="0a4d3-459">要尋找的效能計數器分類名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-459">The name of the performance counter category to look for.</span>
          </span>
        </param>
        <param name="machineName">
          <span data-ttu-id="0a4d3-460">要為分類檢視的電腦名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-460">The name of the computer to examine for the category.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-461">判斷分類是否登錄在指定電腦上。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-461">Determines whether the category is registered on the specified computer.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-462">如果分類已登錄，則為 <see langword="true" />，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-462">
              <see langword="true" /> if the category is registered; otherwise, <see langword="false" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-463">使用<xref:System.Diagnostics.PerformanceCounterCategory.Exists%2A>時在電腦上的所有效能計數器會都檢查可用性的方法可能造成明顯的效能影響。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-463">Use of the <xref:System.Diagnostics.PerformanceCounterCategory.Exists%2A> method can result in a noticeable performance penalty while all performance counters on the machine are checked for availability.</span></span> <span data-ttu-id="0a4d3-464">如果您只會寫入效能計數器，您可以避免時已安裝的應用程式，且假設類別目錄有存取計數器時，建立效能計數器的效能計數器的全域搜尋。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-464">If you are only writing to a performance counter, you can avoid the global search for performance counters by creating the performance counter when the application is installed and assuming the category exists when accessing the counter.</span></span> <span data-ttu-id="0a4d3-465">沒有任何方法可避免從效能計數器讀取時的效能計數器搜尋。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-465">There is no way to avoid the performance counter search when reading from performance counters.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-466">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-466">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-467">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-467">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-468">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-468">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-469">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-469">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-470">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-470">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-471">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-471">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-472">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-472">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-473">下列範例會判斷是否<xref:System.Diagnostics.PerformanceCounterCategory>名為物件`Orders`存在。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-473">The following example determines whether a <xref:System.Diagnostics.PerformanceCounterCategory> object named `Orders` exists.</span></span> <span data-ttu-id="0a4d3-474">如果不存在，此範例會建立<xref:System.Diagnostics.PerformanceCounterCategory>物件使用<xref:System.Diagnostics.CounterCreationDataCollection>物件，其中包含兩個效能計數器。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-474">If it does not exist, the example creates the <xref:System.Diagnostics.PerformanceCounterCategory> object by using a <xref:System.Diagnostics.CounterCreationDataCollection> object that contains two performance counters.</span></span>  
  
 [!code-cpp[PerfCounter_ccd#1](~/samples/snippets/cpp/VS_Snippets_CLR/PerfCounter_ccd/CPP/ccd.cpp#1)]
 [!code-csharp[PerfCounter_ccd#1](~/samples/snippets/csharp/VS_Snippets_CLR/PerfCounter_ccd/CS/ccd.cs#1)]
 [!code-vb[PerfCounter_ccd#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/PerfCounter_ccd/VB/ccd.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-475">
            <paramref name="categoryName" /> 參數為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-475">The <paramref name="categoryName" /> parameter is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-476">
            <paramref name="categoryName" /> 參數是空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-476">The <paramref name="categoryName" /> parameter is an empty string ("").</span>
          </span>
          <span data-ttu-id="0a4d3-477">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-477">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-478">
            <paramref name="machineName" /> 參數無效。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-478">The <paramref name="machineName" /> parameter is invalid.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-479">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-479">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.IO.IOException">
          <span data-ttu-id="0a4d3-480">找不到網路路徑。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-480">The network path cannot be found.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-481">呼叫端沒有必要的權限。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-481">The caller does not have the required permission.</span>
          </span>
          <span data-ttu-id="0a4d3-482">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-482">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-483">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-483">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-484">用於讀取效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-484">for reading performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-485">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-485">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.CounterExists(System.String)" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.InstanceExists(System.String)" />
      </Docs>
    </Member>
    <MemberGroup MemberName="GetCategories">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-486">擷取登錄在電腦上的效能計數器分類清單。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-486">Retrieves a list of the performance counter categories that are registered on a computer.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetCategories">
      <MemberSignature Language="C#" Value="public static System.Diagnostics.PerformanceCounterCategory[] GetCategories ();" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Diagnostics.PerformanceCounterCategory[] GetCategories() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.GetCategories" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetCategories () As PerformanceCounterCategory()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::Diagnostics::PerformanceCounterCategory ^&gt; ^ GetCategories();" />
      <MemberSignature Language="F#" Value="static member GetCategories : unit -&gt; System.Diagnostics.PerformanceCounterCategory[]" Usage="System.Diagnostics.PerformanceCounterCategory.GetCategories " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Diagnostics.PerformanceCounterCategory[]</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-487">擷取登錄在本機電腦上的效能計數器分類清單。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-487">Retrieves a list of the performance counter categories that are registered on the local computer.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-488">
            <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> 物件的陣列，指出登錄在本機電腦上的分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-488">An array of <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> objects indicating the categories that are registered on the local computer.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-489">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-489">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-490">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-490">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-491">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-491">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-492">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-492">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-493">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-493">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-494">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-494">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-495">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-495">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-496">下列程式碼範例會使用<xref:System.Diagnostics.PerformanceCounterCategory.GetCategories%2A>方法傳回的陣列<xref:System.Diagnostics.PerformanceCounterCategory>物件從本機電腦或指定的電腦。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-496">The following code example uses the <xref:System.Diagnostics.PerformanceCounterCategory.GetCategories%2A> method to return an array of <xref:System.Diagnostics.PerformanceCounterCategory> objects from the local computer or a specified computer.</span></span> <span data-ttu-id="0a4d3-497">它會將轉換<xref:System.Diagnostics.PerformanceCounterCategory>成類別目錄名稱，它會排序並顯示使用者的陣列的陣列。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-497">It converts the <xref:System.Diagnostics.PerformanceCounterCategory> array into an array of category names, which it sorts and displays for the user.</span></span> <span data-ttu-id="0a4d3-498"><xref:System.Diagnostics.PerformanceCounterCategory.GetCategories%2A>多載會根據是否已指定電腦名稱選取。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-498">The <xref:System.Diagnostics.PerformanceCounterCategory.GetCategories%2A> overload is selected based on whether a computer name was specified.</span></span>  
  
 [!code-cpp[System.Diagnostics.PerformanceCounterCategory.GetMembers#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/cpp/perfcountergetcat.cpp#2)]
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.GetMembers#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/CS/perfcountergetcat.cs#2)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.GetMembers#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/VB/perfcountercatgetcat.vb#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-499">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-499">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-500">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-500">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-501">用於讀取效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-501">for reading performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-502">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-502">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <Member MemberName="GetCategories">
      <MemberSignature Language="C#" Value="public static System.Diagnostics.PerformanceCounterCategory[] GetCategories (string machineName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Diagnostics.PerformanceCounterCategory[] GetCategories(string machineName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.GetCategories(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetCategories (machineName As String) As PerformanceCounterCategory()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::Diagnostics::PerformanceCounterCategory ^&gt; ^ GetCategories(System::String ^ machineName);" />
      <MemberSignature Language="F#" Value="static member GetCategories : string -&gt; System.Diagnostics.PerformanceCounterCategory[]" Usage="System.Diagnostics.PerformanceCounterCategory.GetCategories machineName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Diagnostics.PerformanceCounterCategory[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="machineName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="machineName">
          <span data-ttu-id="0a4d3-503">要觀察的電腦。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-503">The computer to look on.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-504">擷取登錄在指定電腦上的效能計數器分類清單。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-504">Retrieves a list of the performance counter categories that are registered on the specified computer.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-505">
            <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> 物件的陣列，指出登錄在指定電腦上的分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-505">An array of <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> objects indicating the categories that are registered on the specified computer.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-506">若要擷取本機電腦上的類別，使用另一個多載，或傳遞 」。 「 為`machineName`參數。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-506">To retrieve the categories on the local computer, use another overload or pass "." as the `machineName` parameter.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-507">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-507">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-508">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-508">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-509">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-509">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-510">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-510">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-511">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-511">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-512">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-512">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-513">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-513">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-514">下列程式碼範例會使用<xref:System.Diagnostics.PerformanceCounterCategory.GetCategories%2A>方法傳回的陣列<xref:System.Diagnostics.PerformanceCounterCategory>物件從本機電腦或指定的電腦。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-514">The following code example uses the <xref:System.Diagnostics.PerformanceCounterCategory.GetCategories%2A> method to return an array of <xref:System.Diagnostics.PerformanceCounterCategory> objects from the local computer or a specified computer.</span></span> <span data-ttu-id="0a4d3-515">它會將轉換<xref:System.Diagnostics.PerformanceCounterCategory>成類別目錄名稱，它會排序並顯示使用者的陣列的陣列。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-515">It converts the <xref:System.Diagnostics.PerformanceCounterCategory> array into an array of category names, which it sorts and displays for the user.</span></span> <span data-ttu-id="0a4d3-516"><xref:System.Diagnostics.PerformanceCounterCategory.GetCategories%2A>多載會根據是否已指定電腦名稱選取。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-516">The <xref:System.Diagnostics.PerformanceCounterCategory.GetCategories%2A> overload is selected based on whether a computer name was specified.</span></span>  
  
 [!code-cpp[System.Diagnostics.PerformanceCounterCategory.GetMembers#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/cpp/perfcountergetcat.cpp#2)]
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.GetMembers#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/CS/perfcountergetcat.cs#2)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.GetMembers#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/VB/perfcountercatgetcat.vb#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-517">
            <paramref name="machineName" /> 參數無效。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-517">The <paramref name="machineName" /> parameter is invalid.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-518">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-518">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-519">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-519">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-520">用於讀取效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-520">for reading performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-521">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-521">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <MemberGroup MemberName="GetCounters">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-522">擷取這個效能計數器分類中的計數器清單。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-522">Retrieves a list of the counters in this performance counter category.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetCounters">
      <MemberSignature Language="C#" Value="public System.Diagnostics.PerformanceCounter[] GetCounters ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Diagnostics.PerformanceCounter[] GetCounters() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.GetCounters" />
      <MemberSignature Language="VB.NET" Value="Public Function GetCounters () As PerformanceCounter()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Diagnostics::PerformanceCounter ^&gt; ^ GetCounters();" />
      <MemberSignature Language="F#" Value="member this.GetCounters : unit -&gt; System.Diagnostics.PerformanceCounter[]" Usage="performanceCounterCategory.GetCounters " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Diagnostics.PerformanceCounter[]</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-523">擷取只包含一個執行個體的效能計數器分類中的計數器清單。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-523">Retrieves a list of the counters in a performance counter category that contains exactly one instance.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-524">
            <see cref="T:System.Diagnostics.PerformanceCounter" /> 物件的陣列，指出與這個單一執行個體效能計數器分類相關的計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-524">An array of <see cref="T:System.Diagnostics.PerformanceCounter" /> objects indicating the counters that are associated with this single-instance performance counter category.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-525">如需有關效能物件執行個體的詳細資訊，請參閱<xref:System.Diagnostics.PerformanceCounter>類別概觀。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-525">For more information about performance object instances, see the <xref:System.Diagnostics.PerformanceCounter> class overview.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-526">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-526">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-527">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-527">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-528">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-528">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-529">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-529">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-530">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-530">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-531">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-531">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-532">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-532">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-533">下列程式碼範例會取得一份<xref:System.Diagnostics.PerformanceCounter>中的物件<xref:System.Diagnostics.PerformanceCounterCategory>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-533">The following code example gets a list of the <xref:System.Diagnostics.PerformanceCounter> objects in a <xref:System.Diagnostics.PerformanceCounterCategory>.</span></span> <span data-ttu-id="0a4d3-534">它會先建立<xref:System.Diagnostics.PerformanceCounterCategory>使用適當的建構函式，根據是否已指定電腦名稱。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-534">It first creates a <xref:System.Diagnostics.PerformanceCounterCategory> with the appropriate constructor, based on whether a computer name was specified.</span></span> <span data-ttu-id="0a4d3-535">然後它會使用<xref:System.Diagnostics.PerformanceCounterCategory.GetCounters%2A>方法傳回的陣列<xref:System.Diagnostics.PerformanceCounter>物件，選取<xref:System.Diagnostics.PerformanceCounterCategory.GetCounters%2A>多載會根據是否已指定執行個體名稱。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-535">It then uses the <xref:System.Diagnostics.PerformanceCounterCategory.GetCounters%2A> method to return an array of <xref:System.Diagnostics.PerformanceCounter> objects, selecting the <xref:System.Diagnostics.PerformanceCounterCategory.GetCounters%2A> overload based on whether an instance name was specified.</span></span>  
  
 <span data-ttu-id="0a4d3-536">這<xref:System.Diagnostics.PerformanceCounterCategory.GetCounters>多載會失敗，除非它搭配的單一執行個體類別。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-536">This <xref:System.Diagnostics.PerformanceCounterCategory.GetCounters> overload fails unless it is used with a single-instance category.</span></span>  
  
 [!code-cpp[System.Diagnostics.PerformanceCounterCategory.GetMembers#4](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/cpp/perfcountercatgetcount.cpp#4)]
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.GetMembers#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/CS/perfcountercatgetcount.cs#4)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.GetMembers#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/VB/perfcountercatgetcount.vb#4)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-537">分類不是單一的執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-537">The category is not a single instance.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-538">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-538">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="0a4d3-539">此分類沒有相關聯的執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-539">The category does not have an associated instance.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-540">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-540">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <Member MemberName="GetCounters">
      <MemberSignature Language="C#" Value="public System.Diagnostics.PerformanceCounter[] GetCounters (string instanceName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Diagnostics.PerformanceCounter[] GetCounters(string instanceName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.GetCounters(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function GetCounters (instanceName As String) As PerformanceCounter()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Diagnostics::PerformanceCounter ^&gt; ^ GetCounters(System::String ^ instanceName);" />
      <MemberSignature Language="F#" Value="member this.GetCounters : string -&gt; System.Diagnostics.PerformanceCounter[]" Usage="performanceCounterCategory.GetCounters instanceName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Diagnostics.PerformanceCounter[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="instanceName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="instanceName">
          <span data-ttu-id="0a4d3-541">要為其擷取相關計數器清單的效能物件執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-541">The performance object instance for which to retrieve the list of associated counters.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-542">擷取包含一個或多個執行個體的效能計數器分類中的計數器清單。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-542">Retrieves a list of the counters in a performance counter category that contains one or more instances.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-543">
            <see cref="T:System.Diagnostics.PerformanceCounter" /> 物件的陣列，指出與這個效能計數器分類的指定物件執行個體相關的計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-543">An array of <see cref="T:System.Diagnostics.PerformanceCounter" /> objects indicating the counters that are associated with the specified object instance of this performance counter category.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-544">若要表示的單一執行個體類別，請傳遞空字串 ("") 為`instanceName`參數。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-544">To represent a single-instance category, pass an empty string ("") for the `instanceName` parameter.</span></span>  
  
 <span data-ttu-id="0a4d3-545">如需有關效能物件執行個體的詳細資訊，請參閱<xref:System.Diagnostics.PerformanceCounter>類別概觀。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-545">For more information about performance object instances, see the <xref:System.Diagnostics.PerformanceCounter> class overview.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-546">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-546">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-547">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-547">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-548">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-548">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-549">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-549">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-550">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-550">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-551">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-551">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-552">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-552">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-553">下列程式碼範例會取得一份<xref:System.Diagnostics.PerformanceCounter>中的物件<xref:System.Diagnostics.PerformanceCounterCategory>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-553">The following code example gets a list of the <xref:System.Diagnostics.PerformanceCounter> objects in a <xref:System.Diagnostics.PerformanceCounterCategory>.</span></span> <span data-ttu-id="0a4d3-554">它會先建立<xref:System.Diagnostics.PerformanceCounterCategory>使用適當的建構函式，根據是否已指定電腦名稱。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-554">It first creates a <xref:System.Diagnostics.PerformanceCounterCategory> with the appropriate constructor, based on whether a computer name was specified.</span></span> <span data-ttu-id="0a4d3-555">然後它會使用<xref:System.Diagnostics.PerformanceCounterCategory.GetCounters%2A>方法傳回的陣列<xref:System.Diagnostics.PerformanceCounter>物件，選取<xref:System.Diagnostics.PerformanceCounterCategory.GetCounters%2A>多載會根據是否已指定執行個體名稱。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-555">It then uses the <xref:System.Diagnostics.PerformanceCounterCategory.GetCounters%2A> method to return an array of <xref:System.Diagnostics.PerformanceCounter> objects, selecting the <xref:System.Diagnostics.PerformanceCounterCategory.GetCounters%2A> overload based on whether an instance name was specified.</span></span>  
  
 <span data-ttu-id="0a4d3-556">這<xref:System.Diagnostics.PerformanceCounterCategory.GetCounters%28System.String%29>多載會失敗，除非它搭配包含執行個體的分類。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-556">This <xref:System.Diagnostics.PerformanceCounterCategory.GetCounters%28System.String%29> overload fails unless it is used with a category that contains instances.</span></span>  
  
 [!code-cpp[System.Diagnostics.PerformanceCounterCategory.GetMembers#4](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/cpp/perfcountercatgetcount.cpp#4)]
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.GetMembers#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/CS/perfcountercatgetcount.cs#4)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.GetMembers#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/VB/perfcountercatgetcount.vb#4)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-557">
            <paramref name="instanceName" /> 參數為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-557">The <paramref name="instanceName" /> parameter is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="0a4d3-558">這個 <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> 執行個體的 <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> 屬性尚未設定。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-558">The <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> property for this <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> instance has not been set.</span>
          </span>
          <span data-ttu-id="0a4d3-559">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-559">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-560">分類不包含 <paramref name="instanceName" /> 參數所指定的執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-560">The category does not contain the instance that is specified by the <paramref name="instanceName" /> parameter.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-561">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-561">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-562">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-562">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <Member MemberName="GetInstanceNames">
      <MemberSignature Language="C#" Value="public string[] GetInstanceNames ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string[] GetInstanceNames() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.GetInstanceNames" />
      <MemberSignature Language="VB.NET" Value="Public Function GetInstanceNames () As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::String ^&gt; ^ GetInstanceNames();" />
      <MemberSignature Language="F#" Value="member this.GetInstanceNames : unit -&gt; string[]" Usage="performanceCounterCategory.GetInstanceNames " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-563">擷取與這個分類相關的效能物件執行個體清單。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-563">Retrieves the list of performance object instances that are associated with this category.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-564">字串的陣列，表示與這個分類相關的效能物件執行個體名稱，或者包含空字串 ("") 的單一項目陣列 (如果分類只包含一個效能物件執行個體)。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-564">An array of strings representing the performance object instance names that are associated with this category or, if the category contains only one performance object instance, a single-entry array that contains an empty string ("").</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-565">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-565">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-566">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-566">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-567">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-567">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-568">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-568">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-569">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-569">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-570">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-570">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-571">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-571">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-572">下列程式碼範例會取得一份<xref:System.Diagnostics.PerformanceCounter>中的物件<xref:System.Diagnostics.PerformanceCounterCategory>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-572">The following code example gets a list of the <xref:System.Diagnostics.PerformanceCounter> objects in a <xref:System.Diagnostics.PerformanceCounterCategory>.</span></span> <span data-ttu-id="0a4d3-573">它會先建立<xref:System.Diagnostics.PerformanceCounterCategory>物件，使用適當的建構函式為基礎的電腦名稱是否已指定。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-573">It first creates a <xref:System.Diagnostics.PerformanceCounterCategory> object, using the appropriate constructor based on whether a computer name was specified.</span></span> <span data-ttu-id="0a4d3-574">然後它會使用<xref:System.Diagnostics.PerformanceCounterCategory.GetInstanceNames%2A>傳回的執行個體名稱的陣列<xref:System.String>，它會排序並顯示。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-574">It then uses <xref:System.Diagnostics.PerformanceCounterCategory.GetInstanceNames%2A> to return the instance names as an array of <xref:System.String>, which it sorts and displays.</span></span>  
  
 [!code-cpp[System.Diagnostics.PerformanceCounterCategory.GetMembers#6](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/cpp/perfcountercatgetinst.cpp#6)]
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.GetMembers#6](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/CS/perfcountercatgetinst.cs#6)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.GetMembers#6](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.GetMembers/VB/perfcountercatgetinst.vb#6)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="0a4d3-575">
            <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> 屬性為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-575">The <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> property is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="0a4d3-576">屬性可能尚未設定。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-576">The property might not have been set.</span>
          </span>
          <span data-ttu-id="0a4d3-577">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-577">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-578">此分類沒有相關聯的執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-578">The category does not have an associated instance.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-579">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-579">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-580">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-580">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <altmember cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" />
        <altmember cref="P:System.Diagnostics.PerformanceCounter.InstanceName" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <MemberGroup MemberName="InstanceExists">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-581">判斷分類是否包含指定的效能物件執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-581">Determines whether the category contains the specified performance object instance.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="InstanceExists">
      <MemberSignature Language="C#" Value="public bool InstanceExists (string instanceName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance bool InstanceExists(string instanceName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.InstanceExists(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function InstanceExists (instanceName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; bool InstanceExists(System::String ^ instanceName);" />
      <MemberSignature Language="F#" Value="member this.InstanceExists : string -&gt; bool" Usage="performanceCounterCategory.InstanceExists instanceName" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="instanceName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="instanceName">
          <span data-ttu-id="0a4d3-582">要在這個效能計數器分類中搜尋的目標效能物件執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-582">The performance object instance in this performance counter category to search for.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-583">判斷在由這個 <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> 物件的 <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> 屬性所識別的分類中是否存在指定效能物件執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-583">Determines whether the specified performance object instance exists in the category that is identified by this <see cref="T:System.Diagnostics.PerformanceCounterCategory" /> object's <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> property.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-584">如果分類包含指定效能物件執行個體，則為 <see langword="true" />，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-584">
              <see langword="true" /> if the category contains the specified performance object instance; otherwise, <see langword="false" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-585">這個多載<xref:System.Diagnostics.PerformanceCounterCategory.InstanceExists%2A>不是`static`。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-585">This overload of <xref:System.Diagnostics.PerformanceCounterCategory.InstanceExists%2A> is not `static`.</span></span> <span data-ttu-id="0a4d3-586">它會要求您建立<xref:System.Diagnostics.PerformanceCounterCategory>物件，並設定<xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-586">It requires you to create a <xref:System.Diagnostics.PerformanceCounterCategory> object and to set the <xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A> property.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-587">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-587">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-588">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-588">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-589">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-589">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-590">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-590">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-591">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-591">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-592">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-592">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-593">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-593">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-594">下列程式碼範例會判斷是否<xref:System.Diagnostics.PerformanceCounter>執行個體存在於<xref:System.Diagnostics.PerformanceCounterCategory>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-594">The following code example determines whether a <xref:System.Diagnostics.PerformanceCounter> instance exists within a <xref:System.Diagnostics.PerformanceCounterCategory>.</span></span> <span data-ttu-id="0a4d3-595">它會先建立<xref:System.Diagnostics.PerformanceCounterCategory>物件，使用適當的建構函式為基礎的電腦名稱是否已指定。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-595">It first creates a <xref:System.Diagnostics.PerformanceCounterCategory> object, using the appropriate constructor based on whether a computer name was specified.</span></span> <span data-ttu-id="0a4d3-596">然後它會使用<xref:System.Diagnostics.PerformanceCounterCategory.InstanceExists%28System.String%29>來判斷指定的執行個體是否存在，則會通知使用者。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-596">It then uses <xref:System.Diagnostics.PerformanceCounterCategory.InstanceExists%28System.String%29> to determine whether the specified instance exists, then informs the user.</span></span> <span data-ttu-id="0a4d3-597">如果未不指定任何執行個體名稱，則此範例會使用預設的單一執行個體名稱。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-597">If no instance name is specified, the example uses the default single-instance name.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.ExistMembers#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.ExistMembers/CS/perfcounterobjinstexists.cs#2)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.ExistMembers#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.ExistMembers/VB/perfcountercatobjinstexists.vb#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="0a4d3-598">
            <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> 屬性為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-598">The <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> property is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="0a4d3-599">屬性可能尚未設定。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-599">The property might not have been set.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-600">
            <paramref name="instanceName" /> 參數為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-600">The <paramref name="instanceName" /> parameter is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-601">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-601">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-602">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-602">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-603">用於讀取效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-603">for reading performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-604">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-604">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" />
        <altmember cref="P:System.Diagnostics.PerformanceCounter.InstanceName" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.CounterExists(System.String)" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Exists(System.String)" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <Member MemberName="InstanceExists">
      <MemberSignature Language="C#" Value="public static bool InstanceExists (string instanceName, string categoryName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool InstanceExists(string instanceName, string categoryName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.InstanceExists(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function InstanceExists (instanceName As String, categoryName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool InstanceExists(System::String ^ instanceName, System::String ^ categoryName);" />
      <MemberSignature Language="F#" Value="static member InstanceExists : string * string -&gt; bool" Usage="System.Diagnostics.PerformanceCounterCategory.InstanceExists (instanceName, categoryName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="instanceName" Type="System.String" />
        <Parameter Name="categoryName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="instanceName">
          <span data-ttu-id="0a4d3-605">要搜尋的目標效能物件執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-605">The performance object instance to search for.</span>
          </span>
        </param>
        <param name="categoryName">
          <span data-ttu-id="0a4d3-606">要搜尋的效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-606">The performance counter category to search.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-607">判斷本機電腦上的指定分類是否包含指定效能物件執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-607">Determines whether a specified category on the local computer contains the specified performance object instance.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-608">如果分類包含指定效能物件執行個體，則為 <see langword="true" />，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-608">
              <see langword="true" /> if the category contains the specified performance object instance; otherwise, <see langword="false" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-609">您不能夠判斷效能物件執行個體上是否有電腦而不指定要尋找特定類別。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-609">It is not possible to determine whether a performance object instance exists on a computer without specifying a specific category to look in.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-610">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-610">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-611">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-611">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-612">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-612">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-613">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-613">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-614">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-614">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-615">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-615">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-616">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-616">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-617">下列程式碼範例會使用靜態的多載<xref:System.Diagnostics.PerformanceCounterCategory.InstanceExists%2A>來判斷是否給定<xref:System.Diagnostics.PerformanceCounter>執行個體存在於<xref:System.Diagnostics.PerformanceCounterCategory>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-617">The following code example uses the static overloads of <xref:System.Diagnostics.PerformanceCounterCategory.InstanceExists%2A> to determine whether the given <xref:System.Diagnostics.PerformanceCounter> instance exists in the <xref:System.Diagnostics.PerformanceCounterCategory>.</span></span> <span data-ttu-id="0a4d3-618">多載被根據是否指定電腦名稱。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-618">The overload is selected based on whether a computer name is specified.</span></span> <span data-ttu-id="0a4d3-619">如果未不指定任何執行個體名稱，則此範例會使用預設的單一執行個體名稱。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-619">If no instance name is specified, the example uses the default single-instance name.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.ExistMembers#10](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.ExistMembers/CS/perfcountercatstatinstexists.cs#10)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.ExistMembers#10](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.ExistMembers/VB/perfcountercatstatinstexists.vb#10)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-620">
            <paramref name="instanceName" /> 參數為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-620">The <paramref name="instanceName" /> parameter is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="0a4d3-621">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-621">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-622">
            <paramref name="categoryName" /> 參數為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-622">The <paramref name="categoryName" /> parameter is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-623">
            <paramref name="categoryName" /> 參數是空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-623">The <paramref name="categoryName" /> parameter is an empty string ("").</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-624">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-624">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-625">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-625">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-626">用於讀取效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-626">for reading performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-627">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-627">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="P:System.Diagnostics.PerformanceCounter.InstanceName" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.CounterExists(System.String)" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Exists(System.String)" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <Member MemberName="InstanceExists">
      <MemberSignature Language="C#" Value="public static bool InstanceExists (string instanceName, string categoryName, string machineName);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool InstanceExists(string instanceName, string categoryName, string machineName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.InstanceExists(System.String,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function InstanceExists (instanceName As String, categoryName As String, machineName As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool InstanceExists(System::String ^ instanceName, System::String ^ categoryName, System::String ^ machineName);" />
      <MemberSignature Language="F#" Value="static member InstanceExists : string * string * string -&gt; bool" Usage="System.Diagnostics.PerformanceCounterCategory.InstanceExists (instanceName, categoryName, machineName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="instanceName" Type="System.String" />
        <Parameter Name="categoryName" Type="System.String" />
        <Parameter Name="machineName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="instanceName">
          <span data-ttu-id="0a4d3-628">要搜尋的目標效能物件執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-628">The performance object instance to search for.</span>
          </span>
        </param>
        <param name="categoryName">
          <span data-ttu-id="0a4d3-629">要搜尋的效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-629">The performance counter category to search.</span>
          </span>
        </param>
        <param name="machineName">
          <span data-ttu-id="0a4d3-630">要搜尋分類執行個體配對所在的電腦名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-630">The name of the computer on which to look for the category instance pair.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0a4d3-631">判斷指定電腦上的指定分類是否包含指定效能物件執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-631">Determines whether a specified category on a specified computer contains the specified performance object instance.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-632">如果分類包含指定效能物件執行個體，則為 <see langword="true" />，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-632">
              <see langword="true" /> if the category contains the specified performance object instance; otherwise, <see langword="false" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-633">您不能夠判斷效能物件執行個體上是否有電腦而不指定要尋找特定類別。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-633">It is not possible to determine whether a performance object instance exists on a computer without specifying a specific category to look in.</span></span>  
  
 <span data-ttu-id="0a4d3-634">您可以使用 」。 「 若要指定本機電腦。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-634">You can use "." to specify the local computer.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-635">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-635">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-636">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-636">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-637">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-637">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-638">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-638">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-639">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-639">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-640">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-640">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-641">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-641">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-642">下列程式碼範例會使用靜態的多載<xref:System.Diagnostics.PerformanceCounterCategory.InstanceExists%2A>來判斷是否給定<xref:System.Diagnostics.PerformanceCounter>執行個體存在於<xref:System.Diagnostics.PerformanceCounterCategory>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-642">The following code example uses the static overloads of <xref:System.Diagnostics.PerformanceCounterCategory.InstanceExists%2A> to determine whether the given <xref:System.Diagnostics.PerformanceCounter> instance exists in the <xref:System.Diagnostics.PerformanceCounterCategory>.</span></span> <span data-ttu-id="0a4d3-643">多載被根據是否指定電腦名稱。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-643">The overload is selected based on whether a computer name is specified.</span></span> <span data-ttu-id="0a4d3-644">如果未不指定任何執行個體名稱，則此範例會使用預設的單一執行個體名稱。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-644">If no instance name is specified, the example uses the default single-instance name.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.ExistMembers#10](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.ExistMembers/CS/perfcountercatstatinstexists.cs#10)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.ExistMembers#10](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.ExistMembers/VB/perfcountercatstatinstexists.vb#10)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0a4d3-645">
            <paramref name="instanceName" /> 參數為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-645">The <paramref name="instanceName" /> parameter is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="0a4d3-646">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-646">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-647">
            <paramref name="categoryName" /> 參數為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-647">The <paramref name="categoryName" /> parameter is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-648">
            <paramref name="categoryName" /> 參數是空字串 ("")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-648">The <paramref name="categoryName" /> parameter is an empty string ("").</span>
          </span>
          <span data-ttu-id="0a4d3-649">-或-</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-649">-or-</span>
          </span>
          <span data-ttu-id="0a4d3-650">
            <paramref name="machineName" /> 參數無效。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-650">The <paramref name="machineName" /> parameter is invalid.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-651">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-651">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-652">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-652">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-653">用於讀取效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-653">for reading performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-654">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-654">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="P:System.Diagnostics.PerformanceCounter.InstanceName" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.CounterExists(System.String)" />
        <altmember cref="M:System.Diagnostics.PerformanceCounterCategory.Exists(System.String)" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <Member MemberName="MachineName">
      <MemberSignature Language="C#" Value="public string MachineName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string MachineName" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.PerformanceCounterCategory.MachineName" />
      <MemberSignature Language="VB.NET" Value="Public Property MachineName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ MachineName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.MachineName : string with get, set" Usage="System.Diagnostics.PerformanceCounterCategory.MachineName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-655">取得或設定這個分類所在的電腦名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-655">Gets or sets the name of the computer on which this category exists.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="0a4d3-656">效能計數器分類和其相關聯計數器所在的電腦名稱。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-656">The name of the computer on which the performance counter category and its associated counters exist.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="0a4d3-657">下列程式碼範例會建立<xref:System.Diagnostics.PerformanceCounterCategory>與<xref:System.Diagnostics.PerformanceCounterCategory.%23ctor>建構函式。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-657">The following code example creates a <xref:System.Diagnostics.PerformanceCounterCategory> with the <xref:System.Diagnostics.PerformanceCounterCategory.%23ctor> constructor.</span></span> <span data-ttu-id="0a4d3-658">它會提示使用者輸入<xref:System.Diagnostics.PerformanceCounterCategory>和 電腦名稱，然後設定<xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A>和<xref:System.Diagnostics.PerformanceCounterCategory.MachineName%2A>屬性輸入的值。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-658">It prompts the user for the <xref:System.Diagnostics.PerformanceCounterCategory> and the computer names, then sets the <xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A> and <xref:System.Diagnostics.PerformanceCounterCategory.MachineName%2A> properties from the entered values.</span></span> <span data-ttu-id="0a4d3-659">接著會顯示的值<xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A>， <xref:System.Diagnostics.PerformanceCounterCategory.MachineName%2A>，並<xref:System.Diagnostics.PerformanceCounterCategory.CategoryHelp%2A>屬性，或是它會顯示錯誤訊息如果<xref:System.Diagnostics.PerformanceCounterCategory>無法存取。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-659">It then displays the values of the <xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A>, <xref:System.Diagnostics.PerformanceCounterCategory.MachineName%2A>, and <xref:System.Diagnostics.PerformanceCounterCategory.CategoryHelp%2A> properties, or it displays an error message if the <xref:System.Diagnostics.PerformanceCounterCategory> cannot be accessed.</span></span>  
  
 [!code-csharp[System.Diagnostics.PerformanceCounterCategory.OtherMembers#8](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/CS/perfCounterCatProps.cs#8)]
 [!code-vb[System.Diagnostics.PerformanceCounterCategory.OtherMembers#8](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.PerformanceCounterCategory.OtherMembers/VB/perfcountercatprops.vb#8)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="0a4d3-660">
            <see cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" /> 語法無效。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-660">The <see cref="P:System.Diagnostics.PerformanceCounterCategory.MachineName" /> syntax is invalid.</span>
          </span>
        </exception>
        <permission cref="T:System.Diagnostics.PerformanceCounterPermission">
          <span data-ttu-id="0a4d3-661">用於讀取效能計數器分類。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-661">for reading performance counter categories.</span>
          </span>
          <span data-ttu-id="0a4d3-662">關聯的列舉型別：<see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-662">Associated enumeration: <see cref="F:System.Diagnostics.PerformanceCounterPermissionAccess.Read" />.</span>
          </span>
        </permission>
        <altmember cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" />
        <altmember cref="T:System.Diagnostics.PerformanceCounter" />
      </Docs>
    </Member>
    <Member MemberName="ReadCategory">
      <MemberSignature Language="C#" Value="public System.Diagnostics.InstanceDataCollectionCollection ReadCategory ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Diagnostics.InstanceDataCollectionCollection ReadCategory() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.PerformanceCounterCategory.ReadCategory" />
      <MemberSignature Language="VB.NET" Value="Public Function ReadCategory () As InstanceDataCollectionCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Diagnostics::InstanceDataCollectionCollection ^ ReadCategory();" />
      <MemberSignature Language="F#" Value="member this.ReadCategory : unit -&gt; System.Diagnostics.InstanceDataCollectionCollection" Usage="performanceCounterCategory.ReadCategory " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.PerformanceCounter</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="xamarinmac-3.0">
          <AttributeName>System.MonoTODO</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Diagnostics.InstanceDataCollectionCollection</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="0a4d3-663">讀取與這個效能計數器分類相關的所有計數器和效能物件執行個體資料。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-663">Reads all the counter and performance object instance data that is associated with this performance counter category.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0a4d3-664">
            <see cref="T:System.Diagnostics.InstanceDataCollectionCollection" />，包含分類的計數器和效能物件執行個體資料。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-664">An <see cref="T:System.Diagnostics.InstanceDataCollectionCollection" /> that contains the counter and performance object instance data for the category.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0a4d3-665">您必須設定<xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A>屬性，然後再呼叫<xref:System.Diagnostics.PerformanceCounterCategory.ReadCategory%2A>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-665">You must set the <xref:System.Diagnostics.PerformanceCounterCategory.CategoryName%2A> property before you call <xref:System.Diagnostics.PerformanceCounterCategory.ReadCategory%2A>.</span></span>  
  
 <span data-ttu-id="0a4d3-666">一次讀取整個類別可以是效率不如讀取單一計數器，因為系統會提供資料的方式。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-666">Reading the entire category at once can be as efficient as reading a single counter because of the way that the system provides the data.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a4d3-667">若要讀取效能計數器，在 Windows Vista 和更新版本，Windows XP Professional x64 Edition 或 Windows Server 2003，您必須是 Performance Monitor Users 群組的成員，或具有系統管理權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-667">To read performance counters in Windows Vista and later, Windows XP Professional x64 Edition, or Windows Server 2003, you must either be a member of the Performance Monitor Users group or have administrative privileges.</span></span>  
>   
>  <span data-ttu-id="0a4d3-668">若要避免在為了無法提升您的權限來存取效能計數器，在 Windows Vista 和更新版本，請將您自己新增至 Performance Monitor Users 群組。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-668">To avoid having to elevate your privileges to access performance counters in Windows Vista and later, add yourself to the Performance Monitor Users group.</span></span>  
>   
>  <span data-ttu-id="0a4d3-669">在 Windows Vista (含) 以後版本中，使用者帳戶控制 (UAC) 會判斷使用者的權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-669">In Windows Vista and later, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="0a4d3-670">如果您是內建 Administrators 群組的成員，系統會將兩個執行階段存取語彙基元 (Token) 指派給您：標準使用者存取語彙基元及管理員存取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-670">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="0a4d3-671">根據預設，您會屬於標準使用者角色。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-671">By default, you are in the standard user role.</span></span> <span data-ttu-id="0a4d3-672">若要執行存取效能計數器的程式碼，您必須先將您的權限從標準使用者提高為系統管理員。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-672">To execute the code that accesses performance counters, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="0a4d3-673">您可以在啟動應用程式時，以滑鼠右鍵按一下應用程式圖示，並指出您想要以系統管理員身分執行，藉此提高為系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-673">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0a4d3-674">下列程式碼範例會建立<xref:System.Diagnostics.PerformanceCounterCategory>指定<xref:System.Diagnostics.PerformanceCounterCategory>名稱。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-674">The following code example creates a <xref:System.Diagnostics.PerformanceCounterCategory> for a specified <xref:System.Diagnostics.PerformanceCounterCategory> name.</span></span> <span data-ttu-id="0a4d3-675">然後它會使用<xref:System.Diagnostics.PerformanceCounterCategory.ReadCategory%2A>返回<xref:System.Diagnostics.InstanceDataCollectionCollection>所包含的所有執行個體的執行個體資料<xref:System.Diagnostics.PerformanceCounter>物件內<xref:System.Diagnostics.PerformanceCounterCategory>。</span><span class="sxs-lookup"><span data-stu-id="0a4d3-675">It then uses <xref:System.Diagnostics.PerformanceCounterCategory.ReadCategory%2A> to return an <xref:System.Diagnostics.InstanceDataCollectionCollection> that contains instance data for all the instances of the <xref:System.Diagnostics.PerformanceCounter> objects within the <xref:System.Diagnostics.PerformanceCounterCategory>.</span></span>  
  
 [!code-csharp[System.Diagnostics.InstanceData.CopyTo#6](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.InstanceData.CopyTo/CS/instdatacopyto.cs#6)]
 [!code-vb[System.Diagnostics.InstanceData.CopyTo#6](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.InstanceData.CopyTo/VB/instdatacopyto.vb#6)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="0a4d3-676">
            <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> 屬性為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-676">The <see cref="P:System.Diagnostics.PerformanceCounterCategory.CategoryName" /> property is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="0a4d3-677">屬性可能尚未設定。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-677">The property might not have been set.</span>
          </span>
        </exception>
        <exception cref="T:System.ComponentModel.Win32Exception">
          <span data-ttu-id="0a4d3-678">對基礎系統 API 的呼叫失敗。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-678">A call to an underlying system API failed.</span>
          </span>
        </exception>
        <exception cref="T:System.UnauthorizedAccessException">
          <span data-ttu-id="0a4d3-679">以不具有系統管理員權限執行的程式碼嘗試讀取效能計數器。</span>
          <span class="sxs-lookup">
            <span data-stu-id="0a4d3-679">Code that is executing without administrative privileges attempted to read a performance counter.</span>
          </span>
        </exception>
        <altmember cref="T:System.Diagnostics.InstanceDataCollectionCollection" />
        <altmember cref="T:System.Diagnostics.InstanceDataCollection" />
        <altmember cref="T:System.Diagnostics.InstanceData" />
      </Docs>
    </Member>
  </Members>
</Type>