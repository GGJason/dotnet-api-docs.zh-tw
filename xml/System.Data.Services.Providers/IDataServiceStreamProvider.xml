<Type Name="IDataServiceStreamProvider" FullName="System.Data.Services.Providers.IDataServiceStreamProvider">
  <TypeSignature Language="C#" Value="public interface IDataServiceStreamProvider" />
  <TypeSignature Language="ILAsm" Value=".class public interface auto ansi abstract IDataServiceStreamProvider" />
  <TypeSignature Language="DocId" Value="T:System.Data.Services.Providers.IDataServiceStreamProvider" />
  <TypeSignature Language="VB.NET" Value="Public Interface IDataServiceStreamProvider" />
  <TypeSignature Language="C++ CLI" Value="public interface class IDataServiceStreamProvider" />
  <AssemblyInfo>
    <AssemblyName>System.Data.Services</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="be2a8-101">讓二進位資料當做屬於媒體連結項目之實體的媒體資源存取與變更。</span><span class="sxs-lookup"><span data-stu-id="be2a8-101">Enables binary data to be accessed and changed as a media resource that belongs to an entity that is a media link entry.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be2a8-102">開放式資料通訊協定 (OData) 可使用以下列建構為基礎的機制，獨立於資料摘要中的實體之外定義資料服務公開的實體二進位資料屬性。</span><span class="sxs-lookup"><span data-stu-id="be2a8-102">The Open Data Protocol (OData) enables a binary data property of an entity exposed by a data service to be defined independently of an entry in a data feed by using a mechanism based on the following constructs:</span></span>  
  
-   <span data-ttu-id="be2a8-103">媒體資源 - 屬於二進位資料的二進位大型物件資料，例如視訊、音訊、影像或其他媒體資源。</span><span class="sxs-lookup"><span data-stu-id="be2a8-103">Media resource - the binary large object data that is binary data, such as a video, audio, image or other media resources.</span></span>  
  
-   <span data-ttu-id="be2a8-104">媒體連結項目 - 資料摘要中表示實體，而且有相關媒體資源之參考的 AtomPub 項目。</span><span class="sxs-lookup"><span data-stu-id="be2a8-104">Media link entry - an AtomPub entry in a data feed that represents an entity and that has a reference to a related media resource.</span></span>  
  
 <span data-ttu-id="be2a8-105">如需詳細資訊，請參閱[資料流處理提供者](~/docs/framework/data/wcf/streaming-provider-wcf-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="be2a8-105">For more information, see [Streaming Provider](~/docs/framework/data/wcf/streaming-provider-wcf-data-services.md).</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="DeleteStream">
      <MemberSignature Language="C#" Value="public void DeleteStream (object entity, System.Data.Services.DataServiceOperationContext operationContext);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void DeleteStream(object entity, class System.Data.Services.DataServiceOperationContext operationContext) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.Services.Providers.IDataServiceStreamProvider.DeleteStream(System.Object,System.Data.Services.DataServiceOperationContext)" />
      <MemberSignature Language="VB.NET" Value="Public Sub DeleteStream (entity As Object, operationContext As DataServiceOperationContext)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void DeleteStream(System::Object ^ entity, System::Data::Services::DataServiceOperationContext ^ operationContext);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="entity" Type="System.Object" />
        <Parameter Name="operationContext" Type="System.Data.Services.DataServiceOperationContext" />
      </Parameters>
      <Docs>
        <param name="entity"><span data-ttu-id="be2a8-106">刪除的媒體連結項目。</span><span class="sxs-lookup"><span data-stu-id="be2a8-106">The media link entry that is deleted.</span></span></param>
        <param name="operationContext"><span data-ttu-id="be2a8-107">處理要求的 <see cref="T:System.Data.Services.DataServiceOperationContext" /> 執行個體。</span><span class="sxs-lookup"><span data-stu-id="be2a8-107">The <see cref="T:System.Data.Services.DataServiceOperationContext" /> instance that processes the request.</span></span></param>
        <summary><span data-ttu-id="be2a8-108">刪除媒體連結項目時，刪除相關聯的媒體資源。</span><span class="sxs-lookup"><span data-stu-id="be2a8-108">Deletes the associated media resource when a media link entry is deleted.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be2a8-109">從資料服務刪除與媒體資源相關聯的媒體連結項目時，<xref:System.Data.Services.Providers.IDataServiceStreamProvider.DeleteStream%2A> 方法會提供刪除該媒體資源的實作。</span><span class="sxs-lookup"><span data-stu-id="be2a8-109">The <xref:System.Data.Services.Providers.IDataServiceStreamProvider.DeleteStream%2A> method provides the implementation to delete a media resource when its associated media link entry is deleted from the data service.</span></span> <span data-ttu-id="be2a8-110">如需詳細資訊，請參閱[資料流處理提供者](~/docs/framework/data/wcf/streaming-provider-wcf-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="be2a8-110">For more information, see [Streaming Provider](~/docs/framework/data/wcf/streaming-provider-wcf-data-services.md).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be2a8-111">當 <paramref name="entity" /> 或 <paramref name="operationContext" /> 為 <see langword="null" /> 時。</span><span class="sxs-lookup"><span data-stu-id="be2a8-111">When <paramref name="entity" /> or <paramref name="operationContext" /> are <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="be2a8-112">當 <paramref name="entity" /> 不是有要進行資料流處理之二進位屬性的實體時。</span><span class="sxs-lookup"><span data-stu-id="be2a8-112">When <paramref name="entity" /> is not an entity that has a binary property to stream.</span></span></exception>
        <exception cref="T:System.Data.Services.DataServiceException"><span data-ttu-id="be2a8-113">當無法刪除與 <paramref name="entity" /> 相關聯的資料流時。</span><span class="sxs-lookup"><span data-stu-id="be2a8-113">When the stream associated with the <paramref name="entity" /> cannot be deleted.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="GetReadStream">
      <MemberSignature Language="C#" Value="public System.IO.Stream GetReadStream (object entity, string etag, Nullable&lt;bool&gt; checkETagForEquality, System.Data.Services.DataServiceOperationContext operationContext);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IO.Stream GetReadStream(object entity, string etag, valuetype System.Nullable`1&lt;bool&gt; checkETagForEquality, class System.Data.Services.DataServiceOperationContext operationContext) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.Services.Providers.IDataServiceStreamProvider.GetReadStream(System.Object,System.String,System.Nullable{System.Boolean},System.Data.Services.DataServiceOperationContext)" />
      <MemberSignature Language="VB.NET" Value="Public Function GetReadStream (entity As Object, etag As String, checkETagForEquality As Nullable(Of Boolean), operationContext As DataServiceOperationContext) As Stream" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::IO::Stream ^ GetReadStream(System::Object ^ entity, System::String ^ etag, Nullable&lt;bool&gt; checkETagForEquality, System::Data::Services::DataServiceOperationContext ^ operationContext);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IO.Stream</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="entity" Type="System.Object" />
        <Parameter Name="etag" Type="System.String" />
        <Parameter Name="checkETagForEquality" Type="System.Nullable&lt;System.Boolean&gt;" />
        <Parameter Name="operationContext" Type="System.Data.Services.DataServiceOperationContext" />
      </Parameters>
      <Docs>
        <param name="entity"><span data-ttu-id="be2a8-114">具有相關媒體資源之媒體連結項目的實體。</span><span class="sxs-lookup"><span data-stu-id="be2a8-114">The entity that is a media link entry with a related media resource.</span></span></param>
        <param name="etag"><span data-ttu-id="be2a8-115">當做 HTTP 要求的一部分傳送至資料服務的 eTag 值。</span><span class="sxs-lookup"><span data-stu-id="be2a8-115">The eTag value sent as part of the HTTP request that is sent to the data service.</span></span></param>
        <param name="checkETagForEquality"><span data-ttu-id="be2a8-116">可為 Null 的 <see cref="T:System.Boolean" /> 值，這個值決定資料服務是否必須是所使用的 eTag 型別。</span><span class="sxs-lookup"><span data-stu-id="be2a8-116">A nullable <see cref="T:System.Boolean" /> value that determines whether the data service must the type of eTag that is used.</span></span></param>
        <param name="operationContext"><span data-ttu-id="be2a8-117">資料服務用來處理要求的 <see cref="T:System.Data.Services.DataServiceOperationContext" /> 執行個體。</span><span class="sxs-lookup"><span data-stu-id="be2a8-117">The <see cref="T:System.Data.Services.DataServiceOperationContext" /> instance used by the data service to process the request.</span></span></param>
        <summary><span data-ttu-id="be2a8-118">傳回資料流，其中包含指定之實體 (也就是媒體連結項目) 的媒體資源資料。</span><span class="sxs-lookup"><span data-stu-id="be2a8-118">Returns a stream that contains the media resource data for the specified entity, which is a media link entry.</span></span></summary>
        <returns><span data-ttu-id="be2a8-119">包含 <see cref="T:System.IO.Stream" /> 之二進位屬性資料的資料 <paramref name="entity" />。</span><span class="sxs-lookup"><span data-stu-id="be2a8-119">The data <see cref="T:System.IO.Stream" /> that contains the binary property data of the <paramref name="entity" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be2a8-120">`eTag` 是 If-Match 或 If-None-Match 標頭的值。</span><span class="sxs-lookup"><span data-stu-id="be2a8-120">`eTag` is the value of an If-Match or If-None-Match header.</span></span> <span data-ttu-id="be2a8-121">支援下列值：</span><span class="sxs-lookup"><span data-stu-id="be2a8-121">The following values are supported:</span></span>  
  
-   <span data-ttu-id="be2a8-122">`true` -當 eTag 代表 If-match 標頭。</span><span class="sxs-lookup"><span data-stu-id="be2a8-122">`true` - when the eTag represents an If-Match header.</span></span>  
  
-   <span data-ttu-id="be2a8-123">`false` -當 eTag 代表如果 If-none-Match 標頭。</span><span class="sxs-lookup"><span data-stu-id="be2a8-123">`false` - when the eTag represents an If-None-Match header.</span></span>  
  
-   <span data-ttu-id="be2a8-124">`null` -當 If-match 或如果 If-none-Match 標頭不在要求中。</span><span class="sxs-lookup"><span data-stu-id="be2a8-124">`null` - when an If-Match or If-None-Match header is not present in the request.</span></span>  
  
 <span data-ttu-id="be2a8-125"><xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetReadStream%2A> 方法是透過資料服務執行階段呼叫，用於取得資料流，當用戶端要求指定之 `entity` (媒體連結項目) 媒體資源時，資料服務會將該資料流傳回至用戶端。</span><span class="sxs-lookup"><span data-stu-id="be2a8-125">The <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetReadStream%2A> method is called by the data service runtime to acquire the stream that the data service returns to the client when the client requests the media resource for the specified `entity`, which is a media link entry.</span></span> <span data-ttu-id="be2a8-126">如需詳細資訊，請參閱[資料流處理提供者](~/docs/framework/data/wcf/streaming-provider-wcf-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="be2a8-126">For more information, see [Streaming Provider](~/docs/framework/data/wcf/streaming-provider-wcf-data-services.md).</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetReadStreamUri">
      <MemberSignature Language="C#" Value="public Uri GetReadStreamUri (object entity, System.Data.Services.DataServiceOperationContext operationContext);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Uri GetReadStreamUri(object entity, class System.Data.Services.DataServiceOperationContext operationContext) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.Services.Providers.IDataServiceStreamProvider.GetReadStreamUri(System.Object,System.Data.Services.DataServiceOperationContext)" />
      <MemberSignature Language="VB.NET" Value="Public Function GetReadStreamUri (entity As Object, operationContext As DataServiceOperationContext) As Uri" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; Uri ^ GetReadStreamUri(System::Object ^ entity, System::Data::Services::DataServiceOperationContext ^ operationContext);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Uri</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="entity" Type="System.Object" />
        <Parameter Name="operationContext" Type="System.Data.Services.DataServiceOperationContext" />
      </Parameters>
      <Docs>
        <param name="entity"><span data-ttu-id="be2a8-127">具有相關媒體資源之媒體連結項目的實體。</span><span class="sxs-lookup"><span data-stu-id="be2a8-127">The entity that is a media link entry with a related media resource.</span></span></param>
        <param name="operationContext"><span data-ttu-id="be2a8-128">資料服務用來處理要求的 <see cref="T:System.Data.Services.DataServiceOperationContext" /> 執行個體。</span><span class="sxs-lookup"><span data-stu-id="be2a8-128">The <see cref="T:System.Data.Services.DataServiceOperationContext" /> instance used by the data service to process the request.</span></span></param>
        <summary><span data-ttu-id="be2a8-129">傳回 URI，這個 URI 用來要求屬於指定之實體的媒體資源。</span><span class="sxs-lookup"><span data-stu-id="be2a8-129">Returns the URI that is used to request the media resource that belongs to the specified entity.</span></span></summary>
        <returns><span data-ttu-id="be2a8-130">用來要求二進位資料流的 <see cref="T:System.Uri" /> 值。</span><span class="sxs-lookup"><span data-stu-id="be2a8-130">A <see cref="T:System.Uri" /> value that is used to request the binary data stream.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be2a8-131"><xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetReadStreamUri%2A> 方法是透過資料服務執行階段呼叫，用來取得 URI，當用戶端進行媒體資源的擷取要求 (亦即 GET) 時，用戶端應該使用這個 URI。</span><span class="sxs-lookup"><span data-stu-id="be2a8-131">The <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetReadStreamUri%2A> method is called by the data service runtime to obtain the URI that clients should use when they make retrieve (i.e., GET) requests for the media resource.</span></span>  
  
 <span data-ttu-id="be2a8-132"><xref:System.Uri> 方法實作傳回的 <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetReadStreamUri%2A> 值是當做媒體連結項目中的編輯媒體連結使用，用來參考媒體資源的位置。</span><span class="sxs-lookup"><span data-stu-id="be2a8-132">The <xref:System.Uri> value returned by the <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetReadStreamUri%2A> method implementation is used as the edit-media link in the media link entry to references the location of the media resource.</span></span>  
  
 <span data-ttu-id="be2a8-133">當此方法實作傳回 null 時，資料服務將會建構一個預設的 <xref:System.Uri>，這通常是附加 `/$value` 之實體的 URI。</span><span class="sxs-lookup"><span data-stu-id="be2a8-133">When the method implementation returns null, the data service will construct a default <xref:System.Uri>, which is usually the URI of the entity appended with `/$value`.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetStreamContentType">
      <MemberSignature Language="C#" Value="public string GetStreamContentType (object entity, System.Data.Services.DataServiceOperationContext operationContext);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string GetStreamContentType(object entity, class System.Data.Services.DataServiceOperationContext operationContext) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.Services.Providers.IDataServiceStreamProvider.GetStreamContentType(System.Object,System.Data.Services.DataServiceOperationContext)" />
      <MemberSignature Language="VB.NET" Value="Public Function GetStreamContentType (entity As Object, operationContext As DataServiceOperationContext) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ GetStreamContentType(System::Object ^ entity, System::Data::Services::DataServiceOperationContext ^ operationContext);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="entity" Type="System.Object" />
        <Parameter Name="operationContext" Type="System.Data.Services.DataServiceOperationContext" />
      </Parameters>
      <Docs>
        <param name="entity"><span data-ttu-id="be2a8-134">具有相關媒體資源之媒體連結項目的實體。</span><span class="sxs-lookup"><span data-stu-id="be2a8-134">The entity that is a media link entry with a related media resource.</span></span></param>
        <param name="operationContext"><span data-ttu-id="be2a8-135">資料服務用來處理要求的 <see cref="T:System.Data.Services.DataServiceOperationContext" /> 執行個體。</span><span class="sxs-lookup"><span data-stu-id="be2a8-135">The <see cref="T:System.Data.Services.DataServiceOperationContext" /> instance used by the data service to process the request.</span></span></param>
        <summary><span data-ttu-id="be2a8-136">傳回屬於指定實體之媒體資源的內容類型。</span><span class="sxs-lookup"><span data-stu-id="be2a8-136">Returns the content type of the media resource that belongs to the specified entity.</span></span></summary>
        <returns><span data-ttu-id="be2a8-137">二進位資料的有效 Content-Type。</span><span class="sxs-lookup"><span data-stu-id="be2a8-137">A valid Content-Type of the binary data.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be2a8-138"><xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetStreamContentType%2A> 方法是透過資料服務執行階段呼叫，用來擷取媒體資源的 Content-Type，這個媒體資源屬於指定的 `entity`。</span><span class="sxs-lookup"><span data-stu-id="be2a8-138">The <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetStreamContentType%2A> method is called by the data service runtime to retrieve the Content-Type of the media resource that belongs to the specified `entity`.</span></span> <span data-ttu-id="be2a8-139">使用 <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetStreamContentType%2A> 方法實作設定媒體資源的 Content-Type。</span><span class="sxs-lookup"><span data-stu-id="be2a8-139">Use the <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetStreamContentType%2A> method implementation to set the Content-Type of the media resource.</span></span> <span data-ttu-id="be2a8-140">請勿在 <xref:System.Data.Services.Providers.IDataServiceStreamProvider> 提供者實作中直接設定 Content-Type 標頭。</span><span class="sxs-lookup"><span data-stu-id="be2a8-140">Do not directly set the Content-Type header in your <xref:System.Data.Services.Providers.IDataServiceStreamProvider> provider implementation.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetStreamETag">
      <MemberSignature Language="C#" Value="public string GetStreamETag (object entity, System.Data.Services.DataServiceOperationContext operationContext);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string GetStreamETag(object entity, class System.Data.Services.DataServiceOperationContext operationContext) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.Services.Providers.IDataServiceStreamProvider.GetStreamETag(System.Object,System.Data.Services.DataServiceOperationContext)" />
      <MemberSignature Language="VB.NET" Value="Public Function GetStreamETag (entity As Object, operationContext As DataServiceOperationContext) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ GetStreamETag(System::Object ^ entity, System::Data::Services::DataServiceOperationContext ^ operationContext);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="entity" Type="System.Object" />
        <Parameter Name="operationContext" Type="System.Data.Services.DataServiceOperationContext" />
      </Parameters>
      <Docs>
        <param name="entity"><span data-ttu-id="be2a8-141">具有相關媒體資源之媒體連結項目的實體。</span><span class="sxs-lookup"><span data-stu-id="be2a8-141">The entity that is a media link entry with a related media resource.</span></span></param>
        <param name="operationContext"><span data-ttu-id="be2a8-142">資料服務用來處理要求的 <see cref="T:System.Data.Services.DataServiceOperationContext" /> 執行個體。</span><span class="sxs-lookup"><span data-stu-id="be2a8-142">The <see cref="T:System.Data.Services.DataServiceOperationContext" /> instance used by the data service to process the request.</span></span></param>
        <summary><span data-ttu-id="be2a8-143">傳回媒體資源的 eTag，這個媒體資源屬於指定的媒體連結項目。</span><span class="sxs-lookup"><span data-stu-id="be2a8-143">Returns the eTag of the media resource that belongs to the specified media link entry.</span></span></summary>
        <returns><span data-ttu-id="be2a8-144">與 <paramref name="entity" /> 相關聯之媒體資源的 eTag。</span><span class="sxs-lookup"><span data-stu-id="be2a8-144">eTag of the media resource associated with the <paramref name="entity" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be2a8-145"><xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetStreamETag%2A> 方法是透過資料服務執行階段呼叫，用來擷取與 `entity` 相關聯之媒體資源的 eTag。</span><span class="sxs-lookup"><span data-stu-id="be2a8-145">The <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetStreamETag%2A> method is called by the data service runtime to retrieve the eTag of the media resource that is associated with the `entity`.</span></span>  
  
 <span data-ttu-id="be2a8-146">您必須實作 <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetStreamETag%2A> 方法，才能讓資料服務管理媒體資源的並行模式。</span><span class="sxs-lookup"><span data-stu-id="be2a8-146">You must implement the <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetStreamETag%2A> method to enable the data service to manage concurrency for the media resource.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetWriteStream">
      <MemberSignature Language="C#" Value="public System.IO.Stream GetWriteStream (object entity, string etag, Nullable&lt;bool&gt; checkETagForEquality, System.Data.Services.DataServiceOperationContext operationContext);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IO.Stream GetWriteStream(object entity, string etag, valuetype System.Nullable`1&lt;bool&gt; checkETagForEquality, class System.Data.Services.DataServiceOperationContext operationContext) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.Services.Providers.IDataServiceStreamProvider.GetWriteStream(System.Object,System.String,System.Nullable{System.Boolean},System.Data.Services.DataServiceOperationContext)" />
      <MemberSignature Language="VB.NET" Value="Public Function GetWriteStream (entity As Object, etag As String, checkETagForEquality As Nullable(Of Boolean), operationContext As DataServiceOperationContext) As Stream" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::IO::Stream ^ GetWriteStream(System::Object ^ entity, System::String ^ etag, Nullable&lt;bool&gt; checkETagForEquality, System::Data::Services::DataServiceOperationContext ^ operationContext);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IO.Stream</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="entity" Type="System.Object" />
        <Parameter Name="etag" Type="System.String" />
        <Parameter Name="checkETagForEquality" Type="System.Nullable&lt;System.Boolean&gt;" />
        <Parameter Name="operationContext" Type="System.Data.Services.DataServiceOperationContext" />
      </Parameters>
      <Docs>
        <param name="entity"><span data-ttu-id="be2a8-147">具有相關媒體資源之媒體連結項目的實體。</span><span class="sxs-lookup"><span data-stu-id="be2a8-147">The entity that is a media link entry with a related media resource.</span></span></param>
        <param name="etag"><span data-ttu-id="be2a8-148">當做 HTTP 要求的一部分傳送至資料服務的 eTag 值。</span><span class="sxs-lookup"><span data-stu-id="be2a8-148">The eTag value that is sent as part of the HTTP request that is sent to the data service.</span></span></param>
        <param name="checkETagForEquality"><span data-ttu-id="be2a8-149">可為 Null 的 <see cref="T:System.Boolean" /> 值，這個值表示用戶端所要求之並行存取檢查的類型。</span><span class="sxs-lookup"><span data-stu-id="be2a8-149">A nullable <see cref="T:System.Boolean" /> value that indicates the type of concurrency check requested by the client.</span></span></param>
        <param name="operationContext"><span data-ttu-id="be2a8-150">資料服務用來處理要求的 <see cref="T:System.Data.Services.DataServiceOperationContext" /> 執行個體。</span><span class="sxs-lookup"><span data-stu-id="be2a8-150">The <see cref="T:System.Data.Services.DataServiceOperationContext" /> instance that is used by the data service to process the request.</span></span></param>
        <summary><span data-ttu-id="be2a8-151">傳回資料流，資料服務會使用這個資料流，針對從屬於指定的實體之用戶端接收的媒體資源撰寫二進位資料。</span><span class="sxs-lookup"><span data-stu-id="be2a8-151">Returns the stream that the data service uses to write the binary data for the media resource received from the client that belongs to the specified entity.</span></span></summary>
        <returns><span data-ttu-id="be2a8-152">資料服務所使用的有效 <see cref="T:System.Stream" />，用來寫入從用戶端接收之二進位資料的內容。</span><span class="sxs-lookup"><span data-stu-id="be2a8-152">A valid <see cref="T:System.Stream" /> the data service uses to write the contents of a binary data received from the client.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be2a8-153">針對與 <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetWriteStream%2A> 相關聯之媒體資源處理插入或更新作業時，`entity` 方法是透過資料服務執行階段呼叫。</span><span class="sxs-lookup"><span data-stu-id="be2a8-153">The <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetWriteStream%2A> method is called by the data service runtime when an insert or update operation is being processed for the media resource that is associated with the `entity`.</span></span>  
  
 <span data-ttu-id="be2a8-154"><xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetWriteStream%2A>方法永遠不應該傳回`null`值。</span><span class="sxs-lookup"><span data-stu-id="be2a8-154">The <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetWriteStream%2A> method should never return a `null` value.</span></span>  
  
 <span data-ttu-id="be2a8-155">`operationContext` 是當做引數提供，因為此介面方法的實作者將需要來自 HTTP 要求標頭的資訊，才能建立寫入資料流。</span><span class="sxs-lookup"><span data-stu-id="be2a8-155">The `operationContext` is supplied as an argument because an implementer of this interface method will need information from the HTTP request headers to create a write stream.</span></span> <span data-ttu-id="be2a8-156">如果您實作此方法，必須在需要時執行並行存取檢查。</span><span class="sxs-lookup"><span data-stu-id="be2a8-156">When you implement this method, you must perform concurrency checks as needed.</span></span> <span data-ttu-id="be2a8-157">如果 If-match 或如果 If-none-Match 要求標頭包含在要求中，`etag`將不會`null`。</span><span class="sxs-lookup"><span data-stu-id="be2a8-157">If an If-Match or If-None-Match request header was included in the request, the `etag` will not be `null`.</span></span> <span data-ttu-id="be2a8-158">在此情況下，這個方法必須執行適當的並行存取檢查。</span><span class="sxs-lookup"><span data-stu-id="be2a8-158">In this case, this method must perform the appropriate concurrency check.</span></span> <span data-ttu-id="be2a8-159">如果通過並行存取檢查，此方法應該會傳回要求的資料流。</span><span class="sxs-lookup"><span data-stu-id="be2a8-159">If the concurrency check passes, this method should return the requested stream.</span></span> <span data-ttu-id="be2a8-160">如果並行存取檢查失敗，此方法應該會引發 <xref:System.Data.Services.DataServiceException>，並顯示適當的 HTTP 回應碼。</span><span class="sxs-lookup"><span data-stu-id="be2a8-160">If the concurrency checks fail, the method should raise a <xref:System.Data.Services.DataServiceException> with the appropriate HTTP response code.</span></span>  
  
 <span data-ttu-id="be2a8-161">`eTag` 是 If-Match 或 If-None-Match 標頭的值。</span><span class="sxs-lookup"><span data-stu-id="be2a8-161">`eTag` is the value of an If-Match or If-None-Match header.</span></span>  
  
 <span data-ttu-id="be2a8-162">下列值的`checkETagForEquality`支援：</span><span class="sxs-lookup"><span data-stu-id="be2a8-162">The following values of `checkETagForEquality` are supported:</span></span>  
  
-   <span data-ttu-id="be2a8-163">`true` -當 eTag 代表 If-match 標頭。</span><span class="sxs-lookup"><span data-stu-id="be2a8-163">`true` - when the eTag represents an If-Match header.</span></span>  
  
-   <span data-ttu-id="be2a8-164">`false` -當 eTag 代表如果 If-none-Match 標頭。</span><span class="sxs-lookup"><span data-stu-id="be2a8-164">`false` - when the eTag represents an If-None-Match header.</span></span>  
  
-   <span data-ttu-id="be2a8-165">`null` -當 If-match 或如果 If-none-Match 標頭不在要求中。</span><span class="sxs-lookup"><span data-stu-id="be2a8-165">`null` - when an If-Match or If-None-Match header is not present in the request.</span></span>  
  
 <span data-ttu-id="be2a8-166">當您實作此方法時，不得設定 Content-Type 或 eTag HTTP 回應標頭，因為這些標頭是透過資料服務執行階段設定。</span><span class="sxs-lookup"><span data-stu-id="be2a8-166">When you implement this method, you must not set the Content-Type or eTag HTTP response headers because they are set by the data service runtime.</span></span> <span data-ttu-id="be2a8-167">您可以使用提供的 `operationContext` 設定其餘的 HTTP 回應標頭。</span><span class="sxs-lookup"><span data-stu-id="be2a8-167">You may set the remaining HTTP response headers by using the supplied `operationContext`.</span></span>  
  
 <span data-ttu-id="be2a8-168">當您實作此方法時，僅應針對 `operationContext` 設定成功回應所需的屬性。</span><span class="sxs-lookup"><span data-stu-id="be2a8-168">When you implement this method, you should only set the properties on `operationContext` that are required for a successful response.</span></span> <span data-ttu-id="be2a8-169">針對 `operationContext` 變更其他屬性可能會損毀來自資料服務的回應。</span><span class="sxs-lookup"><span data-stu-id="be2a8-169">Changing other properties on `operationContext` may corrupt the response from the data service.</span></span>  
  
 <span data-ttu-id="be2a8-170">將所有位元組成功寫入至資料流時，資料服務執行階段會關閉該資料流。</span><span class="sxs-lookup"><span data-stu-id="be2a8-170">The data service runtime closes the stream when all bytes have been successfully written to the stream.</span></span> <span data-ttu-id="be2a8-171">如果在寫入至資料流時發生錯誤，資料服務會為用戶端產生一個錯誤回應。</span><span class="sxs-lookup"><span data-stu-id="be2a8-171">If an error occurs while writing to the stream, the data service generates an error response to the client.</span></span>  
  
 <span data-ttu-id="be2a8-172">當您實作 <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetWriteStream%2A> 方法時，應該會引發下列例外狀況，如下所示：</span><span class="sxs-lookup"><span data-stu-id="be2a8-172">When you implement the <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetWriteStream%2A> method, you should raise the following exceptions as indicated:</span></span>  
  
|<span data-ttu-id="be2a8-173">例外狀況類型</span><span class="sxs-lookup"><span data-stu-id="be2a8-173">Exception type</span></span>|<span data-ttu-id="be2a8-174">條件</span><span class="sxs-lookup"><span data-stu-id="be2a8-174">Condition</span></span>|  
|--------------------|---------------|  
|<xref:System.ArgumentNullException>|<span data-ttu-id="be2a8-175">當 `entity` 或 `operationContext` 為 `null` 時。</span><span class="sxs-lookup"><span data-stu-id="be2a8-175">When `entity` or `operationContext` are `null`.</span></span>|  
|<xref:System.ArgumentException>|<span data-ttu-id="be2a8-176">當 `entity` 沒有二進位屬性時。</span><span class="sxs-lookup"><span data-stu-id="be2a8-176">When `entity` does not have a binary property.</span></span>|  
|<xref:System.Data.Services.DataServiceException>|<span data-ttu-id="be2a8-177">當無法傳回有效的資料流時。</span><span class="sxs-lookup"><span data-stu-id="be2a8-177">When a valid stream cannot be returned.</span></span>|  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResolveType">
      <MemberSignature Language="C#" Value="public string ResolveType (string entitySetName, System.Data.Services.DataServiceOperationContext operationContext);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string ResolveType(string entitySetName, class System.Data.Services.DataServiceOperationContext operationContext) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.Services.Providers.IDataServiceStreamProvider.ResolveType(System.String,System.Data.Services.DataServiceOperationContext)" />
      <MemberSignature Language="VB.NET" Value="Public Function ResolveType (entitySetName As String, operationContext As DataServiceOperationContext) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ ResolveType(System::String ^ entitySetName, System::Data::Services::DataServiceOperationContext ^ operationContext);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="entitySetName" Type="System.String" />
        <Parameter Name="operationContext" Type="System.Data.Services.DataServiceOperationContext" />
      </Parameters>
      <Docs>
        <param name="entitySetName"><span data-ttu-id="be2a8-178">完整的實體集名稱。</span><span class="sxs-lookup"><span data-stu-id="be2a8-178">Fully-qualified entity set name.</span></span></param>
        <param name="operationContext"><span data-ttu-id="be2a8-179">資料服務用來處理要求的 <see cref="T:System.Data.Services.DataServiceOperationContext" /> 執行個體。</span><span class="sxs-lookup"><span data-stu-id="be2a8-179">The <see cref="T:System.Data.Services.DataServiceOperationContext" /> instance that is used by the data service to process the request.</span></span></param>
        <summary><span data-ttu-id="be2a8-180">傳回命名空間限定的型別名稱，代表資料服務執行階段必須為媒體連結項目建立的類型，該連結項目與正在插入之媒體資源的資料流相關聯。</span><span class="sxs-lookup"><span data-stu-id="be2a8-180">Returns a namespace-qualified type name that represents the type that the data service runtime must create for the media link entry that is associated with the data stream for the media resource that is being inserted.</span></span></summary>
        <returns><span data-ttu-id="be2a8-181">命名空間限定的類型名稱。</span><span class="sxs-lookup"><span data-stu-id="be2a8-181">A namespace-qualified type name.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be2a8-182">當屬於媒體連結項目的新實體與其媒體資源一起建立時，<xref:System.Data.Services.Providers.IDataServiceStreamProvider.ResolveType%2A> 方法是透過資料服務呼叫。</span><span class="sxs-lookup"><span data-stu-id="be2a8-182">The <xref:System.Data.Services.Providers.IDataServiceStreamProvider.ResolveType%2A> method is called by the data service when a new entity that is a media link entry is being created together with its media resource.</span></span> <span data-ttu-id="be2a8-183">此方法的實作者應該檢查 `operationContext` 中的要求標頭，並傳回表示資料服務執行階段必須具現化之類型的命名空間限定類型名稱，才能建立與新媒體資源相關聯的媒體連結項目。</span><span class="sxs-lookup"><span data-stu-id="be2a8-183">An implementer of this method must inspect the request headers in `operationContext` and return the namespace qualified type name that represents the type that the data service runtime must instantiate to create the media link entry that is associated with the new media resource.</span></span> <span data-ttu-id="be2a8-184">表示此類型名稱的字串會傳遞至 <xref:System.Data.Services.IUpdatable.CreateResource%2A> 方法，以建立媒體連結項目。</span><span class="sxs-lookup"><span data-stu-id="be2a8-184">The string that represents this type name is passed to the <xref:System.Data.Services.IUpdatable.CreateResource%2A> method to create the media link entry.</span></span>  
  
 <span data-ttu-id="be2a8-185">當您實作 <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetWriteStream%2A> 方法時，應該會引發下列例外狀況，如下所示：</span><span class="sxs-lookup"><span data-stu-id="be2a8-185">When you implement the <xref:System.Data.Services.Providers.IDataServiceStreamProvider.GetWriteStream%2A> method, you should raise the following exceptions as indicated:</span></span>  
  
|<span data-ttu-id="be2a8-186">例外狀況類型</span><span class="sxs-lookup"><span data-stu-id="be2a8-186">Exception type</span></span>|<span data-ttu-id="be2a8-187">條件</span><span class="sxs-lookup"><span data-stu-id="be2a8-187">Condition</span></span>|  
|--------------------|---------------|  
|<xref:System.ArgumentNullException>|<span data-ttu-id="be2a8-188">當 `operationContext` 為 `null` 時。</span><span class="sxs-lookup"><span data-stu-id="be2a8-188">When `operationContext` is `null`.</span></span>|  
|<xref:System.Data.Services.DataServiceException>|<span data-ttu-id="be2a8-189">當實體類型名稱無法根據 `operationContext` 進行解析時。</span><span class="sxs-lookup"><span data-stu-id="be2a8-189">When an entity type name cannot be resolved based on the `operationContext`.</span></span>|  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="StreamBufferSize">
      <MemberSignature Language="C#" Value="public int StreamBufferSize { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance int32 StreamBufferSize" />
      <MemberSignature Language="DocId" Value="P:System.Data.Services.Providers.IDataServiceStreamProvider.StreamBufferSize" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property StreamBufferSize As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property int StreamBufferSize { int get(); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="be2a8-190">取得資料流緩衝區的大小。</span><span class="sxs-lookup"><span data-stu-id="be2a8-190">Gets the size of the stream buffer.</span></span></summary>
        <value><span data-ttu-id="be2a8-191">表示緩衝區大小的整數。</span><span class="sxs-lookup"><span data-stu-id="be2a8-191">Integer that represents the size of buffer.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be2a8-192">預設的緩衝區大小為 64K 個位元組。</span><span class="sxs-lookup"><span data-stu-id="be2a8-192">The default buffer size is 64K bytes.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>