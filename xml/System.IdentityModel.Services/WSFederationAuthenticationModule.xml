<Type Name="WSFederationAuthenticationModule" FullName="System.IdentityModel.Services.WSFederationAuthenticationModule">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="4946a226efb8c22b2cb54ac00bf7e2cedea35d6e" />
    <Meta Name="ms.sourcegitcommit" Value="6a0b904069161bbaec4ffd02aa7d9cf38c61e72e" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="zh-TW" />
    <Meta Name="ms.lasthandoff" Value="06/24/2018" />
    <Meta Name="ms.locfileid" Value="36558372" />
  </Metadata>
  <TypeSignature Language="C#" Value="public class WSFederationAuthenticationModule : System.IdentityModel.Services.HttpModuleBase" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit WSFederationAuthenticationModule extends System.IdentityModel.Services.HttpModuleBase" />
  <TypeSignature Language="DocId" Value="T:System.IdentityModel.Services.WSFederationAuthenticationModule" />
  <TypeSignature Language="VB.NET" Value="Public Class WSFederationAuthenticationModule&#xA;Inherits HttpModuleBase" />
  <TypeSignature Language="C++ CLI" Value="public ref class WSFederationAuthenticationModule : System::IdentityModel::Services::HttpModuleBase" />
  <TypeSignature Language="F#" Value="type WSFederationAuthenticationModule = class&#xA;    inherit HttpModuleBase" />
  <AssemblyInfo>
    <AssemblyName>System.IdentityModel.Services</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.IdentityModel.Services.HttpModuleBase</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>
      <span data-ttu-id="876d6-101">
        <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> 是 HTTP 模組，會藉由強制執行連入要求的聯合驗證設定，用來保護 ASP.NET 應用程式。</span>
      <span class="sxs-lookup">
        <span data-stu-id="876d6-101">The <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> is an HTTP module which is used to secure an ASP.NET application by enforcing  federated authentication settings on incoming requests.</span>
      </span>
      <span data-ttu-id="876d6-102">
        <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> 是 WIF 現成提供的主要模組，用於處理 ASP.NET 應用程式中的宣告式識別存取。</span>
      <span class="sxs-lookup">
        <span data-stu-id="876d6-102">The <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> is the main module that WIF offers out of the box for handling claims-based identity access in ASP.NET applications.</span>
      </span>
      <span data-ttu-id="876d6-103">
        <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" />會引發數個事件，它可讓 ASP.NET 開發人員變更預設行為，並控制驗證和宣告處理發生方式的詳細資訊。</span>
      <span class="sxs-lookup">
        <span data-stu-id="876d6-103">The <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> raises several events, which allows ASP.NET developers to change the default behavior and control the details of how authentication and claims processing take place.</span>
      </span>
      <span data-ttu-id="876d6-104">
        <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" />功能會分為特定工作的方法。</span>
      <span class="sxs-lookup">
        <span data-stu-id="876d6-104">The <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> functionality is divided into task-specific methods.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-105"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule>類別會實作 HTTP 模組已知 WS-同盟驗證模組 (WSFAM)。</span><span class="sxs-lookup"><span data-stu-id="876d6-105">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> class implements an HTTP module known as the WS-Federation Authentication Module (WSFAM).</span></span> <span data-ttu-id="876d6-106">Windows Identity Foundation (WIF) 時，會立即可用的實作 WSFAM。</span><span class="sxs-lookup"><span data-stu-id="876d6-106">The WSFAM is implemented out of the box by Windows Identity Foundation (WIF).</span></span> <span data-ttu-id="876d6-107">WSFAM 是 web.config 檔案中建立一個項目新增至 ASP.NET 管線。</span><span class="sxs-lookup"><span data-stu-id="876d6-107">The WSFAM is added to the ASP.NET pipeline by making an entry in the web.config file.</span></span> <span data-ttu-id="876d6-108">它衍生自<xref:System.IdentityModel.Services.HttpModuleBase>，它會實作<xref:System.Web.IHttpModule>。</span><span class="sxs-lookup"><span data-stu-id="876d6-108">It derives from <xref:System.IdentityModel.Services.HttpModuleBase>, which implements <xref:System.Web.IHttpModule>.</span></span> <span data-ttu-id="876d6-109">它會接聽的 ASP.NET 執行階段註冊<xref:System.Web.HttpApplication.EndRequest>和<xref:System.Web.HttpApplication.AuthenticateRequest>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-109">It registers with the ASP.NET runtime to listen for the <xref:System.Web.HttpApplication.EndRequest> and <xref:System.Web.HttpApplication.AuthenticateRequest> events.</span></span> <span data-ttu-id="876d6-110">接聽<xref:System.Web.HttpApplication.EndRequest>事件，可讓用戶端重新導向至安全性權杖服務 (STS) 取得安全性權杖時所需資源上的授權失敗 WSFAM。</span><span class="sxs-lookup"><span data-stu-id="876d6-110">Listening to the <xref:System.Web.HttpApplication.EndRequest> event, lets the WSFAM redirect clients to a security token service (STS) to obtain a security token when authorization fails on a requested resource.</span></span> <span data-ttu-id="876d6-111">接聽<xref:System.Web.HttpApplication.AuthenticateRequest>事件可讓來監視 HTTP 要求的回應包含要求的語彙基元從 STS WSFAM。</span><span class="sxs-lookup"><span data-stu-id="876d6-111">Listening to the <xref:System.Web.HttpApplication.AuthenticateRequest> event enables the WSFAM to monitor HTTP requests for a response from the STS that contains the requested token.</span></span> <span data-ttu-id="876d6-112">當此權杖是存在且有效時，它會建立的執行個體<xref:System.Security.Claims.ClaimsPrincipal>已驗證的使用者使用的權杖中的宣告。</span><span class="sxs-lookup"><span data-stu-id="876d6-112">When such a token is present and valid, it creates an instance of <xref:System.Security.Claims.ClaimsPrincipal> for the authenticated user using the claims that are present in the token.</span></span>  
  
 <span data-ttu-id="876d6-113">工作階段管理使用 WSFAM，當工作階段驗證模組 (SAM)，也就是執行個體所提供的<xref:System.IdentityModel.Services.SessionAuthenticationModule>從它衍生的類別或類別。</span><span class="sxs-lookup"><span data-stu-id="876d6-113">When using the WSFAM, session management is provided by a session authentication module (SAM), which is an instance of the <xref:System.IdentityModel.Services.SessionAuthenticationModule> class, or a class derived from it.</span></span> <span data-ttu-id="876d6-114">SAM 也會加入至組態檔中的 ASP.NET 管線。</span><span class="sxs-lookup"><span data-stu-id="876d6-114">The SAM is also added to the ASP.NET pipeline in the configuration file.</span></span> <span data-ttu-id="876d6-115">SAM 監視 （工作階段） 的驗證 cookie 的要求。</span><span class="sxs-lookup"><span data-stu-id="876d6-115">The SAM monitors requests for authentication (session) cookies.</span></span> <span data-ttu-id="876d6-116">當這些 cookie 確實存在且有效時，此模組會將擷取<xref:System.Security.Claims.ClaimsPrincipal>已驗證的使用者從<xref:System.IdentityModel.Tokens.SessionSecurityToken>並設定<xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType>屬性和執行緒主體<xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-116">When these cookies are present and valid, the module extracts the <xref:System.Security.Claims.ClaimsPrincipal> for the authenticated user from the <xref:System.IdentityModel.Tokens.SessionSecurityToken> and sets the <xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType> property and the thread principal <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> properties.</span></span>  
  
 <span data-ttu-id="876d6-117">WSFAM 提供：</span><span class="sxs-lookup"><span data-stu-id="876d6-117">The WSFAM provides:</span></span>  
  
-   <span data-ttu-id="876d6-118">ASP.NET 應用程式將驗證外包給安全性權杖服務 (STS) 所使用的 WS-同盟通訊協定功能。</span><span class="sxs-lookup"><span data-stu-id="876d6-118">The ability for an ASP.NET application to outsource authentication to a security token service (STS) by using the WS-Federation protocol.</span></span> <span data-ttu-id="876d6-119">可以跨一個或多個身分識別領域同盟身分識別，並且包含多個 Sts。</span><span class="sxs-lookup"><span data-stu-id="876d6-119">Identity can be federated across one or more identity realms and involve multiple STSs.</span></span>  
  
-   <span data-ttu-id="876d6-120">ASP.NET 應用程式的宣告型識別。</span><span class="sxs-lookup"><span data-stu-id="876d6-120">Claims-based identity for ASP.NET applications.</span></span> <span data-ttu-id="876d6-121">在驗證期間，WSFAM 建置從 STS 所傳送的安全性權杖中宣告的主體，並將這個宣告主體設定為主要執行緒。</span><span class="sxs-lookup"><span data-stu-id="876d6-121">During authentication, the WSFAM builds a principal from the claims in the security token sent by the STS and sets this claims principal as the thread principal.</span></span> <span data-ttu-id="876d6-122">您接著可以使用這個主體進行進一步授權、 展示和邏輯來判斷它所代表的使用者程式碼中。</span><span class="sxs-lookup"><span data-stu-id="876d6-122">You can then use this principal to make further authorization, presentation, and logic decisions about the user it represents in your code.</span></span>  
  
 <span data-ttu-id="876d6-123">WSFAM 會公開一些提供預設来使用的 WS-同盟登入和登出要求的訊息參數的屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-123">The WSFAM exposes several properties that provide default message parameters to use on WS-Federation sign-in and sign-out requests.</span></span> <span data-ttu-id="876d6-124">這些屬性通常初始化自[ &lt;wsFederation&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation.md)組態檔中的項目。</span><span class="sxs-lookup"><span data-stu-id="876d6-124">These properties are typically initialized from the [&lt;wsFederation&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation.md) element in a configuration file.</span></span> <span data-ttu-id="876d6-125">這些屬性的最重要的是：</span><span class="sxs-lookup"><span data-stu-id="876d6-125">The most important of these properties are:</span></span>  
  
-   <span data-ttu-id="876d6-126"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>屬性，指定要將 WS-同盟登入和登出要求傳送至安全性權杖服務 (STS) 的位址。</span><span class="sxs-lookup"><span data-stu-id="876d6-126">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property, which specifies the address of the security token service (STS) to which to send WS-Federation sign-in and sign-out requests.</span></span>  
  
-   <span data-ttu-id="876d6-127"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm%2A>屬性，指定要使用的 wtrealm 參數在 WS-同盟登入要求。</span><span class="sxs-lookup"><span data-stu-id="876d6-127">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm%2A> property, which specifies the wtrealm parameter to use in WS-Federation sign-in requests.</span></span> <span data-ttu-id="876d6-128">Wtrealm 參數識別要 STS 的信賴憑證者 (rp) 應用程式的安全性領域。</span><span class="sxs-lookup"><span data-stu-id="876d6-128">The wtrealm parameter identifies the security realm of the relying party (RP) application to the STS.</span></span>  
  
 <span data-ttu-id="876d6-129">登入訊息參數也可以變更每個要求為基礎所提供的事件處理常式委派<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-129">Sign-in message parameters can also be changed on a per-request basis by providing an event-handler delegate for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span>  
  
 <span data-ttu-id="876d6-130">兩個屬性會控制行為的模組。</span><span class="sxs-lookup"><span data-stu-id="876d6-130">Two properties control the behavior of the module.</span></span> <span data-ttu-id="876d6-131">這兩個屬性通常也初始化自`<wsFederation>`組態中的項目。</span><span class="sxs-lookup"><span data-stu-id="876d6-131">Both of these properties are also typically initialized from the `<wsFederation>` element in configuration.</span></span>  
  
-   <span data-ttu-id="876d6-132"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A>屬性會指定模組是否應該執行被動重新導向至 STS 進行驗證。</span><span class="sxs-lookup"><span data-stu-id="876d6-132">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A> property specifies whether the module should perform passive redirects to the STS for authentication.</span></span>  
  
-   <span data-ttu-id="876d6-133"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PersistentCookiesOnPassiveRedirects%2A>屬性會指定工作階段是否應為永久性。</span><span class="sxs-lookup"><span data-stu-id="876d6-133">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PersistentCookiesOnPassiveRedirects%2A> property specifies whether sessions should be persistent.</span></span> <span data-ttu-id="876d6-134">如果這個屬性設定為 true，SAM 用來寫入至用戶端工作階段 cookie。</span><span class="sxs-lookup"><span data-stu-id="876d6-134">If this property is set true, the SAM is used to write a session cookie to the client.</span></span> <span data-ttu-id="876d6-135">在後續要求中從用戶端，SAM 會提供使用語彙基元驗證保存在工作階段 cookie。</span><span class="sxs-lookup"><span data-stu-id="876d6-135">On subsequent requests from the client, the SAM provides authentication by using the token persisted in the session cookie.</span></span>  
  
 <span data-ttu-id="876d6-136">WSFAM 引發多個事件期間登入和登出，這可讓 ASP.NET 開發人員變更模組的預設行為，以及控制如何驗證和處理宣告進行的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="876d6-136">The WSFAM raises several events during sign-in and sign-out, which allow ASP.NET developers to change the default behavior of the module and control the details of how authentication and claims processing take place.</span></span>  
  
 <span data-ttu-id="876d6-137">WS-同盟登入要求傳送至 STS 前，會引發下列事件：</span><span class="sxs-lookup"><span data-stu-id="876d6-137">The following events are raised before the WS-Federation sign-in request is sent to the STS:</span></span>  
  
-   <span data-ttu-id="876d6-138"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed>： 當被動式重新導向已啟用，且授權失敗要求的資源上引發。</span><span class="sxs-lookup"><span data-stu-id="876d6-138"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed>: Raised when  passive redirect is enabled and authorization fails on a requested resource.</span></span>  
  
-   <span data-ttu-id="876d6-139"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>： 之前引發 WSFAM 會傳送至 STS WS-同盟登入要求。</span><span class="sxs-lookup"><span data-stu-id="876d6-139"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>: Raised just before the WSFAM sends the WS-Federation sign-in request to the STS.</span></span> <span data-ttu-id="876d6-140">若要變更登入要求中的參數，您可以使用此事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-140">You can use this event to change the parameters in the sign-in request.</span></span>  
  
 <span data-ttu-id="876d6-141">從 STS 收到登入回應 （發出安全性權杖） 時，會引發下列事件：</span><span class="sxs-lookup"><span data-stu-id="876d6-141">The following events are raised when a sign-in response (issued security token) is received from the STS:</span></span>  
  
-   <span data-ttu-id="876d6-142"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenReceived>： 只在 STS 所傳送的安全性語彙基元讀取回應之後，才引發。</span><span class="sxs-lookup"><span data-stu-id="876d6-142"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenReceived>: Raised just after the security token sent by the STS is read from the response.</span></span>  
  
-   <span data-ttu-id="876d6-143"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenValidated>： 只在已驗證權杖之後，才引發。</span><span class="sxs-lookup"><span data-stu-id="876d6-143"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenValidated>: Raised just after the token has been validated.</span></span> <span data-ttu-id="876d6-144">您可以使用這個事件來篩選或轉換，將宣告新增至宣告主體 (<xref:System.Security.Claims.ClaimsPrincipal>) 所建立的安全性權杖。</span><span class="sxs-lookup"><span data-stu-id="876d6-144">You can use this event to filter, transform, or add claims to the claims principal (<xref:System.Security.Claims.ClaimsPrincipal>) created from the security token.</span></span>  
  
-   <span data-ttu-id="876d6-145"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated>： 引發之前工作階段權杖 (<xref:System.IdentityModel.Tokens.SessionSecurityToken>) 主要用來設定執行緒主體的宣告和目前的使用者來建立並寫入工作階段 cookie。</span><span class="sxs-lookup"><span data-stu-id="876d6-145"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated>: Raised just before the session token (<xref:System.IdentityModel.Tokens.SessionSecurityToken>) created from the claims principal is used to set the thread principal and current user and is written to the session cookie.</span></span> <span data-ttu-id="876d6-146">可讓您有機會修改的工作階段權杖或啟用或停用寫入工作階段 cookie。</span><span class="sxs-lookup"><span data-stu-id="876d6-146">Gives you an opportunity to modify the session token or enable or disable writing the session cookie.</span></span>  
  
-   <span data-ttu-id="876d6-147"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedIn>： 在結束時引發的驗證之後已設定執行緒主體與目前使用者。</span><span class="sxs-lookup"><span data-stu-id="876d6-147"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedIn>: Raised at the end of the authentication just after the thread principal and current user have been set.</span></span>  
  
-   <span data-ttu-id="876d6-148"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInError>： 引發登入期間發生的例外狀況。</span><span class="sxs-lookup"><span data-stu-id="876d6-148"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInError>: Raised if an exception occurs during sign-in.</span></span> <span data-ttu-id="876d6-149">您可以取消要求，並避免例外狀況傳回給呼叫端。</span><span class="sxs-lookup"><span data-stu-id="876d6-149">You can cancel the request and prevent the exception from being returned to the caller.</span></span>  
  
 <span data-ttu-id="876d6-150">當簽章登出工作階段，或處理 WS-同盟登出清除要求 (wsignoutcleanup1.0) 時，會引發下列事件：</span><span class="sxs-lookup"><span data-stu-id="876d6-150">When signing out of a session or when processing a WS-Federation sign-out clean-up request (wsignoutcleanup1.0), the following events are raised:</span></span>  
  
-   <span data-ttu-id="876d6-151"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut>： 只在工作階段中刪除，讓您執行任何可能相依於工作階段的清除，或取消登出之前引發。</span><span class="sxs-lookup"><span data-stu-id="876d6-151"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut>: Raised just before the session is deleted to enable you to perform any cleanup that might depend on the session or to cancel sign-out.</span></span>  
  
-   <span data-ttu-id="876d6-152"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut>： 只在已刪除工作階段之後，才引發。</span><span class="sxs-lookup"><span data-stu-id="876d6-152"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut>: Raised just after the session has been deleted.</span></span>  
  
-   <span data-ttu-id="876d6-153"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError>： 引發登出期間發生的例外狀況。您可以取消登出，並避免例外狀況傳回給呼叫端。</span><span class="sxs-lookup"><span data-stu-id="876d6-153"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError>: Raised if an exception occurs during sign-out. You can cancel sign-out and prevent the exception from being returned to the caller.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="876d6-154">登出在 STS 藉由呼叫時，不會引發登出事件<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-154">The sign-out events are not raised when signing out at the STS by calling the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 <span data-ttu-id="876d6-155">有兩種登入使用 WSFAM STS。</span><span class="sxs-lookup"><span data-stu-id="876d6-155">There are two ways of signing in to an STS using WSFAM.</span></span> <span data-ttu-id="876d6-156">第一個是藉由啟用透過被動重新導向<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-156">The first is by enabling passive redirects through the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A> property.</span></span> <span data-ttu-id="876d6-157">在此情況下，當授權失敗要求的資源，而不是傳回`401:Access Denied`回應給用戶端，WSFAM 建置其內容的 WS-同盟登入要求訊息，並將用戶端重新導向至 STS，以擷取安全性權杖。</span><span class="sxs-lookup"><span data-stu-id="876d6-157">In this case, when authorization fails on a requested resource, rather than returning a `401:Access Denied` response to the client, WSFAM builds a WS-Federation sign-in request message from its properties and redirects the client to the STS to retrieve a security token.</span></span> <span data-ttu-id="876d6-158">第二種方式是明確地將對 STS 的用戶端重新導向藉由呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A>來自網頁或應用程式中的自訂控制項的方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-158">The second way is to explicitly redirect the client to the STS by calling the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> method from a web page or custom control in your application.</span></span> <span data-ttu-id="876d6-159"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A>方法也使用 WSFAM 屬性來建構登入要求。</span><span class="sxs-lookup"><span data-stu-id="876d6-159">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> method also uses the properties of the WSFAM to construct the sign-in request.</span></span>  
  
 <span data-ttu-id="876d6-160">任何多載<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A>方法可用來登出工作階段。</span><span class="sxs-lookup"><span data-stu-id="876d6-160">Any of the overloaded <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A> methods can be used to sign out of the session.</span></span> <span data-ttu-id="876d6-161">這會刪除用戶端上的工作階段 cookie。</span><span class="sxs-lookup"><span data-stu-id="876d6-161">This deletes the session cookie on the client.</span></span> <span data-ttu-id="876d6-162">它不會傳送至 STS WS-同盟登出訊息 (「 wsignout1.0")。</span><span class="sxs-lookup"><span data-stu-id="876d6-162">It does not send a WS-Federation sign-out message ("wsignout1.0") to the STS.</span></span> <span data-ttu-id="876d6-163">若要登出在 STS，您必須使用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-163">To sign-out at the STS, you must use the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 <span data-ttu-id="876d6-164">WSFAM 會藉由使用用戶端刪除其工作階段處理 WS-同盟登出清除要求 (「 wsignoutcleanup1.0")。</span><span class="sxs-lookup"><span data-stu-id="876d6-164">The WSFAM handles WS-Federation sign-out clean-up requests ("wsignoutcleanup1.0"), by deleting its session with the client.</span></span> <span data-ttu-id="876d6-165">如果未設定 wreply 訊息中的參數登出清除，WSFAM 傳送訊息的 STS 傳回綠色的核取記號的映像。</span><span class="sxs-lookup"><span data-stu-id="876d6-165">If the wreply parameter in the sign-out clean-up message is not set, the WSFAM returns an image of a green check mark to the STS that sent the message.</span></span> <span data-ttu-id="876d6-166">這項功能可供 STS，以完成其登出 RP 通知的形式。</span><span class="sxs-lookup"><span data-stu-id="876d6-166">This feature can be used by an STS as an acknowledgment that the RP has completed its sign-out.</span></span>  
  
 <span data-ttu-id="876d6-167">WSFAM 會公開其功能-例如，其要求處理管線-透過數個特定工作的方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-167">The WSFAM exposes its functionality -- for example, its request processing pipeline -- through several task-specific methods.</span></span> <span data-ttu-id="876d6-168">您可以覆寫這些方法，以變更 WSFAM 行為衍生類別中。</span><span class="sxs-lookup"><span data-stu-id="876d6-168">You can override these methods in derived classes to alter the behavior of the WSFAM.</span></span>  
  
 <span data-ttu-id="876d6-169">要使用此模組必須加入至管線，如下列 XML 所示：</span><span class="sxs-lookup"><span data-stu-id="876d6-169">To be used, the module must be added to the pipeline as in the following XML:</span></span>  
  
```  
<configuration>  
  <system.webServer>  
    <modules>  
      <add name="WsFederationAuthenticationModule" type="System.IdentityModel.Services.WSFederationAuthenticationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>  
    </modules>  
  </system.webServer>  
</configuration>  
```  
  
 <span data-ttu-id="876d6-170">一旦設定，<xref:System.IdentityModel.Services.WSFederationAuthenticationModule>處理 HTTP 要求的各個階段引發的事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-170">Once configured, the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> raises events at various stages of processing an HTTP request.</span></span> <span data-ttu-id="876d6-171">ASP.NET 開發人員可以處理這些事件在 global.asax 檔案中。</span><span class="sxs-lookup"><span data-stu-id="876d6-171">ASP.NET developers can handle these events in the global.asax file.</span></span>  
  
   
  
## Examples  
 [!code-csharp[WifWSFAM#1](~/samples/snippets/csharp/VS_Snippets_Misc/wifwsfam/cs/webapplication1/global.asax.cs#1)]  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public WSFederationAuthenticationModule ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; WSFederationAuthenticationModule();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="876d6-172">由衍生類別的建構函式呼叫，以初始化 <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> 類別。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-172">Called by constructors in derived classes to initialize the <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> class.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="AuthenticationType">
      <MemberSignature Language="C#" Value="public string AuthenticationType { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string AuthenticationType" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthenticationType" />
      <MemberSignature Language="VB.NET" Value="Public Property AuthenticationType As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ AuthenticationType { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.AuthenticationType : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.AuthenticationType" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-173">取得或設定要在 WS-同盟登入要求 ("wsignin1.0") 中使用的 wauth 參數值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-173">Gets or sets the value of the wauth parameter to use in WS-Federation sign-in requests ("wsignin1.0").</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-174">指定驗證類型的 URI。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-174">A URI that specifies the authentication type.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-175">Wauth 參數是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="876d6-175">The wauth parameter is optional.</span></span> <span data-ttu-id="876d6-176">如果<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthenticationType%2A>屬性設定為`null`或登入要求中未包含空字串，wauth 參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-176">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthenticationType%2A> property is set to `null` or an empty string, the wauth parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="876d6-177">您可以藉由新增的處理常式覆寫這項設定在每個 HTTP 要求<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-177">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="876d6-178">只在模組重新導向至與 WS-同盟登入要求訊息的安全性權杖服務 (STS) 之前，會引發這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-178">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="876d6-179">所指定 STS<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-179">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="AuthorizationFailed">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.AuthorizationFailedEventArgs&gt; AuthorizationFailed;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.AuthorizationFailedEventArgs&gt; AuthorizationFailed" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed" />
      <MemberSignature Language="VB.NET" Value="Public Event AuthorizationFailed As EventHandler(Of AuthorizationFailedEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::AuthorizationFailedEventArgs ^&gt; ^ AuthorizationFailed;" />
      <MemberSignature Language="F#" Value="member this.AuthorizationFailed : EventHandler&lt;System.IdentityModel.Services.AuthorizationFailedEventArgs&gt; " Usage="member this.AuthorizationFailed : System.EventHandler&lt;System.IdentityModel.Services.AuthorizationFailedEventArgs&gt; " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.AuthorizationFailedEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-180">當模組正在判斷它是否應該將使用者重新導向至已設定的簽發者進行驗證時發生。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-180">Occurs when the module is determining whether it should redirect the user to the configured issuer to authenticate.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-181"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed>授權失敗的 HTTP 要求時，就會引發事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-181">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed> event is raised when authorization has failed for an HTTP request.</span></span> <span data-ttu-id="876d6-182">會引發此事件於<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest%2A>透過呼叫事件處理常式委派<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthorizationFailed%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-182">It is raised from within the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest%2A> event-handler delegate through a call to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthorizationFailed%2A> method.</span></span>  
  
 <span data-ttu-id="876d6-183">您可以設定<xref:System.IdentityModel.Services.AuthorizationFailedEventArgs.RedirectToIdentityProvider%2A?displayProperty=nameWithType>屬性，即可控制是否已重新導向至識別提供者。</span><span class="sxs-lookup"><span data-stu-id="876d6-183">You can set the <xref:System.IdentityModel.Services.AuthorizationFailedEventArgs.RedirectToIdentityProvider%2A?displayProperty=nameWithType> property to control whether the request is redirected to the identity provider.</span></span> <span data-ttu-id="876d6-184">架構會初始化此屬性為`false`如果使用者已經過驗證。</span><span class="sxs-lookup"><span data-stu-id="876d6-184">The framework initializes this property to `false` if the user has already been authenticated.</span></span> <span data-ttu-id="876d6-185">在此情況下，將屬性設定為`true`與 STS 可能會造成循環迴圈。</span><span class="sxs-lookup"><span data-stu-id="876d6-185">In this case, setting the property to `true` may cause a circular loop with the STS.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="876d6-186"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>事件可用來修改 URL 或取消重新導向。</span><span class="sxs-lookup"><span data-stu-id="876d6-186">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event can be used to modify the URL or cancel the redirect.</span></span>  
  
 <span data-ttu-id="876d6-187">若要處理這個 ASP.NET 應用程式中的事件，建立名為方法`WSFederationAuthentication_AuthorizationFailed`global.asax 檔中。</span><span class="sxs-lookup"><span data-stu-id="876d6-187">To handle this event in an ASP.NET application, create a method named `WSFederationAuthentication_AuthorizationFailed` in the global.asax file.</span></span>  
  
   
  
## Examples  
 [!code-csharp[WifWSFAM#7](~/samples/snippets/csharp/VS_Snippets_Misc/wifwsfam/cs/webapplication1/global.asax.cs#7)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="CanReadSignInResponse">
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-188">取得值，這個值指出指定的 HTTP 要求是否為 WS-Federation 登入回應訊息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-188">Returns a value that indicates whether the specified HTTP request is a WS-Federation sign-in response message.</span>
          </span>
          <span data-ttu-id="876d6-189">如果訊息是 WS-同盟登出清除訊息 ("wsignoutcleanup1.0")，這個方法會處理該要求。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-189">If the message is a WS-Federation sign-out clean-up message ("wsignoutcleanup1.0"), this method processes the request.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-190">登入回應訊息會傳送至信賴憑證者的合作對象 (RP)，以回應登入要求訊息安全性權杖服務 (STS)。</span><span class="sxs-lookup"><span data-stu-id="876d6-190">A sign-in response message is sent to the relying party (RP) by a security token service (STS) in response to a sign-in request message.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </MemberGroup>
    <Member MemberName="CanReadSignInResponse">
      <MemberSignature Language="C#" Value="public bool CanReadSignInResponse (System.Web.HttpRequestBase request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance bool CanReadSignInResponse(class System.Web.HttpRequestBase request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse(System.Web.HttpRequestBase)" />
      <MemberSignature Language="VB.NET" Value="Public Function CanReadSignInResponse (request As HttpRequestBase) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; bool CanReadSignInResponse(System::Web::HttpRequestBase ^ request);" />
      <MemberSignature Language="F#" Value="member this.CanReadSignInResponse : System.Web.HttpRequestBase -&gt; bool" Usage="wSFederationAuthenticationModule.CanReadSignInResponse request" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.Web.HttpRequestBase" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="876d6-191">連入的 HTTP 要求。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-191">The incoming HTTP request.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-192">取得值，這個值指出指定的 HTTP 要求是否為 WS-Federation 登入回應訊息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-192">Returns a value that indicates whether the specified HTTP request is a WS-Federation sign-in response message.</span>
          </span>
          <span data-ttu-id="876d6-193">如果訊息是 WS-同盟登出清除訊息 ("wsignoutcleanup1.0")，這個方法會處理該要求。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-193">If the message is a WS-Federation sign-out clean-up message ("wsignoutcleanup1.0"), this method processes the request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="876d6-194">如果指定的 HTTP 要求包含表單 POST，其中 wa 參數設定為 "wsignout1.0"，而且 wresult 參數不是空的，則為 <see langword="true" />，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-194">
              <see langword="true" /> if the specified HTTP request contains a form POST in which the wa parameter is set to "wsignout1.0" and the wresult parameter is not empty; otherwise <see langword="false" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-195">這個方法會從傳入的 HTTP 要求包含 WS-同盟登入回應訊息的表單張貼要求處理管線叫用。</span><span class="sxs-lookup"><span data-stu-id="876d6-195">This method is invoked from the request processing pipeline to determine whether the incoming HTTP request is a FORM post that contains a WS-Federation sign-in response message.</span></span>  
  
 <span data-ttu-id="876d6-196">它會叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%2CSystem.Boolean%29?displayProperty=nameWithType>多載`onPage`參數集`false`表示處理網頁時，不是呼叫。</span><span class="sxs-lookup"><span data-stu-id="876d6-196">It invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%2CSystem.Boolean%29?displayProperty=nameWithType> overload with the `onPage` parameter set `false` to indicate that the call did  not originate while processing a page.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-197">
            <paramref name="request" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-197">
              <paramref name="request" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest(System.Object,System.EventArgs)" />
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse(System.Web.HttpRequestBase,System.Boolean)" />
      </Docs>
    </Member>
    <Member MemberName="CanReadSignInResponse">
      <MemberSignature Language="C#" Value="public virtual bool CanReadSignInResponse (System.Web.HttpRequestBase request, bool onPage);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance bool CanReadSignInResponse(class System.Web.HttpRequestBase request, bool onPage) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse(System.Web.HttpRequestBase,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function CanReadSignInResponse (request As HttpRequestBase, onPage As Boolean) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual bool CanReadSignInResponse(System::Web::HttpRequestBase ^ request, bool onPage);" />
      <MemberSignature Language="F#" Value="abstract member CanReadSignInResponse : System.Web.HttpRequestBase * bool -&gt; bool&#xA;override this.CanReadSignInResponse : System.Web.HttpRequestBase * bool -&gt; bool" Usage="wSFederationAuthenticationModule.CanReadSignInResponse (request, onPage)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.Web.HttpRequestBase" />
        <Parameter Name="onPage" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="876d6-198">連入的 HTTP 要求。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-198">The incoming HTTP request.</span>
          </span>
        </param>
        <param name="onPage">
          <span data-ttu-id="876d6-199">如果在處理網頁要求時會產生呼叫，則為 <see langword="true" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-199">
              <see langword="true" /> if the call originates while processing a page request.</span>
          </span>
          <span data-ttu-id="876d6-200">如果呼叫端是 HTTP 模組，則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-200">
              <see langword="false" /> if the caller is an HTTP module.</span>
          </span>
          <span data-ttu-id="876d6-201">這個參數會決定如何結束處理或傳送重新導向，如果內送訊息是 WS-同盟登出清除訊息 ("wsignoutcleanup1.0")。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-201">This parameter determines how to terminate processing or send redirects if the incoming message is a WS-Federation sign-out cleanup message ("wsignoutcleanup1.0").</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-202">取得值，這個值指出指定的 HTTP 要求是否為 WS-Federation 登入回應訊息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-202">Returns a value that indicates whether the specified HTTP request is a WS-Federation sign-in response message.</span>
          </span>
          <span data-ttu-id="876d6-203">如果訊息是 WS-同盟登出清除訊息 ("wsignoutcleanup1.0")，這個方法會處理該要求。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-203">If the message is a WS-Federation sign-out clean-up message ("wsignoutcleanup1.0"), this method processes the request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="876d6-204">如果指定的 HTTP 要求包含表單 POST，其中 wa 參數設定為 "wsignout1.0"，而且 wresult 參數不是空的，則為 <see langword="true" />，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-204">
              <see langword="true" /> if the specified HTTP request contains a FORM post in which the wa parameter is set to "wsignout1.0" and the wresult parameter is not empty; otherwise <see langword="false" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-205">這個方法會叫用要求處理管線，透過從<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%29?displayProperty=nameWithType>多載，以便判斷連入 HTTP 要求是否為表單 POST 包含 WS-同盟登入回應訊息。</span><span class="sxs-lookup"><span data-stu-id="876d6-205">This method is invoked from the request processing pipeline through the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%29?displayProperty=nameWithType> overload to determine whether the incoming HTTP request is a form POST that contains a WS-Federation sign-in response message.</span></span>  
  
 <span data-ttu-id="876d6-206">預設實作會執行下列作業：</span><span class="sxs-lookup"><span data-stu-id="876d6-206">The default implementation performs the following:</span></span>  
  
-   <span data-ttu-id="876d6-207">如果內送要求的表單 POST，它會呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.IsSignInResponse%2A>方法來判斷表單 POST 是否包含登入回應。</span><span class="sxs-lookup"><span data-stu-id="876d6-207">If the incoming request is a form POST, it calls the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.IsSignInResponse%2A> method to determine whether the form POST contains a sign-in response.</span></span>  
  
-   <span data-ttu-id="876d6-208">如果連入要求的表單 POST，而且未要求包含 WS-同盟登出清除要求 （wa 參數會是"wsignoutcleanup1.0"），則會執行登出清除。</span><span class="sxs-lookup"><span data-stu-id="876d6-208">If the incoming request is not a form POST, and the request contains a WS-Federation sign-out clean-up request (the wa parameter is "wsignoutcleanup1.0"), sign-out clean-up is performed.</span></span> <span data-ttu-id="876d6-209">在此情況下，<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType>叫用方法時 (以將參數設定為`true`指出登出清除) 登出工作階段。</span><span class="sxs-lookup"><span data-stu-id="876d6-209">In this case, the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method is invoked (with the parameter set to `true` to indicate a sign-out clean-up) to sign out of the session.</span></span> <span data-ttu-id="876d6-210">這也會導致引發登出的事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-210">This also causes the sign-out events to be raised.</span></span>  
  
     <span data-ttu-id="876d6-211">接下來，如果登出清除要求包含 wreply 參數，用戶端重新導向至所傳回的 URL<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSignOutRedirectUrl%2A>方法; 否則會對 STS 傳回綠色的核取記號的映像。</span><span class="sxs-lookup"><span data-stu-id="876d6-211">Next, if the sign-out clean-up request contains a wreply parameter, the client is redirected to the URL returned by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSignOutRedirectUrl%2A> method; otherwise, an image of a green check mark is returned to the STS.</span></span> <span data-ttu-id="876d6-212">此映像的回條可以當做 sts 登出清除要求已接收並已順利處理 RP 所確認的訊息。</span><span class="sxs-lookup"><span data-stu-id="876d6-212">The receipt of this image can be used by the STS as a confirmation that the sign-out clean-up request was received and successfully processed by the RP.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-213">
            <paramref name="request" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-213">
              <paramref name="request" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse(System.Web.HttpRequestBase)" />
      </Docs>
    </Member>
    <Member MemberName="CreateSignInRequest">
      <MemberSignature Language="C#" Value="public System.IdentityModel.Services.SignInRequestMessage CreateSignInRequest (string uniqueId, string returnUrl, bool rememberMeSet);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.IdentityModel.Services.SignInRequestMessage CreateSignInRequest(string uniqueId, string returnUrl, bool rememberMeSet) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest(System.String,System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Function CreateSignInRequest (uniqueId As String, returnUrl As String, rememberMeSet As Boolean) As SignInRequestMessage" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::IdentityModel::Services::SignInRequestMessage ^ CreateSignInRequest(System::String ^ uniqueId, System::String ^ returnUrl, bool rememberMeSet);" />
      <MemberSignature Language="F#" Value="member this.CreateSignInRequest : string * string * bool -&gt; System.IdentityModel.Services.SignInRequestMessage" Usage="wSFederationAuthenticationModule.CreateSignInRequest (uniqueId, returnUrl, rememberMeSet)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Services.SignInRequestMessage</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="uniqueId" Type="System.String" />
        <Parameter Name="returnUrl" Type="System.String" />
        <Parameter Name="rememberMeSet" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="uniqueId">
          <span data-ttu-id="876d6-214">WSFAM 會將這個值儲存在 WS-同盟登入要求中的 wctx 參數，但是模組不會在處理登入要求或登入回應時使用該值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-214">The WSFAM saves this value in the wctx parameter in the WS-Federation sign in request; however, the module does not use it when processing sign-in requests or sign-in responses.</span>
          </span>
          <span data-ttu-id="876d6-215">您可以將它設定為任何值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-215">You can set it to any value.</span>
          </span>
          <span data-ttu-id="876d6-216">不必是唯一的。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-216">It does not have to be unique.</span>
          </span>
        </param>
        <param name="returnUrl">
          <span data-ttu-id="876d6-217">在驗證時模組應該傳回的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-217">The URL to which the module should return upon authentication.</span>
          </span>
        </param>
        <param name="rememberMeSet">
          <span data-ttu-id="876d6-218">WSFAM 會將這個值儲存在 WS-同盟登入要求中的 wctx 參數，但是模組不會在處理登入要求或登入回應時使用該值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-218">The WSFAM saves this value in the wctx parameter in the WS-Federation sign in request; however, the module does not use it when processing sign-in requests or sign-in responses.</span>
          </span>
          <span data-ttu-id="876d6-219">您可以將它設定為 <see langword="true" /> 或 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-219">You can set it either <see langword="true" /> or <see langword="false" />.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-220">使用模組上設定的 WS-Federation 參數，建立 WS-Federation 登入要求訊息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-220">Creates a WS-Federation sign in request message by using the WS-Federation parameters configured on the module.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="876d6-221">WS-Federation 登入要求訊息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-221">The WS-Federation sign-in request message.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-222">建立由 WS-同盟登入要求<xref:System.IdentityModel.Services.SignInRequestMessage>物件。</span><span class="sxs-lookup"><span data-stu-id="876d6-222">Creates a WS-Federation sign-in request that is represented by a <xref:System.IdentityModel.Services.SignInRequestMessage> object.</span></span> <span data-ttu-id="876d6-223">新的屬性<xref:System.IdentityModel.Services.SignInRequestMessage>物件設定如下：</span><span class="sxs-lookup"><span data-stu-id="876d6-223">The properties of the new <xref:System.IdentityModel.Services.SignInRequestMessage> object are set as follows:</span></span>  
  
-   <span data-ttu-id="876d6-224"><xref:System.IdentityModel.Services.WSFederationMessage.Context%2A>屬性 （wctx 參數） 設定為建立使用的方法參數的值。</span><span class="sxs-lookup"><span data-stu-id="876d6-224">The <xref:System.IdentityModel.Services.WSFederationMessage.Context%2A> property (the wctx parameter) is set to a value created by using the method parameters.</span></span>  
  
-   <span data-ttu-id="876d6-225"><xref:System.IdentityModel.Services.SignInRequestMessage.CurrentTime%2A>屬性 （wct 參數） 設定為目前的時間。</span><span class="sxs-lookup"><span data-stu-id="876d6-225">The <xref:System.IdentityModel.Services.SignInRequestMessage.CurrentTime%2A> property (the wct parameter) is set to the current time.</span></span>  
  
-   <span data-ttu-id="876d6-226">使用目前的執行個體的對等屬性會設定所有其他屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-226">All other properties are set by using the equivalent properties of the current instance.</span></span>  
  
 <span data-ttu-id="876d6-227">傳遞給方法的參數用來建立 wctx 訊息參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-227">The parameters passed to the method are used to create the wctx message parameter.</span></span> <span data-ttu-id="876d6-228">這是以下列格式的字串： `ru=returnUrl&cx=SignInContext&rm=rememberMeSet&id=uniqueId`。</span><span class="sxs-lookup"><span data-stu-id="876d6-228">This is a string with the following format: `ru=returnUrl&cx=SignInContext&rm=rememberMeSet&id=uniqueId`.</span></span>  
  
-   <span data-ttu-id="876d6-229">`ru`值設定的值為`returnUrl`參數中傳遞給方法，它會指定模組應該直接以下成功驗證瀏覽器的 URL。</span><span class="sxs-lookup"><span data-stu-id="876d6-229">The `ru` value is set to the value of the `returnUrl` parameter passed in to the method and it specifies the URL that the module should direct the browser to following successful authentication.</span></span> <span data-ttu-id="876d6-230">這是唯一的值儲存在可由 WSFAM wctx 字串。</span><span class="sxs-lookup"><span data-stu-id="876d6-230">This is the only value stored in the wctx string that is used by the WSFAM.</span></span> <span data-ttu-id="876d6-231">此模組會呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReturnUrlFromResponse%2A>處理 WS-同盟登入回應時，從 wctx 參數擷取這個值的方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-231">The module calls the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReturnUrlFromResponse%2A> method to extract this value from the wctx parameter when processing a WS-Federation sign-in response.</span></span> <span data-ttu-id="876d6-232">不應混淆的 wreply 訊息參數，指定由<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Reply%2A>屬性和其提供安全性權杖服務 (STS) 應該將其回應導向的 RP 的位址。</span><span class="sxs-lookup"><span data-stu-id="876d6-232">It should not be confused with the wreply message parameter, which is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Reply%2A> property and which provides the address at the RP to which the security token service (STS) should direct its response.</span></span>  
  
-   <span data-ttu-id="876d6-233">`cx`參數設定的值為<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-233">The `cx` parameter is set to the value of the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext%2A> property.</span></span> <span data-ttu-id="876d6-234">這個屬性會公開可讓您設定要 wctx 字串; 字串中儲存任何應用程式定義的內容不過，WSFAM 未公開的方法，以擷取回應中的這個值。</span><span class="sxs-lookup"><span data-stu-id="876d6-234">This property is exposed to enable you to set any application-defined context that should be stored in the wctx string; however, WSFAM does not expose a method to extract this value in the response.</span></span> <span data-ttu-id="876d6-235">如果您的應用程式，就需要這個值，您必須提供程式碼來剖析 wctx 字串和處理回應時讀取這個值。</span><span class="sxs-lookup"><span data-stu-id="876d6-235">If the value is needed by your application, you must provide the code to parse the wctx string and read this value when processing the response.</span></span> <span data-ttu-id="876d6-236">您可能會完成此作業藉由覆寫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReturnUrlFromResponse%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-236">You might accomplish this by overriding the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReturnUrlFromResponse%2A> method.</span></span>  
  
-   <span data-ttu-id="876d6-237">既不`rm`值，設定的值為`rememberMeSet`參數，也不`id`參數，設定的值為`uniqueId`WSFAM 所使用參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-237">Neither the `rm` value, which is set to the value of the `rememberMeSet` parameter, nor the `id` parameter, which is set to the value of the `uniqueId` parameter are used by WSFAM.</span></span> <span data-ttu-id="876d6-238">這些可以設定為任何值。</span><span class="sxs-lookup"><span data-stu-id="876d6-238">These can be set to any value.</span></span>  
  
 <span data-ttu-id="876d6-239"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A>方法從呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-239">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> method is called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="876d6-240">
            <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 屬性為 <see langword="null" /> 或空字串。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-240">The <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> property is <see langword="null" /> or an empty string.</span>
          </span>
          <span data-ttu-id="876d6-241">-或-  <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> 屬性為 <see langword="null" /> 或空字串。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-241">-or-  The <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> property is <see langword="null" /> or an empty string.</span>
          </span>
        </exception>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider(System.String,System.String,System.Boolean)" />
      </Docs>
    </Member>
    <Member MemberName="FederatedSignOut">
      <MemberSignature Language="C#" Value="public static void FederatedSignOut (Uri signOutUrl, Uri replyUrl);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void FederatedSignOut(class System.Uri signOutUrl, class System.Uri replyUrl) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut(System.Uri,System.Uri)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub FederatedSignOut (signOutUrl As Uri, replyUrl As Uri)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void FederatedSignOut(Uri ^ signOutUrl, Uri ^ replyUrl);" />
      <MemberSignature Language="F#" Value="static member FederatedSignOut : Uri * Uri -&gt; unit" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut (signOutUrl, replyUrl)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="signOutUrl" Type="System.Uri" />
        <Parameter Name="replyUrl" Type="System.Uri" />
      </Parameters>
      <Docs>
        <param name="signOutUrl">
          <span data-ttu-id="876d6-242">要接收 WS-Federation 登出要求訊息的 STS 的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-242">The URL of the STS to receive the WS-Federation sign-out request message.</span>
          </span>
          <span data-ttu-id="876d6-243">不可為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-243">Cannot be <see langword="null" />.</span>
          </span>
        </param>
        <param name="replyUrl">
          <span data-ttu-id="876d6-244">要在登出要求訊息中以 wreply 值的方式傳送的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-244">The URL to be sent as the wreply value in the sign-out request message.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-245">使用 WS-同盟通訊協定在指定的安全性權杖服務 (STS) 登出。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-245">Signs out at the specified security token service (STS) by using the WS-Federation protocol.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-246">呼叫此方法以傳送至指定的 STS WS-同盟登出要求訊息。</span><span class="sxs-lookup"><span data-stu-id="876d6-246">Call this method to send a WS-Federation sign-out request message to the specified STS.</span></span> <span data-ttu-id="876d6-247">您可以選擇性地提供登出要求中 wreply 參數的值。</span><span class="sxs-lookup"><span data-stu-id="876d6-247">You can optionally supply a value for the wreply parameter in the sign-out request.</span></span>  
  
 <span data-ttu-id="876d6-248">方法會執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="876d6-248">The method does the following:</span></span>  
  
1.  <span data-ttu-id="876d6-249">使用指定的參數，以建立 WS-同盟登出要求訊息。</span><span class="sxs-lookup"><span data-stu-id="876d6-249">Creates a WS-Federation sign-out request message by using the specified parameters.</span></span>  
  
2.  <span data-ttu-id="876d6-250">呼叫<xref:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie%2A?displayProperty=nameWithType>上刪除工作階段 cookie SAM 方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-250">Calls the <xref:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie%2A?displayProperty=nameWithType> method on the SAM to delete the session cookie.</span></span>  
  
3.  <span data-ttu-id="876d6-251">重新導向至 STS 使用第一個步驟的登出要求訊息。</span><span class="sxs-lookup"><span data-stu-id="876d6-251">Redirects to the STS using the sign-out request message from the first step.</span></span>  
  
 <span data-ttu-id="876d6-252">沒有登出事件： <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut>， <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut>，或<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError>由這個方法所引發。</span><span class="sxs-lookup"><span data-stu-id="876d6-252">None of the sign-out events: <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut>, <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut>, or <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError> are raised by this method.</span></span> <span data-ttu-id="876d6-253">若要刪除工作階段而不需要登出要求訊息傳送給 STS，請呼叫其中一個多載<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-253">To delete the session without sending a sign-out request message to the STS, call one of the overloaded <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A> methods.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="876d6-254">若要使用的工作階段權杖執行被動登出，模組會依賴值儲存於<xref:System.IdentityModel.Tokens.SessionSecurityToken.Context%2A?displayProperty=nameWithType>屬性在登入時，如需詳細資訊，請參閱<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSessionTokenContext%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-254">To perform passive sign-out by using the session token, the module relies on a value that was stored in the <xref:System.IdentityModel.Tokens.SessionSecurityToken.Context%2A?displayProperty=nameWithType> property during sign-in, for more information, see the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSessionTokenContext%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="876d6-255">
            <paramref name="signOutUrl" /> 不是 <see langword="null" />，也不是絕對 URI。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-255">
              <paramref name="signOutUrl" /> is not <see langword="null" /> and is not an absolute URI.</span>
          </span>
          <span data-ttu-id="876d6-256">-或-  <paramref name="replyUrl" /> 不是 <see langword="null" />，也不是絕對 URI。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-256">-or-  <paramref name="replyUrl" /> is not <see langword="null" /> and is not an absolute URI.</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="876d6-257">
            <paramref name="signOutUrl" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-257">
              <paramref name="signOutUrl" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut" />
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSessionTokenContext" />
      </Docs>
    </Member>
    <Member MemberName="Freshness">
      <MemberSignature Language="C#" Value="public string Freshness { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Freshness" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Freshness" />
      <MemberSignature Language="VB.NET" Value="Public Property Freshness As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Freshness { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Freshness : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.Freshness" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-258">取得或設定要在 WS-同盟登入要求 ("wsignin1.0") 中使用的 wfresh 參數值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-258">Gets or sets the value of the wfresh parameter to use in WS-Federation sign-in requests ("wsignin1.0").</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-259">所需的驗證要求最長使用期限，以分鐘為單位。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-259">The desired maximum age of authentication requests, in minutes.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-260">Wfresh 參數是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="876d6-260">The wfresh parameter is optional.</span></span> <span data-ttu-id="876d6-261">如果<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Freshness%2A>屬性設定為`null`或登入要求中未包含空字串，wfresh 參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-261">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Freshness%2A> property is set to `null` or an empty string, the wfresh parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="876d6-262">您可以藉由新增的處理常式覆寫這項設定在每個 HTTP 要求<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-262">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="876d6-263">只在模組重新導向至與 WS-同盟登入要求訊息的安全性權杖服務 (STS) 之前，會引發這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-263">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="876d6-264">所指定 STS<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-264">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetFederationPassiveSignOutUrl">
      <MemberSignature Language="C#" Value="public static string GetFederationPassiveSignOutUrl (string issuer, string signOutReply, string signOutQueryString);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string GetFederationPassiveSignOutUrl(string issuer, string signOutReply, string signOutQueryString) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetFederationPassiveSignOutUrl(System.String,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function GetFederationPassiveSignOutUrl (issuer As String, signOutReply As String, signOutQueryString As String) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::String ^ GetFederationPassiveSignOutUrl(System::String ^ issuer, System::String ^ signOutReply, System::String ^ signOutQueryString);" />
      <MemberSignature Language="F#" Value="static member GetFederationPassiveSignOutUrl : string * string * string -&gt; string" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.GetFederationPassiveSignOutUrl (issuer, signOutReply, signOutQueryString)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="issuer" Type="System.String" />
        <Parameter Name="signOutReply" Type="System.String" />
        <Parameter Name="signOutQueryString" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="issuer">
          <span data-ttu-id="876d6-265">簽發者位址。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-265">The issuer address.</span>
          </span>
          <span data-ttu-id="876d6-266">安全性權杖服務 (STS) 的位址，要將要求導向此位址。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-266">The address of the security token service (STS) to which to direct the request.</span>
          </span>
        </param>
        <param name="signOutReply">
          <span data-ttu-id="876d6-267">指定要在登出後返回之位址的 URL。這會在登出要求中設定 wreply 參數。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-267">A URL that specifies the address to return to after sign-out. This sets the wreply parameter in the sign-out request.</span>
          </span>
          <span data-ttu-id="876d6-268">如果沒有應該包含在產生之登出要求中的 wreply 參數，則可以是 <see langword="null" /> 或空白。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-268">Can be <see langword="null" /> or empty if no wreply parameter should be included in the generated sign-out request.</span>
          </span>
          <span data-ttu-id="876d6-269">這應該是絕對 URI。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-269">This should be an absolute URI.</span>
          </span>
        </param>
        <param name="signOutQueryString">
          <span data-ttu-id="876d6-270">要包含在登出要求中的其他查詢字串參數。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-270">Additional query string parameters to be included in the sign-out request.</span>
          </span>
          <span data-ttu-id="876d6-271">如果沒有其他要包含在產生之登出要求中的參數，則可以是 <see langword="null" /> 或空白。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-271">Can be <see langword="null" /> or empty if no additional to be parameters included in the generated sign-out request.</span>
          </span>
          <span data-ttu-id="876d6-272">這應該為相對 URI。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-272">This should be a relative URI.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-273">傳回 URL，代表對指定簽發者發出的 WS-同登出要求，且包含指定的 wreply 參數及指定的其他參數。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-273">Returns a URL that represents a WS-Federation sign-out request addressed to the specified issuer and that contains the specified wreply parameter and the specified additional parameters.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="876d6-274">包含使用指定之參數所建立之 WS-Federation 被動登出要求的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-274">A URL that contains a WS-Federation passive sign-out request that is built by using the specified parameters.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-275">會傳回在 URL 中： 基底 URI 設定為`issuer`wa 參數設定為"wsignout1.0"; wreply 參數設定為`signOutReply`; 中指定的參數和`signOutQueryString`會呈現為其他查詢字串參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-275">In the URL that is returned: the base URI is set to `issuer`; the wa parameter is set to "wsignout1.0"; the wreply parameter is set to `signOutReply`; and the parameters specified in `signOutQueryString` are present as additional query string parameters.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-276">
            <paramref name="issuer" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-276">
              <paramref name="issuer" /> is <see langword="null" />.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="GetReferencedResult">
      <MemberSignature Language="C#" Value="protected virtual string GetReferencedResult (string resultPtr);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance string GetReferencedResult(string resultPtr) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReferencedResult(System.String)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetReferencedResult (resultPtr As String) As String" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::String ^ GetReferencedResult(System::String ^ resultPtr);" />
      <MemberSignature Language="F#" Value="abstract member GetReferencedResult : string -&gt; string&#xA;override this.GetReferencedResult : string -&gt; string" Usage="wSFederationAuthenticationModule.GetReferencedResult resultPtr" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="resultPtr" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="resultPtr">
          <span data-ttu-id="876d6-277">會指定發行結果的位址的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-277">The URL that specifies the address of the issuance result.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-278">從指定的 URL 取得發行結果 (通常是發出的權杖)。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-278">Gets the issuance result (typically the issued token) from the specified URL.</span>
          </span>
          <span data-ttu-id="876d6-279">解析登入回應訊息中的 wresultptr 參數中指定的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-279">Resolves the URL specified in the wresultptr parameter in a sign-in response message.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="876d6-280">URL 所參考的發行結果。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-280">The issuance result that was referenced by the URL.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-281">由呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetXmlTokenFromMessage%28System.IdentityModel.Services.SignInResponseMessage%29?displayProperty=nameWithType>內處理管線的解析 URL 收到來自安全性權杖服務 (STS) 的登入回應訊息中 wresultptr 參數中指定的方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-281">Called by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetXmlTokenFromMessage%28System.IdentityModel.Services.SignInResponseMessage%29?displayProperty=nameWithType> method from inside the processing pipeline to resolve the URL specified in the wresultptr parameter in the sign-in response message received from a security token service (STS).</span></span>  
  
 <span data-ttu-id="876d6-282">依預設這個方法會擲回<xref:System.NotSupportedException>。</span><span class="sxs-lookup"><span data-stu-id="876d6-282">By default this method throws a <xref:System.NotSupportedException>.</span></span> <span data-ttu-id="876d6-283">覆寫這個方法在衍生的類別，以支援 wresultptr 參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-283">Override this method in a derived class to support the wresultptr parameter.</span></span> <span data-ttu-id="876d6-284">URL 指向發行結果，也應為下列其中一項：`<wst:RequestSecurityTokenResponse>`項目，`<wst:RequestSecurityTokenResponseCollection>`項目、 SOAP 回應或 SOAP`<S:Fault>`項目。</span><span class="sxs-lookup"><span data-stu-id="876d6-284">The URL points to the issuance result, which should be one of the following: a `<wst:RequestSecurityTokenResponse>` element, a `<wst:RequestSecurityTokenResponseCollection>` element, a SOAP response, or a SOAP `<S:Fault>` element.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.NotSupportedException">
          <span data-ttu-id="876d6-285">基底類別中不支援此方法。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-285">This method is not supported in the base class.</span>
          </span>
          <span data-ttu-id="876d6-286">您必須在衍生類別中覆寫它。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-286">You must override it in a derived class.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="GetReturnUrlFromResponse">
      <MemberSignature Language="C#" Value="protected virtual string GetReturnUrlFromResponse (System.Web.HttpRequestBase request);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance string GetReturnUrlFromResponse(class System.Web.HttpRequestBase request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReturnUrlFromResponse(System.Web.HttpRequestBase)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetReturnUrlFromResponse (request As HttpRequestBase) As String" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::String ^ GetReturnUrlFromResponse(System::Web::HttpRequestBase ^ request);" />
      <MemberSignature Language="F#" Value="abstract member GetReturnUrlFromResponse : System.Web.HttpRequestBase -&gt; string&#xA;override this.GetReturnUrlFromResponse : System.Web.HttpRequestBase -&gt; string" Usage="wSFederationAuthenticationModule.GetReturnUrlFromResponse request" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.Web.HttpRequestBase" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="876d6-287">包含表單張貼的 HTTP 要求，這項張貼則包含 WS-同盟登入回應訊息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-287">The HTTP request that contains a form POST, which contains the WS-Federation sign-in response message.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-288">擷取原來從登入回應中要求之頁面的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-288">Extracts the URL of the page that was originally requested from the sign-in response.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="876d6-289">用戶端原先要求之頁面的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-289">The URL of the page that was originally requested by the client.</span>
          </span>
          <span data-ttu-id="876d6-290">這是用戶端在成功登入後應重新導向到的 URL (在信賴憑證者)。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-290">This is the URL (at the relying party) to which the client should be redirected following successful sign-in.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-291">這個方法呼叫從要求處理管線 (<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A>方法) 以取得在信賴憑證者的合作對象 (RP) 將用戶端導向網頁的 URL 之後成功登入。</span><span class="sxs-lookup"><span data-stu-id="876d6-291">This method is called from the request processing pipeline (the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> method) to get the URL of the page at the relying party (RP) to direct the client to after successful sign-in.</span></span> <span data-ttu-id="876d6-292">這是，一般而言，RP 的用戶端原先要求資源存取的 URL。</span><span class="sxs-lookup"><span data-stu-id="876d6-292">This is, typically, the URL of the RP resource to which the client originally requested access.</span></span>  
  
 <span data-ttu-id="876d6-293">根據預設，WSFAM 將 WS-同盟登入要求傳送給安全性權杖服務 (STS) 時，儲存內 wctx 訊息參數的傳回 URL。</span><span class="sxs-lookup"><span data-stu-id="876d6-293">By default, WSFAM saves the return URL inside the wctx message parameter when it sends the WS-Federation sign-in request to the security token service (STS).</span></span> <span data-ttu-id="876d6-294">根據 WS-同盟規格，wctx 參數會保留的實體透過此訊息傳遞，而且是透過 WS-同盟登入回應訊息中傳送的 STS 原封不動地傳回。</span><span class="sxs-lookup"><span data-stu-id="876d6-294">In accordance with the WS-Federation specification, the wctx parameter is preserved across entities through which the message passes and is returned unaltered in the WS-Federation sign-in response message that is sent by the STS.</span></span>  
  
 <span data-ttu-id="876d6-295">預設實作會從 wctx 參數登入回應中取得的傳回 URL。</span><span class="sxs-lookup"><span data-stu-id="876d6-295">The default implementation gets the return URL from the wctx parameter in the sign-in response.</span></span> <span data-ttu-id="876d6-296">正由 WSFAM wctx 參數的格式的相關資訊，請參閱<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-296">For more information about the format of the wctx parameter that is used by WSFAM, see the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-297">
            <paramref name="request" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-297">
              <paramref name="request" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest(System.String,System.String,System.Boolean)" />
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest(System.Object,System.EventArgs)" />
      </Docs>
    </Member>
    <MemberGroup MemberName="GetSecurityToken">
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-298">從指定的要求讀取安全性權杖。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-298">Reads a security token from the specified request.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetSecurityToken">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Tokens.SecurityToken GetSecurityToken (System.IdentityModel.Services.SignInResponseMessage message);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Tokens.SecurityToken GetSecurityToken(class System.IdentityModel.Services.SignInResponseMessage message) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken(System.IdentityModel.Services.SignInResponseMessage)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetSecurityToken (message As SignInResponseMessage) As SecurityToken" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Tokens::SecurityToken ^ GetSecurityToken(System::IdentityModel::Services::SignInResponseMessage ^ message);" />
      <MemberSignature Language="F#" Value="abstract member GetSecurityToken : System.IdentityModel.Services.SignInResponseMessage -&gt; System.IdentityModel.Tokens.SecurityToken&#xA;override this.GetSecurityToken : System.IdentityModel.Services.SignInResponseMessage -&gt; System.IdentityModel.Tokens.SecurityToken" Usage="wSFederationAuthenticationModule.GetSecurityToken message" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SecurityToken</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="message" Type="System.IdentityModel.Services.SignInResponseMessage" />
      </Parameters>
      <Docs>
        <param name="message">
          <span data-ttu-id="876d6-299">從中讀取權杖的登入回應訊息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-299">The sign-in response message from which to read the token.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-300">從指定的 WS 同盟登入回應訊息讀取安全性權杖。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-300">Reads a security token from the specified WS Federation sign-in response message.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="876d6-301">已從訊息讀取的安全性權杖。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-301">The security token that was read from the message.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-302">預設實作會叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetXmlTokenFromMessage%28System.IdentityModel.Services.SignInResponseMessage%2CSystem.IdentityModel.Services.WSFederationSerializer%29?displayProperty=nameWithType>方法來取得權杖，並讀取使用適當的處理常式中設定的安全性權杖處理常式。</span><span class="sxs-lookup"><span data-stu-id="876d6-302">The default implementation invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetXmlTokenFromMessage%28System.IdentityModel.Services.SignInResponseMessage%2CSystem.IdentityModel.Services.WSFederationSerializer%29?displayProperty=nameWithType> method to get the token and reads it by using the appropriate handler from the configured security token handlers.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-303">
            <paramref name="message" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-303">
              <paramref name="message" /> is <see langword="null" />.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="GetSecurityToken">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Tokens.SecurityToken GetSecurityToken (System.Web.HttpRequestBase request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Tokens.SecurityToken GetSecurityToken(class System.Web.HttpRequestBase request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken(System.Web.HttpRequestBase)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetSecurityToken (request As HttpRequestBase) As SecurityToken" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Tokens::SecurityToken ^ GetSecurityToken(System::Web::HttpRequestBase ^ request);" />
      <MemberSignature Language="F#" Value="abstract member GetSecurityToken : System.Web.HttpRequestBase -&gt; System.IdentityModel.Tokens.SecurityToken&#xA;override this.GetSecurityToken : System.Web.HttpRequestBase -&gt; System.IdentityModel.Tokens.SecurityToken" Usage="wSFederationAuthenticationModule.GetSecurityToken request" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SecurityToken</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.Web.HttpRequestBase" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="876d6-304">要從其中讀取語彙基元的 HTTP 要求。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-304">The HTTP request from which to read the token.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-305">從指定的 HTTP 要求讀取安全性權杖。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-305">Reads a security token from the specified HTTP request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="876d6-306">已讀取的安全性權杖。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-306">The security token that was read.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-307">要求處理管線，以取得做為 WS-同盟登入要求訊息從呼叫<xref:System.IdentityModel.Tokens.SecurityToken>物件。</span><span class="sxs-lookup"><span data-stu-id="876d6-307">Called from the request processing pipeline to get the WS-Federation sign-in request message as a <xref:System.IdentityModel.Tokens.SecurityToken> object.</span></span>  
  
 <span data-ttu-id="876d6-308">預設實作會叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSignInResponseMessage%2A>方法來取得<xref:System.IdentityModel.Services.SignInResponseMessage>物件，然後再叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken%28System.IdentityModel.Services.SignInResponseMessage%29?displayProperty=nameWithType>多載。</span><span class="sxs-lookup"><span data-stu-id="876d6-308">The default implementation invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSignInResponseMessage%2A> method to get a <xref:System.IdentityModel.Services.SignInResponseMessage> object and then invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken%28System.IdentityModel.Services.SignInResponseMessage%29?displayProperty=nameWithType> overload.</span></span>  
  
 <span data-ttu-id="876d6-309">您可以使用衍生的類別來解譯特定類型的要求。</span><span class="sxs-lookup"><span data-stu-id="876d6-309">Use a derived class to interpret a specific type of request.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-310">
            <paramref name="request" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-310">
              <paramref name="request" /> is <see langword="null" />.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="GetSessionTokenContext">
      <MemberSignature Language="C#" Value="protected virtual string GetSessionTokenContext ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance string GetSessionTokenContext() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSessionTokenContext" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetSessionTokenContext () As String" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::String ^ GetSessionTokenContext();" />
      <MemberSignature Language="F#" Value="abstract member GetSessionTokenContext : unit -&gt; string&#xA;override this.GetSessionTokenContext : unit -&gt; string" Usage="wSFederationAuthenticationModule.GetSessionTokenContext " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="876d6-311">取得字串，這個值應該與工作階段 cookie 保存在 <see cref="P:System.IdentityModel.Tokens.SessionSecurityToken.Context" /> 屬性中。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-311">Gets a string that should be persisted with the session cookie in the <see cref="P:System.IdentityModel.Tokens.SessionSecurityToken.Context" /> property.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="876d6-312">要保存在工作階段 Cookie 中的字串。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-312">The string to persist in the session cookie.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-313"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSessionTokenContext%2A>處理 WS-同盟登入回應訊息，取得要在儲存的值時，方法從要求處理管線呼叫<xref:System.IdentityModel.Tokens.SessionSecurityToken.Context%2A?displayProperty=nameWithType>屬性內的工作階段 cookie。</span><span class="sxs-lookup"><span data-stu-id="876d6-313">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSessionTokenContext%2A> method is called from the request processing pipeline when processing a WS-Federation sign-in response message to get the value to store in the <xref:System.IdentityModel.Tokens.SessionSecurityToken.Context%2A?displayProperty=nameWithType> property inside the session cookie.</span></span>  
  
 <span data-ttu-id="876d6-314">您可以覆寫這個方法以提供特定應用程式的值儲存在 cookie 中。</span><span class="sxs-lookup"><span data-stu-id="876d6-314">You can override this method to provide an application-specific value to be stored in the cookie.</span></span> <span data-ttu-id="876d6-315">WSFAM 未公開任何方法來擷取 cookie 的值。</span><span class="sxs-lookup"><span data-stu-id="876d6-315">WSFAM does not expose any methods to retrieve the value from the cookie.</span></span> <span data-ttu-id="876d6-316">您必須提供邏輯讀取傳回的 cookie 的值，如果需要在應用程式中。</span><span class="sxs-lookup"><span data-stu-id="876d6-316">You must provide the logic in your application to read the value back from the cookie if it is needed.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-317">
            <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 屬性為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-317">The <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> property is <see langword="null" />.</span>
          </span>
        </exception>
        <altmember cref="P:System.IdentityModel.Tokens.SessionSecurityToken.Context" />
      </Docs>
    </Member>
    <Member MemberName="GetSignInResponseMessage">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Services.SignInResponseMessage GetSignInResponseMessage (System.Web.HttpRequestBase request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Services.SignInResponseMessage GetSignInResponseMessage(class System.Web.HttpRequestBase request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSignInResponseMessage(System.Web.HttpRequestBase)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetSignInResponseMessage (request As HttpRequestBase) As SignInResponseMessage" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Services::SignInResponseMessage ^ GetSignInResponseMessage(System::Web::HttpRequestBase ^ request);" />
      <MemberSignature Language="F#" Value="abstract member GetSignInResponseMessage : System.Web.HttpRequestBase -&gt; System.IdentityModel.Services.SignInResponseMessage&#xA;override this.GetSignInResponseMessage : System.Web.HttpRequestBase -&gt; System.IdentityModel.Services.SignInResponseMessage" Usage="wSFederationAuthenticationModule.GetSignInResponseMessage request" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Services.SignInResponseMessage</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.Web.HttpRequestBase" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="876d6-318">從中讀取登入回應訊息的 HTTP 要求。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-318">The HTTP request from which to read the sign-in response message.</span>
          </span>
          <span data-ttu-id="876d6-319">要求應該會表示表單 POST。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-319">The request should represent a form POST.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-320">從指定的 HTTP 要求所代表的表單 POST 讀取 <see cref="T:System.IdentityModel.Services.SignInResponseMessage" /> 物件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-320">Reads a <see cref="T:System.IdentityModel.Services.SignInResponseMessage" /> object from the form POST represented by the specified HTTP request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="876d6-321">建立的登入回應訊息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-321">The sign-in response message that was created.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-322">從呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken%28System.Web.HttpRequestBase%29?displayProperty=nameWithType>要求處理管線，以取得從表單 POST HTTP 要求中所含的登入回應訊息中的方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-322">Called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken%28System.Web.HttpRequestBase%29?displayProperty=nameWithType> method in the request processing pipeline to get a sign-in response message from the form POST contained in the HTTP request.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-323">
            <paramref name="request" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-323">
              <paramref name="request" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="876d6-324">無法從指定的要求讀取登入回應訊息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-324">A sign-in response message could not be read from the specified request.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="GetSignOutRedirectUrl">
      <MemberSignature Language="C#" Value="protected virtual string GetSignOutRedirectUrl (System.IdentityModel.Services.SignOutCleanupRequestMessage signOutMessage);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance string GetSignOutRedirectUrl(class System.IdentityModel.Services.SignOutCleanupRequestMessage signOutMessage) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSignOutRedirectUrl(System.IdentityModel.Services.SignOutCleanupRequestMessage)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetSignOutRedirectUrl (signOutMessage As SignOutCleanupRequestMessage) As String" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::String ^ GetSignOutRedirectUrl(System::IdentityModel::Services::SignOutCleanupRequestMessage ^ signOutMessage);" />
      <MemberSignature Language="F#" Value="abstract member GetSignOutRedirectUrl : System.IdentityModel.Services.SignOutCleanupRequestMessage -&gt; string&#xA;override this.GetSignOutRedirectUrl : System.IdentityModel.Services.SignOutCleanupRequestMessage -&gt; string" Usage="wSFederationAuthenticationModule.GetSignOutRedirectUrl signOutMessage" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="signOutMessage" Type="System.IdentityModel.Services.SignOutCleanupRequestMessage" />
      </Parameters>
      <Docs>
        <param name="signOutMessage">
          <span data-ttu-id="876d6-325">登出清除要求。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-325">The sign-out clean-up request.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-326">決定處理包含 wreply 參數的 WS-Federation 登出清除要求 (wsignoutcleanup1.0) 時要重新導向到的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-326">Determines the URL to which to redirect when processing a WS-Federation sign-out clean-up request (wsignoutcleanup1.0) that contains a wreply parameter.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="876d6-327">要重新導向的目的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-327">The URL to redirect to.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-328">這個方法從呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%2A>判定之後處理 WS-同盟登出清除要求重新導向至 URL 的要求處理管線中的方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-328">This method is called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%2A> method in the request processing pipeline to determine the URL to redirect to after processing a WS-Federation sign-out clean-up request.</span></span> <span data-ttu-id="876d6-329">它才會叫用如果訊息具有 wreply 參數 (`signOutMessage`參數具有<xref:System.IdentityModel.Services.SignOutCleanupRequestMessage.Reply%2A>，既不是屬性`null`或空白)。</span><span class="sxs-lookup"><span data-stu-id="876d6-329">It is only invoked if the message has a wreply parameter (the `signOutMessage` parameter has a <xref:System.IdentityModel.Services.SignOutCleanupRequestMessage.Reply%2A> property that is neither `null` nor empty).</span></span>  
  
 <span data-ttu-id="876d6-330">預設實作會驗證訊息中包含的回覆 URL (<xref:System.IdentityModel.Services.SignOutCleanupRequestMessage.Reply%2A?displayProperty=nameWithType>屬性) 對安全性權杖服務 (STS) 所指定的位址<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-330">The default implementation validates the reply URL contained in the message (the <xref:System.IdentityModel.Services.SignOutCleanupRequestMessage.Reply%2A?displayProperty=nameWithType> property) against the address of the security token service (STS) that is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span> <span data-ttu-id="876d6-331">下列條件必須是有效的回覆 url，則為 true:</span><span class="sxs-lookup"><span data-stu-id="876d6-331">The following conditions must be true for the reply URL to be valid:</span></span>  
  
1.  <span data-ttu-id="876d6-332">回覆 URL 是絕對 URL。</span><span class="sxs-lookup"><span data-stu-id="876d6-332">The reply URL is an absolute URL.</span></span>  
  
2.  <span data-ttu-id="876d6-333">回覆 URL 有簽發者相同的結構描述。</span><span class="sxs-lookup"><span data-stu-id="876d6-333">The reply URL has the same scheme as the issuer.</span></span>  
  
3.  <span data-ttu-id="876d6-334">回覆 URL 有簽發者相同的通訊埠。</span><span class="sxs-lookup"><span data-stu-id="876d6-334">The reply URL has the same port as the issuer.</span></span>  
  
4.  <span data-ttu-id="876d6-335">回覆 URL 已簽發者相同的主控件，或回覆 URL 指定簽發者的子網域。</span><span class="sxs-lookup"><span data-stu-id="876d6-335">Either the reply URL has the same host as the issuer or the reply URL specifies a sub-domain of the issuer.</span></span>  
  
 <span data-ttu-id="876d6-336">如果下列所有條件都不成立，就會傳回回覆 URL （回覆）;否則，根據指定的 URL<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>會傳回屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-336">If all of these conditions are true, the reply URL (Reply) is returned; otherwise, the URL specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property is returned.</span></span>  
  
 <span data-ttu-id="876d6-337">覆寫這個方法以提供額外的驗證回覆 URL。</span><span class="sxs-lookup"><span data-stu-id="876d6-337">Override this method to provide additional validation for the reply URL.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="876d6-338">
            <paramref name="signOutMessage" /> 具有 <see cref="P:System.IdentityModel.Services.SignOutCleanupRequestMessage.Reply" /> 屬性，此屬性為 <see langword="null" /> 或空的。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-338">
              <paramref name="signOutMessage" /> has a <see cref="P:System.IdentityModel.Services.SignOutCleanupRequestMessage.Reply" /> property that is <see langword="null" /> or empty.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-339">
            <paramref name="signOutMessage" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-339">
              <paramref name="signOutMessage" /> is <see langword="null" />.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="GetXmlTokenFromMessage">
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-340">從指定的 WS 同盟登入回應訊息擷取發行的權杖。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-340">Extracts the issued token from the specified WS-Federation sign-in response message.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="GetXmlTokenFromMessage">
      <MemberSignature Language="C#" Value="public virtual string GetXmlTokenFromMessage (System.IdentityModel.Services.SignInResponseMessage message);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string GetXmlTokenFromMessage(class System.IdentityModel.Services.SignInResponseMessage message) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetXmlTokenFromMessage(System.IdentityModel.Services.SignInResponseMessage)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetXmlTokenFromMessage (message As SignInResponseMessage) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::String ^ GetXmlTokenFromMessage(System::IdentityModel::Services::SignInResponseMessage ^ message);" />
      <MemberSignature Language="F#" Value="abstract member GetXmlTokenFromMessage : System.IdentityModel.Services.SignInResponseMessage -&gt; string&#xA;override this.GetXmlTokenFromMessage : System.IdentityModel.Services.SignInResponseMessage -&gt; string" Usage="wSFederationAuthenticationModule.GetXmlTokenFromMessage message" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="message" Type="System.IdentityModel.Services.SignInResponseMessage" />
      </Parameters>
      <Docs>
        <param name="message">
          <span data-ttu-id="876d6-341">要從中擷取權杖的登入回應訊息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-341">The sign-in response message to extract the token from.</span>
          </span>
          <span data-ttu-id="876d6-342">登入回應會包含 STS 簽發的權杖。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-342">The sign-in response contains the token issued by the STS.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-343">從指定的 WS 同盟登入回應訊息擷取發行的權杖。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-343">Extracts the issued token from the specified WS-Federation sign-in response message.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="876d6-344">字串，包含表示已發佈之語彙基元的 XML。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-344">A string that contains the XML that represents the issued token.</span>
          </span>
          <span data-ttu-id="876d6-345">這是 <see langword="&lt;wst:RequestSecurityTokenResponse&gt;" /> 項目。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-345">This is a <see langword="&lt;wst:RequestSecurityTokenResponse&gt;" /> element.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-346">如果登入回應訊息中，沒有 wresult 參數<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReferencedResult%2A>呼叫方法，嘗試取得權杖使用 wresultptr 參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-346">If there is no wresult parameter in the sign-in response message, the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReferencedResult%2A> method is called to try to get the token using the wresultptr parameter.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-347">
            <paramref name="message" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-347">
              <paramref name="message" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="876d6-348">
            <paramref name="message" /> 不包含語彙基元。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-348">
              <paramref name="message" /> does not contain a token.</span>
          </span>
          <span data-ttu-id="876d6-349">(它不會包含有效的 wresult 或 wresultptr 參數)。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-349">(It does not contain a valid wresult or wresultptr parameter.)</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="GetXmlTokenFromMessage">
      <MemberSignature Language="C#" Value="public virtual string GetXmlTokenFromMessage (System.IdentityModel.Services.SignInResponseMessage message, System.IdentityModel.Services.WSFederationSerializer federationSerializer);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string GetXmlTokenFromMessage(class System.IdentityModel.Services.SignInResponseMessage message, class System.IdentityModel.Services.WSFederationSerializer federationSerializer) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.GetXmlTokenFromMessage(System.IdentityModel.Services.SignInResponseMessage,System.IdentityModel.Services.WSFederationSerializer)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function GetXmlTokenFromMessage (message As SignInResponseMessage, federationSerializer As WSFederationSerializer) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::String ^ GetXmlTokenFromMessage(System::IdentityModel::Services::SignInResponseMessage ^ message, System::IdentityModel::Services::WSFederationSerializer ^ federationSerializer);" />
      <MemberSignature Language="F#" Value="abstract member GetXmlTokenFromMessage : System.IdentityModel.Services.SignInResponseMessage * System.IdentityModel.Services.WSFederationSerializer -&gt; string&#xA;override this.GetXmlTokenFromMessage : System.IdentityModel.Services.SignInResponseMessage * System.IdentityModel.Services.WSFederationSerializer -&gt; string" Usage="wSFederationAuthenticationModule.GetXmlTokenFromMessage (message, federationSerializer)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="message" Type="System.IdentityModel.Services.SignInResponseMessage" />
        <Parameter Name="federationSerializer" Type="System.IdentityModel.Services.WSFederationSerializer" />
      </Parameters>
      <Docs>
        <param name="message">
          <span data-ttu-id="876d6-350">要從中擷取權杖的登入回應訊息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-350">The sign-in response message to extract the token from.</span>
          </span>
          <span data-ttu-id="876d6-351">登入回應會包含 STS 簽發的權杖。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-351">The sign-in response contains the token issued by the STS.</span>
          </span>
        </param>
        <param name="federationSerializer">
          <span data-ttu-id="876d6-352">要用來還原序列化登入回應訊息的 WS-同盟序列化程式。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-352">The WS-Federation serializer to use to de-serialize the sign-in response message.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-353">使用指定的 WS-同盟序列化程式，從指定的 WS-同盟登入回應訊息中擷取發行的權杖。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-353">Extracts the issued token from the specified WS-Federation sign-in response message by using the specified WS-Federation serializer.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="876d6-354">字串，包含表示已發佈之語彙基元的 XML。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-354">A string that contains the XML that represents the issued token.</span>
          </span>
          <span data-ttu-id="876d6-355">這是 <see langword="&lt;wst:RequestSecurityTokenResponse&gt;" /> 項目。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-355">This is a <see langword="&lt;wst:RequestSecurityTokenResponse&gt;" /> element.</span>
          </span>
        </returns>
        <remarks>To be added.</remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-356">
            <paramref name="message" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-356">
              <paramref name="message" /> is <see langword="null" />.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="HomeRealm">
      <MemberSignature Language="C#" Value="public string HomeRealm { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string HomeRealm" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.HomeRealm" />
      <MemberSignature Language="VB.NET" Value="Public Property HomeRealm As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ HomeRealm { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.HomeRealm : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.HomeRealm" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-357">取得或設定要在 WS-同盟登入要求 ("wsignin1.0") 中使用的 whr 參數值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-357">Gets or sets the value of the whr parameter to use in WS-Federation sign-in requests ("wsignin1.0").</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-358">識別提供者的位址。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-358">The address of the identity provider.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-359">Whr 參數是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="876d6-359">The whr parameter is optional.</span></span> <span data-ttu-id="876d6-360">如果<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.HomeRealm%2A>屬性設定為`null`或登入要求中未包含空字串，whr 參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-360">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.HomeRealm%2A> property is set to `null` or an empty string, the whr parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="876d6-361">您可以藉由新增的處理常式覆寫這項設定在每個 HTTP 要求<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-361">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="876d6-362">只在模組重新導向至與 WS-同盟登入要求訊息的安全性權杖服務 (STS) 之前，會引發這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-362">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="876d6-363">所指定 STS<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-363">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="InitializeModule">
      <MemberSignature Language="C#" Value="protected override void InitializeModule (System.Web.HttpApplication context);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void InitializeModule(class System.Web.HttpApplication context) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.InitializeModule(System.Web.HttpApplication)" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Sub InitializeModule (context As HttpApplication)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void InitializeModule(System::Web::HttpApplication ^ context);" />
      <MemberSignature Language="F#" Value="override this.InitializeModule : System.Web.HttpApplication -&gt; unit" Usage="wSFederationAuthenticationModule.InitializeModule context" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpApplication" />
      </Parameters>
      <Docs>
        <param name="context">
          <span data-ttu-id="876d6-364">包含這個模組的 HTTP 應用程式物件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-364">The HTTP application object that contains this module.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-365">初始化模組，並準備模組以處理來自模組之 [!INCLUDE[vstecasp] (~/includes/vstecasp-md.md)] 應用程式物件的事件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-365">Initializes the module and prepares it to handle events from the module's [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] application object.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-366">將根據下表的 ASP.NET 管線事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="876d6-366">Adds handlers for ASP.NET pipeline events according to the following table.</span></span>  
  
|<span data-ttu-id="876d6-367">Event - 事件</span><span class="sxs-lookup"><span data-stu-id="876d6-367">Event</span></span>|<span data-ttu-id="876d6-368">處理常式</span><span class="sxs-lookup"><span data-stu-id="876d6-368">Handler</span></span>|  
|-----------|-------------|  
|<xref:System.Web.HttpApplication.AuthenticateRequest?displayProperty=nameWithType>|<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A>|  
|<xref:System.Web.HttpApplication.EndRequest?displayProperty=nameWithType>|<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest%2A>|  
|<xref:System.Web.HttpApplication.PostAuthenticateRequest?displayProperty=nameWithType>|<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnPostAuthenticateRequest%2A>|  
  
> [!NOTE]
>  <span data-ttu-id="876d6-369">模組屬性，例如<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>，初始化自<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.InitializePropertiesFromConfiguration%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-369">The module properties, such as <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> , are initialized from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.InitializePropertiesFromConfiguration%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-370">
            <paramref name="context" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-370">
              <paramref name="context" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.InitializePropertiesFromConfiguration" />
      </Docs>
    </Member>
    <Member MemberName="InitializePropertiesFromConfiguration">
      <MemberSignature Language="C#" Value="protected override void InitializePropertiesFromConfiguration ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void InitializePropertiesFromConfiguration() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.InitializePropertiesFromConfiguration" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Sub InitializePropertiesFromConfiguration ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void InitializePropertiesFromConfiguration();" />
      <MemberSignature Language="F#" Value="override this.InitializePropertiesFromConfiguration : unit -&gt; unit" Usage="wSFederationAuthenticationModule.InitializePropertiesFromConfiguration " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="876d6-371">根據模組的 <see cref="P:System.IdentityModel.Services.HttpModuleBase.FederationConfiguration" /> 屬性所指定的組態，初始化模組屬性。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-371">Initializes the module properties based on the configuration specified by the <see cref="P:System.IdentityModel.Services.HttpModuleBase.FederationConfiguration" /> property of the module.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-372">模組屬性會使用對等的屬性初始化<xref:System.IdentityModel.Services.Configuration.WsFederationConfiguration>所指定物件<xref:System.IdentityModel.Services.Configuration.FederationConfiguration.WsFederationConfiguration%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-372">Module properties are initialized using the equivalent properties of the <xref:System.IdentityModel.Services.Configuration.WsFederationConfiguration> object specified by the <xref:System.IdentityModel.Services.Configuration.FederationConfiguration.WsFederationConfiguration%2A?displayProperty=nameWithType> property.</span></span>  
  
 <span data-ttu-id="876d6-373">您可以透過組態檔中指定設定[ &lt;wsFederation&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation.md)項目。</span><span class="sxs-lookup"><span data-stu-id="876d6-373">You can specify settings in a configuration file through the [&lt;wsFederation&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation.md) element.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="IsSignInResponse">
      <MemberSignature Language="C#" Value="public virtual bool IsSignInResponse (System.Web.HttpRequestBase request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance bool IsSignInResponse(class System.Web.HttpRequestBase request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.IsSignInResponse(System.Web.HttpRequestBase)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function IsSignInResponse (request As HttpRequestBase) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual bool IsSignInResponse(System::Web::HttpRequestBase ^ request);" />
      <MemberSignature Language="F#" Value="abstract member IsSignInResponse : System.Web.HttpRequestBase -&gt; bool&#xA;override this.IsSignInResponse : System.Web.HttpRequestBase -&gt; bool" Usage="wSFederationAuthenticationModule.IsSignInResponse request" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.Web.HttpRequestBase" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="876d6-374">連入的 HTTP 要求。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-374">The incoming HTTP request.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-375">取得值，指出指定的要求是否為 WS-Federation 登入回應訊息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-375">Gets a value that indicates whether the specified request is a WS-Federation sign-in response message.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="876d6-376">如果要求是 WS-Federation 登入回應訊息，則為 <see langword="true" />，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-376">
              <see langword="true" /> if the request is a WS-Federation sign-in response message; otherwise <see langword="false" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-377">這個方法從呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%2A>要求處理管線，以判斷連入 HTTP 要求是否為 WS-同盟登入回應訊息中的方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-377">This method is called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%2A> method in the request processing pipeline to determine whether the incoming HTTP request is a WS-Federation sign-in response message.</span></span>  
  
 <span data-ttu-id="876d6-378">預設實作會傳回`true`如果 wa 參數是"wsignin1.0 」 和 wreq，且不能同時設定 wreqptr 參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-378">The default implementation returns `true` if the wa parameter is "wsignin1.0" and the wreq and wreqptr parameters are not both set.</span></span>  
  
 <span data-ttu-id="876d6-379">您可以覆寫這個方法在衍生類別來執行額外的驗證。</span><span class="sxs-lookup"><span data-stu-id="876d6-379">You can override this method in derived classes to perform additional validation.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-380">
            <paramref name="request" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-380">
              <paramref name="request" /> is <see langword="null" />.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="Issuer">
      <MemberSignature Language="C#" Value="public string Issuer { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Issuer" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" />
      <MemberSignature Language="VB.NET" Value="Public Property Issuer As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Issuer { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Issuer : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-381">取得或設定 URI，識別想要的安全性權杖簽發者。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-381">Gets or sets a URI that identifies the intended issuer of the security token.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-382">會識別安全性權杖服務 (STS) 的 URI。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-382">The URI that identifies the security token service (STS).</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-383">這是必要的屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-383">This is a required property.</span></span> <span data-ttu-id="876d6-384">如果啟用被動重新導向，則必須設定。</span><span class="sxs-lookup"><span data-stu-id="876d6-384">It must be set if passive redirects are enabled.</span></span> <span data-ttu-id="876d6-385">它會指定 WS-同盟要求應該發行安全性權杖服務 (STS) 的 URL。</span><span class="sxs-lookup"><span data-stu-id="876d6-385">It specifies the URL of the security token service (STS) to which WS-Federation requests should be issued.</span></span>  
  
 <span data-ttu-id="876d6-386">您可以藉由新增的處理常式覆寫這項設定在每個 HTTP 要求<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-386">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="876d6-387">只在模組重新導向至與 WS-同盟登入要求訊息的安全性權杖服務 (STS) 之前，會引發這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-387">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="876d6-388">所指定 STS<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-388">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="876d6-389">嘗試將屬性設為 <see langword="null" /> 或空字串。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-389">An attempt to set the property to <see langword="null" /> or an empty string occurs.</span>
          </span>
          <span data-ttu-id="876d6-390">-或-  嘗試將屬性值設定為無效絕對 URI 的值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-390">-or-  An attempt to set the property to a value that is not a valid, absolute URI occurs.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="OnAuthenticateRequest">
      <MemberSignature Language="C#" Value="protected virtual void OnAuthenticateRequest (object sender, EventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnAuthenticateRequest(object sender, class System.EventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest(System.Object,System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnAuthenticateRequest (sender As Object, args As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnAuthenticateRequest(System::Object ^ sender, EventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnAuthenticateRequest : obj * EventArgs -&gt; unit&#xA;override this.OnAuthenticateRequest : obj * EventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnAuthenticateRequest (sender, args)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sender" Type="System.Object" />
        <Parameter Name="args" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="sender">
          <span data-ttu-id="876d6-391">事件的來源。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-391">The source for the event.</span>
          </span>
          <span data-ttu-id="876d6-392">這個將會是 <see cref="T:System.Web.HttpApplication" /> 物件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-392">This will be an <see cref="T:System.Web.HttpApplication" /> object.</span>
          </span>
        </param>
        <param name="args">
          <span data-ttu-id="876d6-393">事件的資料。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-393">The data for the event.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-394">處理來自 [!INCLUDE[vstecasp] (~/includes/vstecasp-md.md)] 管線的 <see cref="E:System.Web.HttpApplication.AuthenticateRequest" /> 事件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-394">Handles the <see cref="E:System.Web.HttpApplication.AuthenticateRequest" /> event from the [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] pipeline.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-395"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A>方法會實作 WS-同盟要求處理管線。</span><span class="sxs-lookup"><span data-stu-id="876d6-395">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> method implements the WS-Federation request processing pipeline.</span></span> <span data-ttu-id="876d6-396">它會加入至<xref:System.Web.HttpApplication.AuthenticateRequest?displayProperty=nameWithType>中的事件[!INCLUDE[vstecasp](~/includes/vstecasp-md.md)]由管線<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.InitializeModule%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-396">It is added to the <xref:System.Web.HttpApplication.AuthenticateRequest?displayProperty=nameWithType> event in the [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] pipeline by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.InitializeModule%2A> method.</span></span>  
  
 <span data-ttu-id="876d6-397">此方法會執行下列作業：</span><span class="sxs-lookup"><span data-stu-id="876d6-397">The method performs the following:</span></span>  
  
1.  <span data-ttu-id="876d6-398">呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%29>方法，以判斷是否已經接收到的 WS-同盟登入回應訊息 (「 wsignin1.0")。</span><span class="sxs-lookup"><span data-stu-id="876d6-398">Calls the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%29> method to determine whether a WS-Federation sign-in response message ("wsignin1.0") has been received.</span></span> <span data-ttu-id="876d6-399">如果回應的 WS-同盟登出清除要求 (「 wsignoutcleanup1.0 」)<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%29>處理訊息，終止要求，並在要求中的 WS-同盟參數根據用戶端重新導向。</span><span class="sxs-lookup"><span data-stu-id="876d6-399">If the response is a WS-Federation sign-out clean-up request ("wsignoutcleanup1.0"), <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%29> processes the message, terminates the request and redirects the client according to the WS-Federation parameters in the request.</span></span> <span data-ttu-id="876d6-400">如果訊息不是登入回應或登出清除要求中，模組只會傳回。否則，它會執行下列步驟來處理登入回應。</span><span class="sxs-lookup"><span data-stu-id="876d6-400">If the message is not a sign-in response or a sign-out clean-up request, the module just returns; otherwise it performs the following steps to process the sign-in response.</span></span>  
  
2.  <span data-ttu-id="876d6-401">呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken%28System.Web.HttpRequestBase%29>方法還原序列化<xref:System.IdentityModel.Tokens.SecurityToken>從要求的物件。</span><span class="sxs-lookup"><span data-stu-id="876d6-401">Calls the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetSecurityToken%28System.Web.HttpRequestBase%29> method to deserialize a <xref:System.IdentityModel.Tokens.SecurityToken> object from the request.</span></span>  
  
3.  <span data-ttu-id="876d6-402">引發 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenReceived> 事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-402">Raises the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenReceived> event.</span></span> <span data-ttu-id="876d6-403">您可以取消進一步處理，或修改此事件處理常式中接收的安全性權杖。</span><span class="sxs-lookup"><span data-stu-id="876d6-403">You can cancel further processing or modify the received security token in a handler for this event.</span></span> <span data-ttu-id="876d6-404">處理常式通常用來修改<xref:System.IdentityModel.Tokens.SecurityToken.ValidFrom%2A?displayProperty=nameWithType>或<xref:System.IdentityModel.Tokens.SecurityToken.ValidTo%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-404">A handler is typically used to modify the <xref:System.IdentityModel.Tokens.SecurityToken.ValidFrom%2A?displayProperty=nameWithType> or <xref:System.IdentityModel.Tokens.SecurityToken.ValidTo%2A?displayProperty=nameWithType> properties.</span></span>  
  
4.  <span data-ttu-id="876d6-405">驗證安全性權杖，並建立<xref:System.Security.Claims.ClaimsPrincipal>從安全性權杖中宣告的物件。</span><span class="sxs-lookup"><span data-stu-id="876d6-405">Validates the security token and creates a <xref:System.Security.Claims.ClaimsPrincipal> object from the claims in the security token.</span></span>  
  
5.  <span data-ttu-id="876d6-406">引發 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenValidated> 事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-406">Raises the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenValidated> event.</span></span> <span data-ttu-id="876d6-407">您可以取消進一步處理，或修改此事件處理常式中的宣告主體。</span><span class="sxs-lookup"><span data-stu-id="876d6-407">You can cancel further processing or modify the claims principal in a handler for this event.</span></span>  
  
6.  <span data-ttu-id="876d6-408">若要建立使用設定的工作階段驗證模組 (SAM)<xref:System.IdentityModel.Tokens.SessionSecurityToken>物件。</span><span class="sxs-lookup"><span data-stu-id="876d6-408">Uses the configured session authentication module (SAM) to create a <xref:System.IdentityModel.Tokens.SessionSecurityToken> object.</span></span> <span data-ttu-id="876d6-409">(在設定 sam<xref:System.IdentityModel.Services.SessionAuthenticationModule>所傳回物件<xref:System.IdentityModel.Services.FederatedAuthentication.SessionAuthenticationModule%2A?displayProperty=nameWithType>屬性。)使用在步驟 5 中所傳回宣告主體建立的工作階段權杖。</span><span class="sxs-lookup"><span data-stu-id="876d6-409">(The configured SAM is the <xref:System.IdentityModel.Services.SessionAuthenticationModule> object returned by the <xref:System.IdentityModel.Services.FederatedAuthentication.SessionAuthenticationModule%2A?displayProperty=nameWithType> property.) The session token is created by using the claims principal returned in step 5.</span></span> <span data-ttu-id="876d6-410"><xref:System.IdentityModel.Tokens.SessionSecurityToken.ValidFrom%2A?displayProperty=nameWithType>和<xref:System.IdentityModel.Tokens.SessionSecurityToken.ValidTo%2A?displayProperty=nameWithType>屬性使用設定的<xref:System.IdentityModel.Tokens.SecurityToken.ValidFrom%2A>和<xref:System.IdentityModel.Tokens.SecurityToken.ValidTo%2A>屬性<xref:System.IdentityModel.Tokens.SecurityToken>在步驟 3 傳回與目前時間與任一所指定的權杖存留期會驗證<xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler.DefaultTokenLifetime%2A>或<xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler.TokenLifetime%2A>屬性<xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler>WSFAM 正在使用的語彙基元處理常式集合中的物件。</span><span class="sxs-lookup"><span data-stu-id="876d6-410">The <xref:System.IdentityModel.Tokens.SessionSecurityToken.ValidFrom%2A?displayProperty=nameWithType> and <xref:System.IdentityModel.Tokens.SessionSecurityToken.ValidTo%2A?displayProperty=nameWithType> properties are set by using the <xref:System.IdentityModel.Tokens.SecurityToken.ValidFrom%2A> and <xref:System.IdentityModel.Tokens.SecurityToken.ValidTo%2A> properties of the <xref:System.IdentityModel.Tokens.SecurityToken> returned in step 3 and are validated against the current time and the token lifetime specified by either the <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler.DefaultTokenLifetime%2A> or the <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler.TokenLifetime%2A> property of the <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler> object in the token handler collection being used by WSFAM.</span></span> <span data-ttu-id="876d6-411">權杖存留期在工作階段權杖處理常式可以透過組態中指定[ &lt;sessionTokenRequirement&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/sessiontokenrequirement.md)項目。</span><span class="sxs-lookup"><span data-stu-id="876d6-411">The token lifetime on the session token handler can be specified in configuration through the [&lt;sessionTokenRequirement&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/sessiontokenrequirement.md) element.</span></span> <span data-ttu-id="876d6-412">注意：<xref:System.IdentityModel.Services.CookieHandler.PersistentSessionLifetime%2A>屬性上設定不會使用 SAM cookie 處理常式。</span><span class="sxs-lookup"><span data-stu-id="876d6-412">Note: The <xref:System.IdentityModel.Services.CookieHandler.PersistentSessionLifetime%2A> property on the cookie handler configured for the SAM is not used.</span></span>  
  
7.  <span data-ttu-id="876d6-413">呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SetPrincipalAndWriteSessionToken%2A>方法包含用來撰寫工作階段 cookie 工作階段 token。</span><span class="sxs-lookup"><span data-stu-id="876d6-413">Calls the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SetPrincipalAndWriteSessionToken%2A> method with the session token to write the session cookie.</span></span> <span data-ttu-id="876d6-414"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SetPrincipalAndWriteSessionToken%2A>第一個方法會引發<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-414">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SetPrincipalAndWriteSessionToken%2A> method first raises the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated> event.</span></span> <span data-ttu-id="876d6-415">您可以變更工作階段權杖上的屬性，或變更是否應該保存 cookie，此事件處理常式中。</span><span class="sxs-lookup"><span data-stu-id="876d6-415">You can change properties on the session token or change whether the cookie should be persisted in a handler for this event.</span></span> <span data-ttu-id="876d6-416">引發事件之後，方法會再寫入使用 SAM 的 cookie。</span><span class="sxs-lookup"><span data-stu-id="876d6-416">After the event is raised, the method then writes the cookie using the SAM.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="876d6-417"><xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler>組態的設定不會用來撰寫 cookie。</span><span class="sxs-lookup"><span data-stu-id="876d6-417">The <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler> set in configuration is not used to write the cookie.</span></span>  
  
8.  <span data-ttu-id="876d6-418">呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedIn%2A>方法，以引發<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedIn>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-418">Calls the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedIn%2A> method to raise the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedIn> event.</span></span>  
  
9. <span data-ttu-id="876d6-419">呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReturnUrlFromResponse%2A>方法來取得要用戶端重新導向至 [RP] 頁面。</span><span class="sxs-lookup"><span data-stu-id="876d6-419">Calls the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetReturnUrlFromResponse%2A> method to get the RP page to which to redirect the client.</span></span> <span data-ttu-id="876d6-420">根據預設，這個方法會讀取 wctx 參數，在登入回應中傳回的 URL。</span><span class="sxs-lookup"><span data-stu-id="876d6-420">By default, this method reads the return URL from the wctx parameter in the sign-in response.</span></span> <span data-ttu-id="876d6-421">如需如何 WSFAM 儲存傳回 URL 的詳細資訊，請參閱<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-421">For more information about how WSFAM stores the return URL, see the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnAuthorizationFailed">
      <MemberSignature Language="C#" Value="protected virtual void OnAuthorizationFailed (System.IdentityModel.Services.AuthorizationFailedEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnAuthorizationFailed(class System.IdentityModel.Services.AuthorizationFailedEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthorizationFailed(System.IdentityModel.Services.AuthorizationFailedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnAuthorizationFailed (e As AuthorizationFailedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnAuthorizationFailed(System::IdentityModel::Services::AuthorizationFailedEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnAuthorizationFailed : System.IdentityModel.Services.AuthorizationFailedEventArgs -&gt; unit&#xA;override this.OnAuthorizationFailed : System.IdentityModel.Services.AuthorizationFailedEventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnAuthorizationFailed e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.IdentityModel.Services.AuthorizationFailedEventArgs" />
      </Parameters>
      <Docs>
        <param name="e">
          <span data-ttu-id="876d6-422">事件的資料。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-422">The data for the event.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-423">引發 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed" /> 事件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-423">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed" /> event.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-424">從呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest%2A>授權失敗時，事件處理常式委派。</span><span class="sxs-lookup"><span data-stu-id="876d6-424">Called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest%2A> event-handler delegate when authorization has failed.</span></span>  
  
 <span data-ttu-id="876d6-425">初始化<xref:System.IdentityModel.Services.AuthorizationFailedEventArgs.RedirectToIdentityProvider%2A?displayProperty=nameWithType>屬性引發之前<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed>事件以避免循環的重新導向，如果使用者已經過驗證。</span><span class="sxs-lookup"><span data-stu-id="876d6-425">Initializes the <xref:System.IdentityModel.Services.AuthorizationFailedEventArgs.RedirectToIdentityProvider%2A?displayProperty=nameWithType> property before raising the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.AuthorizationFailed> event to prevent circular redirects if the user has already been authenticated.</span></span> <span data-ttu-id="876d6-426">如果使用者已經過驗證，屬性會初始化為`false`若要避免重新導向; 否則它會初始化為`true`。</span><span class="sxs-lookup"><span data-stu-id="876d6-426">If the user is already authenticated, the property is initialized to `false` to prevent redirects; otherwise, it is initialized to `true`.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnEndRequest">
      <MemberSignature Language="C#" Value="protected virtual void OnEndRequest (object sender, EventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnEndRequest(object sender, class System.EventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest(System.Object,System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnEndRequest (sender As Object, args As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnEndRequest(System::Object ^ sender, EventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnEndRequest : obj * EventArgs -&gt; unit&#xA;override this.OnEndRequest : obj * EventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnEndRequest (sender, args)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sender" Type="System.Object" />
        <Parameter Name="args" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="sender">
          <span data-ttu-id="876d6-427">事件的來源。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-427">The source for the event.</span>
          </span>
          <span data-ttu-id="876d6-428">這個將會是 <see cref="T:System.Web.HttpApplication" /> 物件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-428">This will be an <see cref="T:System.Web.HttpApplication" /> object.</span>
          </span>
        </param>
        <param name="args">
          <span data-ttu-id="876d6-429">事件的資料。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-429">The data for the event.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-430">處理來自 [!INCLUDE[vstecasp] (~/includes/vstecasp-md.md)] 管線的 <see cref="E:System.Web.HttpApplication.EndRequest" /> 事件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-430">Handles the <see cref="E:System.Web.HttpApplication.EndRequest" /> event from the [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] pipeline.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-431">事件會被忽略，除非<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A>屬性是`true`。</span><span class="sxs-lookup"><span data-stu-id="876d6-431">The event is ignored unless the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A> property is `true`.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnPostAuthenticateRequest">
      <MemberSignature Language="C#" Value="protected virtual void OnPostAuthenticateRequest (object sender, EventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnPostAuthenticateRequest(object sender, class System.EventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnPostAuthenticateRequest(System.Object,System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnPostAuthenticateRequest (sender As Object, e As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnPostAuthenticateRequest(System::Object ^ sender, EventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnPostAuthenticateRequest : obj * EventArgs -&gt; unit&#xA;override this.OnPostAuthenticateRequest : obj * EventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnPostAuthenticateRequest (sender, e)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sender" Type="System.Object" />
        <Parameter Name="e" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="sender">
          <span data-ttu-id="876d6-432">事件的來源。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-432">The source for the event.</span>
          </span>
          <span data-ttu-id="876d6-433">這個將會是 <see cref="T:System.Web.HttpApplication" /> 物件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-433">This will be an <see cref="T:System.Web.HttpApplication" /> object.</span>
          </span>
        </param>
        <param name="e">
          <span data-ttu-id="876d6-434">事件的資料。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-434">The data for the event.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-435">處理來自 [!INCLUDE[vstecasp] (~/includes/vstecasp-md.md)] 管線的 <see cref="E:System.Web.HttpApplication.PostAuthenticateRequest" /> 事件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-435">Handles the <see cref="E:System.Web.HttpApplication.PostAuthenticateRequest" /> event from the [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] pipeline.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-436">根據預設，這會是空的處理常式。</span><span class="sxs-lookup"><span data-stu-id="876d6-436">By default, this is an empty handler.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnRedirectingToIdentityProvider">
      <MemberSignature Language="C#" Value="protected virtual void OnRedirectingToIdentityProvider (System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnRedirectingToIdentityProvider(class System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnRedirectingToIdentityProvider(System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnRedirectingToIdentityProvider (e As RedirectingToIdentityProviderEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnRedirectingToIdentityProvider(System::IdentityModel::Services::RedirectingToIdentityProviderEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnRedirectingToIdentityProvider : System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs -&gt; unit&#xA;override this.OnRedirectingToIdentityProvider : System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnRedirectingToIdentityProvider e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs" />
      </Parameters>
      <Docs>
        <param name="e">
          <span data-ttu-id="876d6-437">事件的資料。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-437">The data for the event.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-438">引發 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider" /> 事件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-438">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider" /> event.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="OnSessionSecurityTokenCreated">
      <MemberSignature Language="C#" Value="protected virtual void OnSessionSecurityTokenCreated (System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSessionSecurityTokenCreated(class System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSessionSecurityTokenCreated(System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSessionSecurityTokenCreated (args As SessionSecurityTokenCreatedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSessionSecurityTokenCreated(System::IdentityModel::Services::SessionSecurityTokenCreatedEventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnSessionSecurityTokenCreated : System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs -&gt; unit&#xA;override this.OnSessionSecurityTokenCreated : System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnSessionSecurityTokenCreated args" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="args" Type="System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs" />
      </Parameters>
      <Docs>
        <param name="args">
          <span data-ttu-id="876d6-439">事件的資料。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-439">The data for the event.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-440">引發 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated" /> 事件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-440">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated" /> event.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="OnSignedIn">
      <MemberSignature Language="C#" Value="protected virtual void OnSignedIn (EventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSignedIn(class System.EventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedIn(System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSignedIn (args As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSignedIn(EventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnSignedIn : EventArgs -&gt; unit&#xA;override this.OnSignedIn : EventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnSignedIn args" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="args" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="args">
          <span data-ttu-id="876d6-441">事件的資料。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-441">The data for the event.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-442">引發 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedIn" /> 事件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-442">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedIn" /> event.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="OnSignedOut">
      <MemberSignature Language="C#" Value="protected virtual void OnSignedOut (EventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSignedOut(class System.EventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedOut(System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSignedOut (args As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSignedOut(EventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnSignedOut : EventArgs -&gt; unit&#xA;override this.OnSignedOut : EventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnSignedOut args" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="args" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="args">
          <span data-ttu-id="876d6-443">事件的資料。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-443">The data for the event.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-444">引發 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut" /> 事件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-444">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut" /> event.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-445">從呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType>方法之後的工作階段遭到刪除。</span><span class="sxs-lookup"><span data-stu-id="876d6-445">Called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method just after the session is deleted.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut(System.Boolean)" />
      </Docs>
    </Member>
    <Member MemberName="OnSignInError">
      <MemberSignature Language="C#" Value="protected virtual void OnSignInError (System.IdentityModel.Services.ErrorEventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSignInError(class System.IdentityModel.Services.ErrorEventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignInError(System.IdentityModel.Services.ErrorEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSignInError (args As ErrorEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSignInError(System::IdentityModel::Services::ErrorEventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnSignInError : System.IdentityModel.Services.ErrorEventArgs -&gt; unit&#xA;override this.OnSignInError : System.IdentityModel.Services.ErrorEventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnSignInError args" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="args" Type="System.IdentityModel.Services.ErrorEventArgs" />
      </Parameters>
      <Docs>
        <param name="args">
          <span data-ttu-id="876d6-446">事件的資料。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-446">The data for the event.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-447">引發 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInError" /> 事件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-447">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInError" /> event.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="OnSigningOut">
      <MemberSignature Language="C#" Value="protected virtual void OnSigningOut (System.IdentityModel.Services.SigningOutEventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSigningOut(class System.IdentityModel.Services.SigningOutEventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSigningOut(System.IdentityModel.Services.SigningOutEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSigningOut (args As SigningOutEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSigningOut(System::IdentityModel::Services::SigningOutEventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnSigningOut : System.IdentityModel.Services.SigningOutEventArgs -&gt; unit&#xA;override this.OnSigningOut : System.IdentityModel.Services.SigningOutEventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnSigningOut args" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="args" Type="System.IdentityModel.Services.SigningOutEventArgs" />
      </Parameters>
      <Docs>
        <param name="args">
          <span data-ttu-id="876d6-448">事件的資料。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-448">The data for the event.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-449">引發 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut" /> 事件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-449">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut" /> event.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-450">從呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType>方法之前工作階段遭到刪除。</span><span class="sxs-lookup"><span data-stu-id="876d6-450">Called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method just before the session is deleted.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut(System.Boolean)" />
      </Docs>
    </Member>
    <Member MemberName="OnSignOutError">
      <MemberSignature Language="C#" Value="protected virtual void OnSignOutError (System.IdentityModel.Services.ErrorEventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSignOutError(class System.IdentityModel.Services.ErrorEventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignOutError(System.IdentityModel.Services.ErrorEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSignOutError (args As ErrorEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSignOutError(System::IdentityModel::Services::ErrorEventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnSignOutError : System.IdentityModel.Services.ErrorEventArgs -&gt; unit&#xA;override this.OnSignOutError : System.IdentityModel.Services.ErrorEventArgs -&gt; unit" Usage="wSFederationAuthenticationModule.OnSignOutError args" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="args" Type="System.IdentityModel.Services.ErrorEventArgs" />
      </Parameters>
      <Docs>
        <param name="args">
          <span data-ttu-id="876d6-451">事件的資料。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-451">The data for the event.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-452">引發 <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError" /> 事件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-452">Raises the <see cref="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError" /> event.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-453">從呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType>在處理期間發生的例外狀況的方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-453">Called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method if an exception occurs during processing.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut(System.Boolean)" />
      </Docs>
    </Member>
    <Member MemberName="PassiveRedirectEnabled">
      <MemberSignature Language="C#" Value="public bool PassiveRedirectEnabled { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool PassiveRedirectEnabled" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled" />
      <MemberSignature Language="VB.NET" Value="Public Property PassiveRedirectEnabled As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool PassiveRedirectEnabled { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.PassiveRedirectEnabled : bool with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-454">取得或設定值，指定此模組是否已啟用來啟始 WS-Federation 通訊協定重新導向。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-454">Gets or sets a value that specifies whether the module is enabled to initiate WS-Federation protocol redirects.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-455">
            <see langword="true" /> 表示啟用重新導向，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-455">
              <see langword="true" /> to enable redirects; otherwise, <see langword="false" />.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-456">未啟用此模式時，此模組將不會起始 WS-同盟通訊協定重新導向。</span><span class="sxs-lookup"><span data-stu-id="876d6-456">The module will not initiate WS-Federation protocol redirects when this mode is not enabled.</span></span> <span data-ttu-id="876d6-457">如果這個屬性是`true`、<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>屬性必須設定的安全性權杖服務 (STS) 的呼叫端應該重新導向的 url。</span><span class="sxs-lookup"><span data-stu-id="876d6-457">If this property is `true`, the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property must be set to the URL of the Security Token Service (STS) to which the caller should be redirected.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="876d6-458">應用程式程式碼可以明確發出 WS-同盟登入要求，使用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A>方法，不論值<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-458">Application code can issue WS-Federation sign-in requests explicitly by using the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> method, regardless of the value of the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.PersistentCookiesOnPassiveRedirects" />
      </Docs>
    </Member>
    <Member MemberName="PersistentCookiesOnPassiveRedirects">
      <MemberSignature Language="C#" Value="public bool PersistentCookiesOnPassiveRedirects { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool PersistentCookiesOnPassiveRedirects" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.PersistentCookiesOnPassiveRedirects" />
      <MemberSignature Language="VB.NET" Value="Public Property PersistentCookiesOnPassiveRedirects As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool PersistentCookiesOnPassiveRedirects { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.PersistentCookiesOnPassiveRedirects : bool with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.PersistentCookiesOnPassiveRedirects" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-459">取得或設定值，指定是否要在成功驗證時發出永續性工作階段 cookie。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-459">Gets or sets a value that specifies whether a persistent session cookie is issued on successful authentication.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-460">
            <see langword="true" /> 表示發出永續性工作階段 Cookie，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-460">
              <see langword="true" /> to issue a persistent session cookie; otherwise, <see langword="false" />.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-461">您可以藉由新增的處理常式覆寫這項設定在每個 HTTP 要求<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-461">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated> event.</span></span> <span data-ttu-id="876d6-462">從要求處理管線處理 WS-同盟登入回應訊息從安全性權杖服務 (STS) 時，會引發這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-462">This event is raised from the request processing pipeline when processing a WS-Federation sign-in response message from a security token service (STS).</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.PassiveRedirectEnabled" />
      </Docs>
    </Member>
    <Member MemberName="Policy">
      <MemberSignature Language="C#" Value="public string Policy { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Policy" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Policy" />
      <MemberSignature Language="VB.NET" Value="Public Property Policy As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Policy { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Policy : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.Policy" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-463">取得或設定要在 WS-同盟登入要求 ("wsignin1.0") 中使用的 wp 參數值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-463">Gets or sets the value of the wp parameter to be used in WS-Federation sign-in requests ("wsignin1.0").</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-464">識別要使用之原則的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-464">A URL that identifies the policy to use.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-465">Wp 參數是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="876d6-465">The wp parameter is optional.</span></span> <span data-ttu-id="876d6-466">如果<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Policy%2A>屬性設定為`null`或登入要求中未包含空字串，wp 參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-466">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Policy%2A> property is set to `null` or an empty string, the wp parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="876d6-467">您可以藉由新增的處理常式覆寫這項設定在每個 HTTP 要求<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-467">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="876d6-468">只在模組重新導向至與 WS-同盟登入要求訊息的安全性權杖服務 (STS) 之前，會引發這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-468">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="876d6-469">所指定 STS<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-469">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Realm">
      <MemberSignature Language="C#" Value="public string Realm { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Realm" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" />
      <MemberSignature Language="VB.NET" Value="Public Property Realm As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Realm { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Realm : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-470">取得或設定要用於 WS-同盟登入要求 ("wsignin1.0") 的 wtrealm 參數值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-470">Gets or sets the value of the wtrealm parameter to be used for WS-Federation sign-in requests ("wsignin1.0").</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-471">用來向 Security Token Service (STS) 表明信賴憑證者 (RP) 識別身分的 URI。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-471">A URI that identifies the relying party (RP) to the security token service (STS).</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-472">這是 WS-同盟登入要求的必要的屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-472">This is a required property for WS-Federation sign-in requests.</span></span> <span data-ttu-id="876d6-473">如果啟用被動重新導向，則必須設定。</span><span class="sxs-lookup"><span data-stu-id="876d6-473">It must be set if passive redirects are enabled.</span></span> <span data-ttu-id="876d6-474">URI 會識別對 STS RP。</span><span class="sxs-lookup"><span data-stu-id="876d6-474">The URI identifies the RP to the STS.</span></span> <span data-ttu-id="876d6-475">(如識別 rp STS，請參閱<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>屬性)。</span><span class="sxs-lookup"><span data-stu-id="876d6-475">(For identifying the STS to the RP, see the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property).</span></span>  
  
 <span data-ttu-id="876d6-476">這個屬性的值會序列化為 WS-同盟通訊協定中 wtrealm 查詢字串參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-476">The value of this property is serialized as the wtrealm query string parameter in WS-Federation protocol.</span></span> <span data-ttu-id="876d6-477">它會識別對 STS RP。</span><span class="sxs-lookup"><span data-stu-id="876d6-477">It identifies the RP to the STS.</span></span> <span data-ttu-id="876d6-478">它用來決定要套用的權杖發行及如何將使用者重新導向後權杖發行哪些原則 STS。</span><span class="sxs-lookup"><span data-stu-id="876d6-478">It is used by the STS to decide what policy to apply for token issuance and where to redirect the user to after token issuance.</span></span> <span data-ttu-id="876d6-479">(如識別 rp STS，請參閱<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>。)</span><span class="sxs-lookup"><span data-stu-id="876d6-479">(For identifying the STS to the RP, see <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>.)</span></span>  
  
 <span data-ttu-id="876d6-480">您可以藉由新增的處理常式覆寫這項設定在每個 HTTP 要求<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-480">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="876d6-481">只在模組重新導向至與 WS-同盟登入要求訊息的安全性權杖服務 (STS) 之前，會引發這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-481">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="876d6-482">所指定 STS<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-482">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="876d6-483">嘗試將屬性設為 <see langword="null" /> 或空字串。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-483">An attempt to set the property to <see langword="null" /> or an empty string occurs.</span>
          </span>
          <span data-ttu-id="876d6-484">-或-  嘗試將屬性值設定為無效絕對 URI 的值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-484">-or-  An attempt to set the property to a value that is not a valid, absolute URI occurs.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="RedirectingToIdentityProvider">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs&gt; RedirectingToIdentityProvider;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs&gt; RedirectingToIdentityProvider" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider" />
      <MemberSignature Language="VB.NET" Value="Public Event RedirectingToIdentityProvider As EventHandler(Of RedirectingToIdentityProviderEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::RedirectingToIdentityProviderEventArgs ^&gt; ^ RedirectingToIdentityProvider;" />
      <MemberSignature Language="F#" Value="member this.RedirectingToIdentityProvider : EventHandler&lt;System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs&gt; " Usage="member this.RedirectingToIdentityProvider : System.EventHandler&lt;System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs&gt; " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-485">當模組要將使用者重新導向到識別提供者時發生。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-485">Occurs when the module is going to redirect the user to the identity provider.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-486">您可以存取和修改 WS-同盟登入要求透過<xref:System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs.SignInRequestMessage%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-486">You can access and modify the WS-Federation sign-in request through the <xref:System.IdentityModel.Services.RedirectingToIdentityProviderEventArgs.SignInRequestMessage%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="876d6-487">例如，您可以修改<xref:System.IdentityModel.Services.FederationMessage.BaseUri%2A>登入訊息變更要求會重新導向的身分識別提供者中的屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-487">For example, you can modify the <xref:System.IdentityModel.Services.FederationMessage.BaseUri%2A> property in the sign-in message to change the identity provider to which the request will be redirected.</span></span> <span data-ttu-id="876d6-488"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>事件是可取消事件，您可以設定<xref:System.ComponentModel.CancelEventArgs.Cancel%2A>屬性`true`取消重新導向。</span><span class="sxs-lookup"><span data-stu-id="876d6-488">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event is a cancelable event and you can set the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property to `true` to cancel the redirect.</span></span>  
  
 <span data-ttu-id="876d6-489">事件引發時，從內<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A>方法透過呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnRedirectingToIdentityProvider%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-489">The event is raised from inside the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> method through a call to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnRedirectingToIdentityProvider%2A> method.</span></span>  
  
 <span data-ttu-id="876d6-490">若要處理這個 ASP.NET 應用程式中的事件，建立方法，稱為`WSFederationAuthentication_RedirectingToIdentityProvider`global.asax 檔中。</span><span class="sxs-lookup"><span data-stu-id="876d6-490">To handle this event in an ASP.NET application, create a method called `WSFederationAuthentication_RedirectingToIdentityProvider` in the global.asax file.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="876d6-491">下列程式碼示範如何將加入的處理常式<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>中的事件`Application_Init`global.asax 檔案中的事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-491">The following code shows how to add a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event in the `Application_Init` event in the global.asax file.</span></span> <span data-ttu-id="876d6-492">程式碼取自`FederationForWebApps`範例。</span><span class="sxs-lookup"><span data-stu-id="876d6-492">The code is taken from the `FederationForWebApps` sample.</span></span> <span data-ttu-id="876d6-493">如需有關此範例的詳細資訊，請參閱[WIF 程式碼範例索引](~/docs/framework/security/wif-code-sample-index.md)。</span><span class="sxs-lookup"><span data-stu-id="876d6-493">For more information about this sample, see [WIF Code Sample Index](~/docs/framework/security/wif-code-sample-index.md).</span></span>  
  
  
  
 <span data-ttu-id="876d6-494">下列程式碼顯示的處理常式<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>中的事件 RP 的 global.asax 檔中。</span><span class="sxs-lookup"><span data-stu-id="876d6-494">The following code shows the handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event in the in the global.asax file of an RP.</span></span> <span data-ttu-id="876d6-495">程式碼會檢查以查看是否傳入 HTTP 要求包含 whr 參數傳送，而且如果是的話，它會設定這個參數會傳送至 STS WS-同盟登入要求。</span><span class="sxs-lookup"><span data-stu-id="876d6-495">The code checks to see whether the incoming HTTP request contains a whr parameter, and, if it does, it sets this parameter on the WS-Federation sign-in request that will be sent to the STS.</span></span> <span data-ttu-id="876d6-496">程式碼取自`FederationForWebApps`範例。</span><span class="sxs-lookup"><span data-stu-id="876d6-496">The code is taken from the `FederationForWebApps` sample.</span></span> <span data-ttu-id="876d6-497">如需有關此範例的詳細資訊，請參閱[WIF 程式碼範例索引](~/docs/framework/security/wif-code-sample-index.md)。</span><span class="sxs-lookup"><span data-stu-id="876d6-497">For more information about this sample, see [WIF Code Sample Index](~/docs/framework/security/wif-code-sample-index.md).</span></span>  
  
  
  
 <span data-ttu-id="876d6-498">下列程式碼顯示的處理常式<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>中的事件為同盟提供者 STS 的 global.asax 檔中。</span><span class="sxs-lookup"><span data-stu-id="876d6-498">The following code shows the handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event in the in the global.asax file of a federation provider STS.</span></span> <span data-ttu-id="876d6-499">程式碼會檢查傳入的 HTTP 要求是否包含 whr 參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-499">The code checks to see whether the incoming HTTP request contains a whr parameter.</span></span> <span data-ttu-id="876d6-500">如果要求包含 whr 參數，用戶端已導向至登入; IP STS如果沒有，則用戶端已導向至主領域探索頁面上，選取要登入 IP STS。</span><span class="sxs-lookup"><span data-stu-id="876d6-500">If the request contains the whr parameter, the client is directed to the IP-STS for sign-in; if not, the client is directed to a home realm discovery page to select the IP-STS at which to sign in.</span></span> <span data-ttu-id="876d6-501">程式碼取自`FederationForWebApps`範例。</span><span class="sxs-lookup"><span data-stu-id="876d6-501">The code is taken from the `FederationForWebApps` sample.</span></span> <span data-ttu-id="876d6-502">如需有關此範例的詳細資訊，請參閱[WIF 程式碼範例索引](~/docs/framework/security/wif-code-sample-index.md)。</span><span class="sxs-lookup"><span data-stu-id="876d6-502">For more information about this sample, see [WIF Code Sample Index](~/docs/framework/security/wif-code-sample-index.md).</span></span>  
  
  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="RedirectToIdentityProvider">
      <MemberSignature Language="C#" Value="public virtual void RedirectToIdentityProvider (string uniqueId, string returnUrl, bool persist);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void RedirectToIdentityProvider(string uniqueId, string returnUrl, bool persist) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider(System.String,System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub RedirectToIdentityProvider (uniqueId As String, returnUrl As String, persist As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void RedirectToIdentityProvider(System::String ^ uniqueId, System::String ^ returnUrl, bool persist);" />
      <MemberSignature Language="F#" Value="abstract member RedirectToIdentityProvider : string * string * bool -&gt; unit&#xA;override this.RedirectToIdentityProvider : string * string * bool -&gt; unit" Usage="wSFederationAuthenticationModule.RedirectToIdentityProvider (uniqueId, returnUrl, persist)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="uniqueId" Type="System.String" />
        <Parameter Name="returnUrl" Type="System.String" />
        <Parameter Name="persist" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="uniqueId">
          <span data-ttu-id="876d6-503">WSFAM 會將這個值儲存在 WS-同盟登入要求中的 wctx 參數，但是模組不會在處理登入要求或登入回應時使用該值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-503">The WSFAM saves this value in the wctx parameter in the WS-Federation sign in request; however, the module does not use it when processing sign-in requests or sign-in responses.</span>
          </span>
          <span data-ttu-id="876d6-504">您可以將它設定為任何值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-504">You can set it to any value.</span>
          </span>
          <span data-ttu-id="876d6-505">不必是唯一的。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-505">It does not have to be unique.</span>
          </span>
          <span data-ttu-id="876d6-506">如需詳細資訊，請參閱 <see cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest(System.String,System.String,System.Boolean)" /> 方法。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-506">For more information, see the <see cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest(System.String,System.String,System.Boolean)" /> method.</span>
          </span>
        </param>
        <param name="returnUrl">
          <span data-ttu-id="876d6-507">在驗證時模組應該傳回的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-507">The URL to which the module should return upon authentication.</span>
          </span>
        </param>
        <param name="persist">
          <span data-ttu-id="876d6-508">WSFAM 會將這個值儲存在 WS-同盟登入要求中的 wctx 參數，但是模組不會在處理登入要求或登入回應時使用該值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-508">The WSFAM saves this value in the wctx parameter in the WS-Federation sign in request; however, the module does not use it when processing sign-in requests or sign-in responses.</span>
          </span>
          <span data-ttu-id="876d6-509">您可以將它設定為 <see langword="true" /> 或 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-509">You can set it either <see langword="true" /> or <see langword="false" />.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-510">將使用者重新導向至 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 屬性指定的安全性權杖服務 (STS)，以取得使用 WS-同盟通訊協定的安全性權杖。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-510">Redirects the user to the security token service (STS) specified by the <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> property to obtain a security token using the WS-Federation protocol.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-511"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A>方法從呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A>方法時所呈現的信賴憑證者的合作對象 (RP) 或從網頁上發出要求<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest%2A>上執行被動重新導向至身分識別提供者的事件處理常式委派授權失敗。</span><span class="sxs-lookup"><span data-stu-id="876d6-511">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> method is called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> method when the request is issued from a web page presented by the relying party (RP) or from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnEndRequest%2A> event-handler delegate to perform a passive redirect to the identity provider on authorization failure.</span></span>  
  
 <span data-ttu-id="876d6-512">傳遞給方法的參數用來建立 wctx 訊息參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-512">The parameters passed to the method are used to create the wctx message parameter.</span></span> <span data-ttu-id="876d6-513">唯一顯著的參數是`returnUrl`參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-513">The only significant parameter is the `returnUrl` parameter.</span></span> <span data-ttu-id="876d6-514">這會指定 RP 應導向瀏覽器以下列驗證成功的 URL。</span><span class="sxs-lookup"><span data-stu-id="876d6-514">This specifies the URL that the RP should direct the browser to following successful authentication.</span></span> <span data-ttu-id="876d6-515">不應混淆的 wreply 訊息參數，指定由<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Reply%2A>屬性和其提供安全性權杖服務 (STS) 應該將其回應導向的 RP 的位址。</span><span class="sxs-lookup"><span data-stu-id="876d6-515">It should not be confused with the wreply message parameter, which is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Reply%2A> property and which provides the address at the RP to which the security token service (STS) should direct its response.</span></span>  
  
 <span data-ttu-id="876d6-516">此方法會執行下列作業：</span><span class="sxs-lookup"><span data-stu-id="876d6-516">The method performs the following:</span></span>  
  
1.  <span data-ttu-id="876d6-517">叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.VerifyProperties%2A>方法，以確保有效的登入要求可以所簽發的模組。</span><span class="sxs-lookup"><span data-stu-id="876d6-517">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.VerifyProperties%2A> method to ensure that a valid sign-in request can be issued by the module.</span></span>  
  
2.  <span data-ttu-id="876d6-518">叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A>方法來建立登入要求，從在模組上設定的屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-518">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> method to create the sign-in request from the properties configured on the module.</span></span>  
  
3.  <span data-ttu-id="876d6-519">叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnRedirectingToIdentityProvider%2A>方法，以引發<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-519">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnRedirectingToIdentityProvider%2A> method to raise the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="876d6-520">您可以取消重新導向，或修改此事件的事件處理常式中的登入要求訊息。</span><span class="sxs-lookup"><span data-stu-id="876d6-520">You can cancel the redirect or modify the sign-in request message in the event handler for this event.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="876d6-521">
            <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 為 <see langword="null" /> 或空字串。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-521">
              <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> is <see langword="null" /> or an empty string.</span>
          </span>
          <span data-ttu-id="876d6-522">-或-  <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> 為 <see langword="null" /> 或空字串。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-522">-or-  <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> is <see langword="null" /> or an empty string.</span>
          </span>
          <span data-ttu-id="876d6-523">-或-  <see cref="P:System.Web.HttpContext.Current" /> 屬性為 <see langword="null" /> 或空白。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-523">-or-  The <see cref="P:System.Web.HttpContext.Current" /> property is <see langword="null" /> or empty.</span>
          </span>
          <span data-ttu-id="876d6-524">-或-  <see cref="P:System.Web.HttpContext.Current" /> 所傳回內容的 <see cref="P:System.Web.HttpContext.Response" /> 屬性為 <see langword="null" /> 或空白。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-524">-or-  The <see cref="P:System.Web.HttpContext.Response" /> property of the context returned by <see cref="P:System.Web.HttpContext.Current" /> is <see langword="null" /> or empty.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="Reply">
      <MemberSignature Language="C#" Value="public string Reply { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Reply" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Reply" />
      <MemberSignature Language="VB.NET" Value="Public Property Reply As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Reply { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Reply : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.Reply" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-525">取得或設定要在 WS-同盟登入要求 ("wsignin1.0") 中使用的 wreply 參數值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-525">Gets or sets the value of the wreply parameter to use in WS-Federation sign-in requests ("wsignin1.0").</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-526">識別信賴憑證者 (RP) 應用程式要用來接收 Security Token Service (STS) 回覆之位址的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-526">A URL that identifies the address at which the relying party (RP) application would like to receive replies from the Security Token Service (STS).</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-527">Wreply 參數是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="876d6-527">The wreply parameter is optional.</span></span> <span data-ttu-id="876d6-528">如果<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Reply%2A>屬性設定為`null`或登入要求中未包含空字串，wreply 參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-528">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Reply%2A> property is set to `null` or an empty string, the wreply parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="876d6-529">Wreply 參數由 STS 用於決定要將使用者重新導向後權杖發行的位置。</span><span class="sxs-lookup"><span data-stu-id="876d6-529">The wreply parameter is used by the STS to decide where to redirect the user to after token issuance.</span></span> <span data-ttu-id="876d6-530">您不使用這個位址重新導向使用者，因為這類的重新導向有安全性弱點 STS 的建議。</span><span class="sxs-lookup"><span data-stu-id="876d6-530">It is not advisable for the STS to blindly use this address to redirect the user as such redirection has security vulnerabilities.</span></span> <span data-ttu-id="876d6-531">STS （可能藉由比較一組預先設定的回覆地址的目的或透過其他方法） 必須驗證的回覆地址，請確定傳送回覆至了解已知且安全的位置。</span><span class="sxs-lookup"><span data-stu-id="876d6-531">The reply address must be validated by the STS (possibly by comparing to a set of preconfigured reply addresses for the purposes or some other method) to make sure that the reply is being sent to understood well known and secure location.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="876d6-532">嘗試將屬性設為不是有效的絕對 URI 的值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-532">An attempt to set the property to a value that is not a valid, absolute URI occurs.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="Request">
      <MemberSignature Language="C#" Value="public string Request { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Request" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Request" />
      <MemberSignature Language="VB.NET" Value="Public Property Request As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Request { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Request : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.Request" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-533">取得或設定要在 WS-同盟登入要求 ("wsignin1.0") 中使用的 wreq 參數值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-533">Gets or sets the value of the wreq parameter to use in WS-Federation sign-in requests ("wsignin1.0").</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-534">以 <see langword="&lt;wst:RequestSecurityToken&gt;" /> 項目表示的權杖發佈要求。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-534">The token issuance request expressed as a <see langword="&lt;wst:RequestSecurityToken&gt;" /> element.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-535">Wreq 參數是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="876d6-535">The wreq parameter is optional.</span></span> <span data-ttu-id="876d6-536">如果<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Request%2A>屬性設定為`null`或登入要求中未包含空字串，wreq 參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-536">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Request%2A> property is set to `null` or an empty string, the wreq parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="876d6-537">您可以藉由新增的處理常式覆寫這項設定在每個 HTTP 要求<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-537">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="876d6-538">只在模組重新導向至與 WS-同盟登入要求訊息的安全性權杖服務 (STS) 之前，會引發這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-538">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="876d6-539">所指定 STS<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-539">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="RequestPtr">
      <MemberSignature Language="C#" Value="public string RequestPtr { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string RequestPtr" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequestPtr" />
      <MemberSignature Language="VB.NET" Value="Public Property RequestPtr As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ RequestPtr { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.RequestPtr : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.RequestPtr" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-540">取得或設定要在 WS-同盟登入要求 ("wsignin1.0") 中使用的 wreqptr 參數值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-540">Gets or sets the value of the wreqptr parameter to use in WS-Federation sign-in requests ("wsignin1.0").</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-541">URL，指定以 <see langword="&lt;wst:RequestSecurityToken&gt;" /> 項目表示之語彙基元發行要求的位置。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-541">A URL that specifies the location of the token issuance request expressed as a <see langword="&lt;wst:RequestSecurityToken&gt;" /> element</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-542">Wreqptr 參數是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="876d6-542">The wreqptr parameter is optional.</span></span> <span data-ttu-id="876d6-543">如果<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RequestPtr%2A>屬性設定為`null`或登入要求中未包含空字串，wreq 參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-543">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RequestPtr%2A> property is set to `null` or an empty string, the wreq parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="876d6-544">您可以藉由新增的處理常式覆寫這項設定在每個 HTTP 要求<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-544">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="876d6-545">只在模組重新導向至與 WS-同盟登入要求訊息的安全性權杖服務 (STS) 之前，會引發這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-545">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="876d6-546">所指定 STS<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-546">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="876d6-547">嘗試將屬性設為不是有效的絕對 URI 的值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-547">An attempt to set the property to a value that is not a valid, absolute URI occurs.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="RequireHttps">
      <MemberSignature Language="C#" Value="public bool RequireHttps { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool RequireHttps" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" />
      <MemberSignature Language="VB.NET" Value="Public Property RequireHttps As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool RequireHttps { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.RequireHttps : bool with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-548">取得或設定值，指定安全性權杖服務 (STS) 通訊是否必須使用 HTTPS 通訊協定。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-548">Gets or sets a value that specifies whether communication with the security token service (STS) must use HTTPS protocol.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-549">如果必須使用 HTTPS 保護與 STS 的通訊，則為 <see langword="true" />，否則為<see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-549">
              <see langword="true" /> if communication with the STS must be secured using HTTPS; otherwise, <see langword="false" />.</span>
          </span>
        </value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Resource">
      <MemberSignature Language="C#" Value="public string Resource { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Resource" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Resource" />
      <MemberSignature Language="VB.NET" Value="Public Property Resource As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Resource { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Resource : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.Resource" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-550">取得或設定要在 WS-同盟登入要求 ("wsignin1.0") 中使用的 wres 參數值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-550">Get or sets the value of the wres parameter to use in WS-Federation sign-in requests ("wsignin1.0").</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-551">用來向 Security Token Service (STS) 識別所存取之資源 (信賴憑證者 (RP)) 的 URI。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-551">A URI that identifies the resource being accessed, the relying party (RP), to the to the security token service (STS).</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-552">Wtrealm 參數，這是由<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm%2A>應該使用屬性，而非這個參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-552">The wtrealm parameter, which is set by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm%2A> property, should be used instead of this parameter.</span></span>  
  
 <span data-ttu-id="876d6-553">Wres 參數是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="876d6-553">The wres parameter is optional.</span></span> <span data-ttu-id="876d6-554">如果<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Resource%2A>屬性設定為`null`或登入要求中未包含空字串，wres 參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-554">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Resource%2A> property is set to `null` or an empty string, the wres parameter is not included in the sign-in request.</span></span>  
  
 <span data-ttu-id="876d6-555">您可以藉由新增的處理常式覆寫這項設定在每個 HTTP 要求<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-555">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="876d6-556">只在模組重新導向至與 WS-同盟登入要求訊息的安全性權杖服務 (STS) 之前，會引發這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-556">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="876d6-557">所指定 STS<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-557">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SecurityTokenReceived">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.SecurityTokenReceivedEventArgs&gt; SecurityTokenReceived;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.SecurityTokenReceivedEventArgs&gt; SecurityTokenReceived" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenReceived" />
      <MemberSignature Language="VB.NET" Value="Public Event SecurityTokenReceived As EventHandler(Of SecurityTokenReceivedEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::SecurityTokenReceivedEventArgs ^&gt; ^ SecurityTokenReceived;" />
      <MemberSignature Language="F#" Value="member this.SecurityTokenReceived : EventHandler&lt;System.IdentityModel.Services.SecurityTokenReceivedEventArgs&gt; " Usage="member this.SecurityTokenReceived : System.EventHandler&lt;System.IdentityModel.Services.SecurityTokenReceivedEventArgs&gt; " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.SecurityTokenReceivedEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-558">已經從安全性權杖服務 (STS) 收到安全性權杖時發生。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-558">Occurs when a security token has been received from a security token service (STS).</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-559">您可以加入事件處理常式之前驗證修改語彙基元。</span><span class="sxs-lookup"><span data-stu-id="876d6-559">You can add an event handler to modify the token before it is validated.</span></span> <span data-ttu-id="876d6-560">在事件處理常式您可以存取的安全性權杖，透過<xref:System.IdentityModel.Services.SecurityTokenReceivedEventArgs.SecurityToken%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-560">In the event handler you can access the security token through the <xref:System.IdentityModel.Services.SecurityTokenReceivedEventArgs.SecurityToken%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="876d6-561"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenReceived>事件是否可取消事件，您可以設定<xref:System.ComponentModel.CancelEventArgs.Cancel%2A>屬性`true`終止處理 WS-同盟登入回應訊息的事件處理常式中。</span><span class="sxs-lookup"><span data-stu-id="876d6-561">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenReceived> event is a cancelable event, you can set the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property to `true` in an event handler to terminate processing of the WS-Federation sign-in response message.</span></span>  
  
 <span data-ttu-id="876d6-562">會引發這個事件，從內<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A>處理接收從安全性權杖服務 (STS) 的 WS-同盟登入回應訊息 (「 wsignin1.0 」) 時，事件處理常式委派。</span><span class="sxs-lookup"><span data-stu-id="876d6-562">This event is raised from inside the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> event-handler delegate when processing a WS-Federation sign-in response message ("wsignin1.0") received from the security token service (STS).</span></span> <span data-ttu-id="876d6-563">從 wresult 或 wresultptr 參數在登入回應訊息中，但驗證安全性權杖之前，已還原序列化安全性權杖之後，就會引發此事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-563">It is raised just after a security token has been deserialized from the wresult or the wresultptr parameter in the sign-in response message, but before the security token is validated.</span></span>  
  
   
  
## Examples  
 [!code-csharp[WifWSFAM#6](~/samples/snippets/csharp/VS_Snippets_Misc/wifwsfam/cs/webapplication1/global.asax.cs#6)]  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.IdentityModel.Services.SecurityTokenReceivedEventArgs" />
      </Docs>
    </Member>
    <Member MemberName="SecurityTokenValidated">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.SecurityTokenValidatedEventArgs&gt; SecurityTokenValidated;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.SecurityTokenValidatedEventArgs&gt; SecurityTokenValidated" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenValidated" />
      <MemberSignature Language="VB.NET" Value="Public Event SecurityTokenValidated As EventHandler(Of SecurityTokenValidatedEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::SecurityTokenValidatedEventArgs ^&gt; ^ SecurityTokenValidated;" />
      <MemberSignature Language="F#" Value="member this.SecurityTokenValidated : EventHandler&lt;System.IdentityModel.Services.SecurityTokenValidatedEventArgs&gt; " Usage="member this.SecurityTokenValidated : System.EventHandler&lt;System.IdentityModel.Services.SecurityTokenValidatedEventArgs&gt; " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.SecurityTokenValidatedEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-564">從安全性權杖服務 (STS) 接收到的安全性權杖經過驗證之後，但在建立工作階段安全性權杖之前發生。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-564">Occurs after a security token that was received from the security token service (STS) has been validated but before the session security token is created.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-565">您可以加入事件處理常式來修改它用來建立工作階段權杖之前，處理從安全性權杖服務 (STS) 的 WS-同盟登入回應訊息時所建立的主體。</span><span class="sxs-lookup"><span data-stu-id="876d6-565">You can add an event handler to modify the principal created while processing a WS-Federation sign-in response message from a security token service (STS) before it is used to create the session token.</span></span> <span data-ttu-id="876d6-566">在事件處理常式，您可以存取透過主體<xref:System.IdentityModel.Services.SecurityTokenValidatedEventArgs.ClaimsPrincipal%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-566">In the event handler, you can access the principal through the <xref:System.IdentityModel.Services.SecurityTokenValidatedEventArgs.ClaimsPrincipal%2A> property.</span></span> <span data-ttu-id="876d6-567"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenValidated>事件是否可取消事件，您可以設定<xref:System.ComponentModel.CancelEventArgs.Cancel%2A>屬性`true`終止處理 WS-同盟登入回應訊息的事件處理常式中。</span><span class="sxs-lookup"><span data-stu-id="876d6-567">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SecurityTokenValidated> event is a cancelable event, you can set the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property to `true` in an event handler to terminate processing of the WS-Federation sign-in response message.</span></span>  
  
 <span data-ttu-id="876d6-568">會引發這個事件，從內<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A>處理接收從安全性權杖服務 (STS) 的 WS-同盟登入回應訊息 (「 wsignin1.0 」) 時，事件處理常式委派。</span><span class="sxs-lookup"><span data-stu-id="876d6-568">This event is raised from inside the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> event-handler delegate when processing a WS-Federation sign-in response message ("wsignin1.0") received from the security token service (STS).</span></span> <span data-ttu-id="876d6-569">會引發此事件只會在還原序列化 wresult 從安全性權杖之後或 wresultptr 參數登入回應訊息中的已驗證，以及工作階段安全性權杖建立之前。</span><span class="sxs-lookup"><span data-stu-id="876d6-569">It is raised just after the security token that was deserialized from the wresult or the wresultptr parameter in the sign-in response message has been validated, and before the session security token is created.</span></span>  
  
   
  
## Examples  
 [!code-csharp[WifWSFAM#5](~/samples/snippets/csharp/VS_Snippets_Misc/wifwsfam/cs/webapplication1/global.asax.cs#5)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SessionSecurityTokenCreated">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt; SessionSecurityTokenCreated;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt; SessionSecurityTokenCreated" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated" />
      <MemberSignature Language="VB.NET" Value="Public Event SessionSecurityTokenCreated As EventHandler(Of SessionSecurityTokenCreatedEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::SessionSecurityTokenCreatedEventArgs ^&gt; ^ SessionSecurityTokenCreated;" />
      <MemberSignature Language="F#" Value="member this.SessionSecurityTokenCreated : EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt; " Usage="member this.SessionSecurityTokenCreated : System.EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt; " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-570">根據從安全性權杖服務 (STS) 接收到的安全性權杖，已經建立工作階段安全性權杖時發生。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-570">Occurs when a session security token has been created from the security token received from a security token service (STS).</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-571">您可以加入事件處理常式若要修改的工作階段權杖，再用來設定執行緒主體並寫入至工作階段 cookie。</span><span class="sxs-lookup"><span data-stu-id="876d6-571">You can add an event handler to modify the session token before it is used to set the thread principal and is written to the session cookie.</span></span> <span data-ttu-id="876d6-572">在事件處理常式，您可以存取透過工作階段權杖<xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.SessionToken%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-572">In the event handler, you can access the session token through the <xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.SessionToken%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="876d6-573">您可以指定工作階段 cookie 是否應將設定寫入<xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.WriteSessionCookie%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-573">You can specify whether a session cookie should be written by setting the <xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.WriteSessionCookie%2A?displayProperty=nameWithType> property.</span></span>  
  
 <span data-ttu-id="876d6-574">會引發這個事件，從內<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A>處理接收從安全性權杖服務 (STS) 的 WS-同盟登入回應訊息 (「 wsignin1.0 」) 時，事件處理常式委派。</span><span class="sxs-lookup"><span data-stu-id="876d6-574">This event is raised from inside the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> event-handler delegate when processing a WS-Federation sign-in response message ("wsignin1.0") received from the security token service (STS).</span></span> <span data-ttu-id="876d6-575">會引發此事件之後已從 wresult 還原序列化安全性權杖或已驗證登入回應訊息中的 wresultptr 參數，並宣告前上設定主體<xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType>(以及<xref:System.Web.HttpContext.User%2A>屬性<xref:System.Web.HttpContext.Current%2A?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="876d6-575">It is raised just after the security token that was deserialized from the wresult or the wresultptr parameter in the sign-in response message has been validated, and before the claims principal is set on the <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> (and on the <xref:System.Web.HttpContext.User%2A> property of <xref:System.Web.HttpContext.Current%2A?displayProperty=nameWithType>).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="876d6-576">Microsoft 建議您提供的處理常式操作參考模式中的工作階段<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated?displayProperty=nameWithType>global.asax.cs 檔案，並在設定中的事件<xref:System.IdentityModel.Tokens.SessionSecurityToken.IsReferenceMode%2A?displayProperty=nameWithType>屬性對這個語彙基元傳入<xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.SessionToken%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-576">To operate sessions in reference mode, Microsoft recommends providing a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated?displayProperty=nameWithType> event in the global.asax.cs file and setting the <xref:System.IdentityModel.Tokens.SessionSecurityToken.IsReferenceMode%2A?displayProperty=nameWithType> property on the token passed in the <xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.SessionToken%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="876d6-577">這可確保工作階段權杖仍會為每個要求的參考模式運作，並會優先使用前者只設定<xref:System.IdentityModel.Services.SessionAuthenticationModule.IsReferenceMode%2A?displayProperty=nameWithType>工作階段驗證模組上的屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-577">This will ensure that the session token operates in reference mode for every request and is favored over merely setting the <xref:System.IdentityModel.Services.SessionAuthenticationModule.IsReferenceMode%2A?displayProperty=nameWithType> property on the Session Authentication Module.</span></span>  
  
   
  
## Examples  
 [!code-csharp[WifWSFAM#4](~/samples/snippets/csharp/VS_Snippets_Misc/wifwsfam/cs/webapplication1/global.asax.cs#4)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SetPrincipalAndWriteSessionToken">
      <MemberSignature Language="C#" Value="public void SetPrincipalAndWriteSessionToken (System.IdentityModel.Tokens.SessionSecurityToken sessionToken, bool isSession);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void SetPrincipalAndWriteSessionToken(class System.IdentityModel.Tokens.SessionSecurityToken sessionToken, bool isSession) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SetPrincipalAndWriteSessionToken(System.IdentityModel.Tokens.SessionSecurityToken,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Sub SetPrincipalAndWriteSessionToken (sessionToken As SessionSecurityToken, isSession As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void SetPrincipalAndWriteSessionToken(System::IdentityModel::Tokens::SessionSecurityToken ^ sessionToken, bool isSession);" />
      <MemberSignature Language="F#" Value="member this.SetPrincipalAndWriteSessionToken : System.IdentityModel.Tokens.SessionSecurityToken * bool -&gt; unit" Usage="wSFederationAuthenticationModule.SetPrincipalAndWriteSessionToken (sessionToken, isSession)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sessionToken" Type="System.IdentityModel.Tokens.SessionSecurityToken" />
        <Parameter Name="isSession" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="sessionToken">
          <span data-ttu-id="876d6-578">從來自 STS 的 WS-Federation 登入回應訊息建立而成的工作階段安全性權杖。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-578">The session security token that was created from the WS-Federation sign-in response message from the STS.</span>
          </span>
        </param>
        <param name="isSession">
          <span data-ttu-id="876d6-579">
            <see langword="true" /> 表示要寫入 cookie，代表包含在回應中的工作階段，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-579">
              <see langword="true" /> to write a cookie that represents the session included with the response; otherwise, <see langword="false" />.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-580">設定執行緒主體，並選擇性地寫入工作階段 cookie。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-580">Sets the thread principal and optionally writes the session cookie.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-581">從要求處理管線實作中呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A>事件處理常式委派。</span><span class="sxs-lookup"><span data-stu-id="876d6-581">Called from the request processing pipeline implemented in the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest%2A> event-handler delegate.</span></span> <span data-ttu-id="876d6-582">這個方法會執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="876d6-582">This method does the following:</span></span>  
  
1.  <span data-ttu-id="876d6-583">叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSessionSecurityTokenCreated%2A>方法，以引發<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-583">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSessionSecurityTokenCreated%2A> method to raise the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated> event.</span></span> <span data-ttu-id="876d6-584">若要修改的工作階段權杖，再用來設定執行緒主體並寫入工作階段 cookie，並指定是否可寫入的工作階段 cookie，您可以使用此事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-584">You can use this event to modify the session token before it is used to set the thread principal and written to the session cookie and to specify whether the session cookie should be written.</span></span>  
  
2.  <span data-ttu-id="876d6-585">叫用<xref:System.IdentityModel.Services.SessionAuthenticationModule.AuthenticateSessionSecurityToken%2A>方法上設定的工作階段驗證模組 (<xref:System.IdentityModel.Services.SessionAuthenticationModule>) 來設定執行緒主體以及 （選擇性） 撰寫工作階段 cookie。</span><span class="sxs-lookup"><span data-stu-id="876d6-585">Invokes the <xref:System.IdentityModel.Services.SessionAuthenticationModule.AuthenticateSessionSecurityToken%2A> method on the configured session authentication module (<xref:System.IdentityModel.Services.SessionAuthenticationModule>) to set the thread principal and optionally write the session cookie.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-586">
            <paramref name="sessionToken" /> 為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-586">
              <paramref name="sessionToken" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.OnAuthenticateRequest(System.Object,System.EventArgs)" />
      </Docs>
    </Member>
    <Member MemberName="SignedIn">
      <MemberSignature Language="C#" Value="public event EventHandler SignedIn;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler SignedIn" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedIn" />
      <MemberSignature Language="VB.NET" Value="Public Event SignedIn As EventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler ^ SignedIn;" />
      <MemberSignature Language="F#" Value="member this.SignedIn : EventHandler " Usage="member this.SignedIn : System.EventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-587">使用者已登入之後發生。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-587">Occurs after the user is signed in.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-588">如果要求張貼至登入頁面，頁面上的控制項會引發這個事件，不是此模組。</span><span class="sxs-lookup"><span data-stu-id="876d6-588">If the request is posted to the login page, a control on the page will raise this event, not this module.</span></span>  
  
   
  
## Examples  
 [!code-csharp[WifWSFAM#3](~/samples/snippets/csharp/VS_Snippets_Misc/wifwsfam/cs/webapplication1/global.asax.cs#3)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignedOut">
      <MemberSignature Language="C#" Value="public event EventHandler SignedOut;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler SignedOut" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut" />
      <MemberSignature Language="VB.NET" Value="Public Event SignedOut As EventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler ^ SignedOut;" />
      <MemberSignature Language="F#" Value="member this.SignedOut : EventHandler " Usage="member this.SignedOut : System.EventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-589">登出期間刪除工作階段之後發生。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-589">Occurs just after deleting the session during sign-out.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-590">透過呼叫就會引發這個事件<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedOut%2A>內的方法<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType>方法並登出信賴憑證者的合作對象 (RP) 在工作階段。</span><span class="sxs-lookup"><span data-stu-id="876d6-590">This event is raised through a call to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedOut%2A> method from inside the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method while signing out of the session at the relying party (RP).</span></span> <span data-ttu-id="876d6-591">當同盟登出功能，透過的這樣做時，不會引發事件<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-591">The event is not raised when doing federated sign-out through the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 <span data-ttu-id="876d6-592">您可以加入之後已刪除的工作階段 cookie 應用程式所需執行任何其他處理的事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="876d6-592">You can add an event handler to perform any additional processing that is needed by your application after the session cookie has been deleted.</span></span>  
  
 <span data-ttu-id="876d6-593">不保證會針對每個工作階段呼叫這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-593">This event is not guaranteed to be called for every session.</span></span> <span data-ttu-id="876d6-594">Cookie 可能會在刪除用戶端，比方說，因此永遠不會引發這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-594">Cookies may be deleted at the client side, for example, so this event would never be raised.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignIn">
      <MemberSignature Language="C#" Value="public virtual void SignIn (string ControlId);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SignIn(string ControlId) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SignIn (ControlId As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SignIn(System::String ^ ControlId);" />
      <MemberSignature Language="F#" Value="abstract member SignIn : string -&gt; unit&#xA;override this.SignIn : string -&gt; unit" Usage="wSFederationAuthenticationModule.SignIn ControlId" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="ControlId" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="ControlId">
          <span data-ttu-id="876d6-595">WSFAM 會將這個值儲存在 WS-同盟登入要求中的 wctx 參數，但是模組不會在處理登入要求或登入回應時使用該值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-595">The WSFAM saves this value in the wctx parameter in the WS-Federation sign in request; however, the module does not use it when processing sign-in requests or sign-in responses.</span>
          </span>
          <span data-ttu-id="876d6-596">您可以將它設定為任何值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-596">You can set it to any value.</span>
          </span>
          <span data-ttu-id="876d6-597">不必是唯一的。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-597">It does not have to be unique.</span>
          </span>
          <span data-ttu-id="876d6-598">如需詳細資訊，請參閱 <see cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest(System.String,System.String,System.Boolean)" /> 方法。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-598">For more information, see the <see cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest(System.String,System.String,System.Boolean)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-599">透過 WS-Federation 通訊協定執行安全性權杖服務 (STS) 登入。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-599">Performs sign-in to a security token service (STS) through the WS-Federation protocol.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-600">預設實作會叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A>方法，以在登入時執行。</span><span class="sxs-lookup"><span data-stu-id="876d6-600">The default implementation invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> method to perform the sign-in.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignInContext">
      <MemberSignature Language="C#" Value="public string SignInContext { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string SignInContext" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext" />
      <MemberSignature Language="VB.NET" Value="Public Property SignInContext As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ SignInContext { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.SignInContext : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-601">取得或設定要包含在 WS-Federation 登入要求之 wctx 參數中的應用程式特定內容值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-601">Gest or sets an application specific context value to be included in the wctx parameter in WS-Federation sign-in requests.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-602">要加入至登入要求之 wctx 參數的應用程式特定內容值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-602">The application specific context value to be included in the wctx parameter for sign-in requests.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-603">當<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A>叫用方法時，就會產生登入訊息包含 wctx 參數具有下列格式： `ru=returnUrl&cx=SignInContext&rm=rememberMeSet&id=uniqueId`。</span><span class="sxs-lookup"><span data-stu-id="876d6-603">When the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> method is invoked, the sign-in message that is generated contains a wctx parameter that has the following format: `ru=returnUrl&cx=SignInContext&rm=rememberMeSet&id=uniqueId`.</span></span> <span data-ttu-id="876d6-604">值<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext%2A>會儲存在`cx`參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-604">The value of the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext%2A> is stored in the `cx` parameter.</span></span> <span data-ttu-id="876d6-605"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> 可以直接從您的程式碼呼叫。</span><span class="sxs-lookup"><span data-stu-id="876d6-605"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> can be called directly from your code.</span></span> <span data-ttu-id="876d6-606">它也稱為 WSFAM 執行被動重新導向時以及當任一<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A>方法或<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A>應用程式碼會叫用方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-606">It is also called when the WSFAM is performing passive redirects and also when either the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignIn%2A> method or the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectToIdentityProvider%2A> method is invoked by application code.</span></span>  
  
 <span data-ttu-id="876d6-607">雖然 WSFAM 儲存<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext%2A>登入要求訊息，如果應用程式回應處理期間所使用的值中的值，您必須提供邏輯解壓縮從 wctx 參數登入回應訊息中。</span><span class="sxs-lookup"><span data-stu-id="876d6-607">Although the WSFAM saves the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInContext%2A> value in sign-in request messages, if the value is used by your application during response processing, you must provide the logic for extracting it from the wctx parameter in the sign-in response message.</span></span>  
  
 <span data-ttu-id="876d6-608">如需的格式和處理 wctx 參數的詳細資訊，請參閱<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-608">For more information about the format and processing of the wctx parameter, see the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.Services.WSFederationAuthenticationModule.CreateSignInRequest(System.String,System.String,System.Boolean)" />
      </Docs>
    </Member>
    <Member MemberName="SignInError">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; SignInError;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.ErrorEventArgs&gt; SignInError" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInError" />
      <MemberSignature Language="VB.NET" Value="Public Event SignInError As EventHandler(Of ErrorEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::ErrorEventArgs ^&gt; ^ SignInError;" />
      <MemberSignature Language="F#" Value="member this.SignInError : EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; " Usage="member this.SignInError : System.EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-609">當登入發生錯誤時引發。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-609">Raised when an error during sign-in occurs.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-610">如果要求張貼至登入頁面，頁面上的控制項會引發這個事件，不是此模組。</span><span class="sxs-lookup"><span data-stu-id="876d6-610">If the request is posted to the login page, a control on the page will raise this event, not this module.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SigningOut">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.SigningOutEventArgs&gt; SigningOut;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.SigningOutEventArgs&gt; SigningOut" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut" />
      <MemberSignature Language="VB.NET" Value="Public Event SigningOut As EventHandler(Of SigningOutEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::SigningOutEventArgs ^&gt; ^ SigningOut;" />
      <MemberSignature Language="F#" Value="member this.SigningOut : EventHandler&lt;System.IdentityModel.Services.SigningOutEventArgs&gt; " Usage="member this.SigningOut : System.EventHandler&lt;System.IdentityModel.Services.SigningOutEventArgs&gt; " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.SigningOutEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-611">登出期間刪除工作階段之前發生。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-611">Occurs before deleting the session during sign-out.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-612">透過呼叫就會引發這個事件<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSigningOut%2A>內的方法<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType>方法並登出信賴憑證者的合作對象 (RP) 在工作階段。</span><span class="sxs-lookup"><span data-stu-id="876d6-612">This event is raised through a call to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSigningOut%2A> method from inside the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method while signing out of the session at the relying party (RP).</span></span> <span data-ttu-id="876d6-613">當同盟登出功能，透過的這樣做時，不會引發事件<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-613">The event is not raised when doing federated sign-out through the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 <span data-ttu-id="876d6-614">您可以加入事件處理常式來執行工作階段 cookie 中刪除之前，應用程式所需的任何其他處理。</span><span class="sxs-lookup"><span data-stu-id="876d6-614">You can add an event handler to perform any additional processing that is needed by your application before the session cookie is deleted.</span></span> <span data-ttu-id="876d6-615">您可以閱讀<xref:System.IdentityModel.Services.SigningOutEventArgs.IsIPInitiated*>屬性來判斷是否登出已接收 WS-同盟登出清除要求訊息 (「 wsignoutcleanup1.0") 的結果從安全性權杖服務 (STS)，或已在來起始事件處理常式RP。</span><span class="sxs-lookup"><span data-stu-id="876d6-615">You can read the <xref:System.IdentityModel.Services.SigningOutEventArgs.IsIPInitiated*> property in the event handler to determine whether the sign-out is the result of receiving a WS-Federation sign-out clean-up request message ("wsignoutcleanup1.0") from a security token service (STS) or whether it was initiated at the RP.</span></span>  
  
 <span data-ttu-id="876d6-616">不保證會針對每個工作階段呼叫這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-616">This event is not guaranteed to be called for every session.</span></span> <span data-ttu-id="876d6-617">Cookie 可能會在刪除用戶端，比方說，因此永遠不會引發這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-617">Cookies may be deleted at the client side, for example, so this event would never be raised.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignInQueryString">
      <MemberSignature Language="C#" Value="public string SignInQueryString { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string SignInQueryString" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.SignInQueryString" />
      <MemberSignature Language="VB.NET" Value="Public Property SignInQueryString As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ SignInQueryString { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.SignInQueryString : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.SignInQueryString" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-618">取得或設定查詢字串，包含 WS-同盟登入要求 ("wsignin1.0") 中要傳送的任何其他參數。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-618">Gets or sets a query string that contains any additional parameters to be sent in WS-Federation sign-in requests ("wsignin1.0").</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-619">URL 片段包含額外的訊息中的參數以下列格式： <c>param1 = value1&amp;param2 = value2&amp;paramN = 看值</c>。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-619">A URL fragment that contains the additional message parameters in the following format: <c>param1=value1&amp;param2=value2&amp;paramN=valueN</c>.</span>
          </span>
          <span data-ttu-id="876d6-620">預設為空字串。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-620">The default is an empty string.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-621">您可以使用這個屬性在登入要求中傳送額外的參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-621">You can use this property to send additional parameters in a sign-in request.</span></span> <span data-ttu-id="876d6-622">這些是應用程式特有的參數不是其中一個參數所指定的 WS-同盟通訊協定。</span><span class="sxs-lookup"><span data-stu-id="876d6-622">These would be application-specific parameters that are not one of the parameters that are specified by the WS-Federation protocol.</span></span> <span data-ttu-id="876d6-623">若要從要求中移除額外的參數設定此屬性設為空字串。</span><span class="sxs-lookup"><span data-stu-id="876d6-623">To remove additional parameters from the request set the property to an empty string.</span></span>  
  
 <span data-ttu-id="876d6-624">您可以藉由新增的處理常式覆寫這項設定在每個 HTTP 要求<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-624">You can override this setting on each HTTP request by adding a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.RedirectingToIdentityProvider> event.</span></span> <span data-ttu-id="876d6-625">只在模組重新導向至與 WS-同盟登入要求訊息的安全性權杖服務 (STS) 之前，會引發這個事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-625">This event is raised just before the module redirects to the security token service (STS) with a WS-Federation sign-in request message.</span></span> <span data-ttu-id="876d6-626">所指定 STS<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-626">The STS is specified by the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-627">嘗試將屬性設為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-627">An attempt to set the property to <see langword="null" /> occurs.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <MemberGroup MemberName="SignOut">
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-628">登出目前工作階段。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-628">Signs out of the current session.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-629">刪除目前工作階段。</span><span class="sxs-lookup"><span data-stu-id="876d6-629">Deletes the current session.</span></span>  
  
 <span data-ttu-id="876d6-630">沒有登出要求訊息 (「 wsignout1.0 」) 會傳送給安全性權杖服務 (STS)。</span><span class="sxs-lookup"><span data-stu-id="876d6-630">No sign-out request message ("wsignout1.0") is sent to the security token service (STS).</span></span> <span data-ttu-id="876d6-631">若要登出在 STS 使用 WS-同盟通訊協定，使用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-631">To sign-out at the STS using WS-Federation protocol, use the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </MemberGroup>
    <Member MemberName="SignOut">
      <MemberSignature Language="C#" Value="public virtual void SignOut ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SignOut() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SignOut ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SignOut();" />
      <MemberSignature Language="F#" Value="abstract member SignOut : unit -&gt; unit&#xA;override this.SignOut : unit -&gt; unit" Usage="wSFederationAuthenticationModule.SignOut " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="876d6-632">豋出目前工作階段並要求重新導向至目前 HTTP 要求中指定的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-632">Signs out of the current session and requests a redirect back to the URL specified in the current HTTP request.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-633">刪除目前工作階段，並將瀏覽器重新導向回到目前 HTTP 要求中指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="876d6-633">Deletes the current session and redirects the browser back to the URL specified in the current HTTP request.</span></span>  
  
 <span data-ttu-id="876d6-634">叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.String%29?displayProperty=nameWithType>方法`redirectUrl`參數設定為目前要求的 URL。</span><span class="sxs-lookup"><span data-stu-id="876d6-634">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.String%29?displayProperty=nameWithType> method with the `redirectUrl` parameter set to the URL of the current request.</span></span>  
  
 <span data-ttu-id="876d6-635">沒有登出要求訊息 (「 wsignout1.0 」) 會傳送給安全性權杖服務 (STS)。</span><span class="sxs-lookup"><span data-stu-id="876d6-635">No sign-out request message ("wsignout1.0") is sent to the security token service (STS).</span></span> <span data-ttu-id="876d6-636">若要登出在 STS 使用 WS-同盟通訊協定，使用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-636">To sign-out at the STS using WS-Federation protocol, use the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignOut">
      <MemberSignature Language="C#" Value="public virtual void SignOut (bool isIPRequest);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SignOut(bool isIPRequest) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut(System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SignOut (isIPRequest As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SignOut(bool isIPRequest);" />
      <MemberSignature Language="F#" Value="abstract member SignOut : bool -&gt; unit&#xA;override this.SignOut : bool -&gt; unit" Usage="wSFederationAuthenticationModule.SignOut isIPRequest" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="isIPRequest" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="isIPRequest">
          <span data-ttu-id="876d6-637">如果要求是由 IP-STS 透過 WS-同盟登出清除要求訊息 ("wsignoutcleanup1.0") 所啟始，則為 <see langword="true" />，否則為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-637">
              <see langword="true" /> if the request was initiated by the IP-STS via a WS-Federation sign-out cleanup request message ("wsignoutcleanup1.0"); otherwise, <see langword="false" />.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-638">登出目前工作階段並引發適當的事件。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-638">Signs out of the current session and raises the appropriate events.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-639">這個方法會執行刪除目前工作階段，並引發適當的登出事件的實際工作。</span><span class="sxs-lookup"><span data-stu-id="876d6-639">This method performs the actual work of deleting the current session and raising the appropriate sign-out events.</span></span> <span data-ttu-id="876d6-640">方法會執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="876d6-640">The method does the following:</span></span>  
  
1.  <span data-ttu-id="876d6-641">叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSigningOut%2A>方法，以引發<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-641">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSigningOut%2A> method to raise the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SigningOut> event.</span></span> <span data-ttu-id="876d6-642">事件處理常式可以提供任何必要的處理工作階段遭到刪除。</span><span class="sxs-lookup"><span data-stu-id="876d6-642">An event handler can provide any necessary processing before the session is deleted.</span></span> <span data-ttu-id="876d6-643"><xref:System.IdentityModel.Services.SigningOutEventArgs.IsIPInitiated%2A?displayProperty=nameWithType>屬性設定為根據`isIPRequest`參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-643">The <xref:System.IdentityModel.Services.SigningOutEventArgs.IsIPInitiated%2A?displayProperty=nameWithType> property is set according to the `isIPRequest` parameter.</span></span>  
  
2.  <span data-ttu-id="876d6-644">呼叫<xref:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie%2A?displayProperty=nameWithType>方法在目前工作階段驗證管理員若要刪除的工作階段 cookie。</span><span class="sxs-lookup"><span data-stu-id="876d6-644">Calls the <xref:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie%2A?displayProperty=nameWithType> method on the current session authentication manager to delete the session cookie.</span></span>  
  
     <span data-ttu-id="876d6-645">叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedOut%2A>方法，以引發<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-645">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignedOut%2A> method to raise the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignedOut> event.</span></span>  
  
3.  <span data-ttu-id="876d6-646">如果在登出處理期間發生錯誤，會叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignOutError%2A>方法，以引發<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError>事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-646">If an error occurs during sign-out processing, invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignOutError%2A> method to raise the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError> event.</span></span> <span data-ttu-id="876d6-647">事件處理常式可以取消處理，並防止傳回給呼叫端的例外狀況 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A></span><span class="sxs-lookup"><span data-stu-id="876d6-647">An event handler can cancel the processing and prevent an exception from being returned to the caller of <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A></span></span>  
  
 <span data-ttu-id="876d6-648">您可以呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A?displayProperty=nameWithType>方法`isIPRequest`參數集`false`登出工作階段，而不需執行重新導向。</span><span class="sxs-lookup"><span data-stu-id="876d6-648">You can call the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A?displayProperty=nameWithType> method with the `isIPRequest` parameter set `false` to sign out of a session without performing a redirect.</span></span> <span data-ttu-id="876d6-649">所有的其他多載最終呼叫方法<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A>方法 (具有`isIPRequest`參數設定為`false`) 來執行處理登出。</span><span class="sxs-lookup"><span data-stu-id="876d6-649">The method is ultimately called by all of the other overloaded <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%2A> methods (with the `isIPRequest` parameter set to `false`) to perform the sign out handling.</span></span> <span data-ttu-id="876d6-650">這個方法從呼叫<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%2CSystem.Boolean%29?displayProperty=nameWithType>方法`isIPRequest`參數集`true`登出工作階段，當它正在處理的 WS-同盟登出清除訊息 (「 wsignoutcleanup1.0")。</span><span class="sxs-lookup"><span data-stu-id="876d6-650">The method is called from the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.CanReadSignInResponse%28System.Web.HttpRequestBase%2CSystem.Boolean%29?displayProperty=nameWithType> method with the `isIPRequest` parameter set `true` to sign out of the session when it is processing a WS-Federation sign-out clean-up message ("wsignoutcleanup1.0").</span></span>  
  
 <span data-ttu-id="876d6-651">沒有登出要求訊息 (「 wsignout1.0 」) 會傳送給安全性權杖服務 (STS)。</span><span class="sxs-lookup"><span data-stu-id="876d6-651">No sign-out request message ("wsignout1.0") is sent to the security token service (STS).</span></span> <span data-ttu-id="876d6-652">若要登出在 STS 使用 WS-同盟通訊協定，使用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-652">To sign-out at the STS using WS-Federation protocol, use the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignOut">
      <MemberSignature Language="C#" Value="public virtual void SignOut (string redirectUrl);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SignOut(string redirectUrl) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SignOut (redirectUrl As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SignOut(System::String ^ redirectUrl);" />
      <MemberSignature Language="F#" Value="abstract member SignOut : string -&gt; unit&#xA;override this.SignOut : string -&gt; unit" Usage="wSFederationAuthenticationModule.SignOut redirectUrl" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="redirectUrl" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="redirectUrl">
          <span data-ttu-id="876d6-653">工作階段刪除後瀏覽器應該重新導向的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-653">The URL to which the browser should be redirected after the session is deleted.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-654">登出目前工作階段並要求重新導向至指定的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-654">Signs out of the current session and requests a redirect back to the specified URL.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-655">刪除目前工作階段，並將瀏覽器重新導向回到指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="876d6-655">Deletes the current session and redirects the browser back to the specified URL.</span></span>  
  
 <span data-ttu-id="876d6-656">叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.String%2CSystem.Boolean%29?displayProperty=nameWithType>方法`redirectUrl`參數與`initiateSignoutCleanup`設定`false`。</span><span class="sxs-lookup"><span data-stu-id="876d6-656">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.String%2CSystem.Boolean%29?displayProperty=nameWithType> method with the `redirectUrl` parameter and with the `initiateSignoutCleanup` set `false`.</span></span>  
  
 <span data-ttu-id="876d6-657">沒有登出要求訊息 (「 wsignout1.0 」) 會傳送給安全性權杖服務 (STS)。</span><span class="sxs-lookup"><span data-stu-id="876d6-657">No sign-out request message ("wsignout1.0") is sent to the security token service (STS).</span></span> <span data-ttu-id="876d6-658">若要登出在 STS 使用 WS-同盟通訊協定，使用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-658">To sign-out at the STS using WS-Federation protocol, use the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="876d6-659">
            <paramref name="redirectUrl" /> 不是有效的 URI。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-659">
              <paramref name="redirectUrl" /> is not a valid URI.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="SignOut">
      <MemberSignature Language="C#" Value="public virtual void SignOut (string redirectUrl, bool initiateSignoutCleanup);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SignOut(string redirectUrl, bool initiateSignoutCleanup) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut(System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SignOut (redirectUrl As String, initiateSignoutCleanup As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SignOut(System::String ^ redirectUrl, bool initiateSignoutCleanup);" />
      <MemberSignature Language="F#" Value="abstract member SignOut : string * bool -&gt; unit&#xA;override this.SignOut : string * bool -&gt; unit" Usage="wSFederationAuthenticationModule.SignOut (redirectUrl, initiateSignoutCleanup)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="redirectUrl" Type="System.String" />
        <Parameter Name="initiateSignoutCleanup" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="redirectUrl">
          <span data-ttu-id="876d6-660">登出後瀏覽器應該重新導向的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-660">The URL to which the browser should be redirected after sign-out.</span>
          </span>
        </param>
        <param name="initiateSignoutCleanup">
          <span data-ttu-id="876d6-661">一律設為 <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-661">Always set <see langword="false" />.</span>
          </span>
          <span data-ttu-id="876d6-662">不支援將這個參數設為 <see langword="true" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-662">Setting this parameter to <see langword="true" /> is not supported.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="876d6-663">登出目前工作階段並要求重新導向至指定的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-663">Signs out of the current session and requests a redirect back to the specified URL.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-664">刪除目前工作階段，並將瀏覽器重新導向回到指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="876d6-664">Deletes the current session and redirects the browser back to the specified URL.</span></span>  
  
 <span data-ttu-id="876d6-665">叫用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType>方法`initiateSignoutCleanup`參數集`false`。</span><span class="sxs-lookup"><span data-stu-id="876d6-665">Invokes the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method with the `initiateSignoutCleanup` parameter set `false`.</span></span>  
  
 <span data-ttu-id="876d6-666">沒有登出要求訊息 (「 wsignout1.0 」) 會傳送給安全性權杖服務 (STS)。</span><span class="sxs-lookup"><span data-stu-id="876d6-666">No sign-out request message ("wsignout1.0") is sent to the security token service (STS).</span></span> <span data-ttu-id="876d6-667">若要登出在 STS 使用 WS-同盟通訊協定，使用<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-667">To sign-out at the STS using WS-Federation protocol, use the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="876d6-668">
            <paramref name="redirectUrl" /> 不是有效的 URI。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-668">
              <paramref name="redirectUrl" /> is not a valid URI.</span>
          </span>
        </exception>
        <exception cref="T:System.NotImplementedException">
          <span data-ttu-id="876d6-669">如果<paramref name="initiateSignoutCleanup" /> 是 <see langword="true" />，<see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> 類別會擲回此例外狀況。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-669">The <see cref="T:System.IdentityModel.Services.WSFederationAuthenticationModule" /> class throws this exception if <paramref name="initiateSignoutCleanup" /> is <see langword="true" />.</span>
          </span>
          <span data-ttu-id="876d6-670">不要將這個參數設定為 <see langword="true" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-670">Do not set this parameter to <see langword="true" />.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="SignOutError">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; SignOutError;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.ErrorEventArgs&gt; SignOutError" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError" />
      <MemberSignature Language="VB.NET" Value="Public Event SignOutError As EventHandler(Of ErrorEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::ErrorEventArgs ^&gt; ^ SignOutError;" />
      <MemberSignature Language="F#" Value="member this.SignOutError : EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; " Usage="member this.SignOutError : System.EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-671">當登出發生錯誤時引發。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-671">Raised when an error occurs during sign-out.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-672">透過呼叫就會引發這個事件<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignOutError%2A>內的方法<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType>方法並登出信賴憑證者的合作對象 (RP) 在工作階段。</span><span class="sxs-lookup"><span data-stu-id="876d6-672">This event is raised through a call to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.OnSignOutError%2A> method from inside the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOut%28System.Boolean%29?displayProperty=nameWithType> method while signing out of the session at the relying party (RP).</span></span> <span data-ttu-id="876d6-673">當同盟登出功能，透過的這樣做時，不會引發事件<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="876d6-673">The event is not raised when doing federated sign-out through the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method.</span></span>  
  
 <span data-ttu-id="876d6-674"><xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError>是可取消事件。</span><span class="sxs-lookup"><span data-stu-id="876d6-674">The <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutError> event is a cancellable event.</span></span> <span data-ttu-id="876d6-675">您可以設定<xref:System.ComponentModel.CancelEventArgs.Cancel%2A>中若要避免這個例外狀況傳回給啟動者的登出造成錯誤的事件處理常式屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-675">You can set the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property in an event handler to prevent the exception that caused the error from being returned to the initiator of the sign-out.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignOutQueryString">
      <MemberSignature Language="C#" Value="public string SignOutQueryString { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string SignOutQueryString" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutQueryString" />
      <MemberSignature Language="VB.NET" Value="Public Property SignOutQueryString As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ SignOutQueryString { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.SignOutQueryString : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutQueryString" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-676">取得或設定查詢字串，包含 WS-同盟登出要求 ("wsignout1.0") 中要傳送的任何其他參數。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-676">Gets or sets a query string that contains any additional parameters to be sent in WS-Federation sign-out requests ("wsignout1.0").</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-677">URL 片段包含額外的訊息中的參數以下列格式： <c>param1 = value1&amp;param2 = value2&amp;paramN = 看值</c>。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-677">A URL fragment that contains the additional message parameters in the following format: <c>param1=value1&amp;param2=value2&amp;paramN=valueN</c>.</span>
          </span>
          <span data-ttu-id="876d6-678">預設為空字串。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-678">The default is an empty string.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-679">依預設，這個屬性會初始化從`signOutQueryString`屬性[ &lt;wsFederation&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation.md)組態檔中的項目。</span><span class="sxs-lookup"><span data-stu-id="876d6-679">By default, this property is initialized from the `signOutQueryString` attribute of the [&lt;wsFederation&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation.md) element in the configuration file.</span></span> <span data-ttu-id="876d6-680">它被要包含在 WS-同盟登出要求中傳送任何應用程式特有的參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-680">It is intended to contain any application-specific parameters to be sent in a WS-Federation sign-out request.</span></span> <span data-ttu-id="876d6-681">若要移除這些參數，您可以設定此屬性設為空字串。</span><span class="sxs-lookup"><span data-stu-id="876d6-681">To remove these parameters, you can set the property to an empty string.</span></span>  
  
 <span data-ttu-id="876d6-682">WSFAM 不會直接; 使用這個屬性不過，您可以將它傳遞給<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetFederationPassiveSignOutUrl%2A>方法，以建立完整的 WS-同盟登出 URL，然後由您的程式碼。</span><span class="sxs-lookup"><span data-stu-id="876d6-682">The WSFAM does not use this property directly; however, you can pass it to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetFederationPassiveSignOutUrl%2A> method to create a complete WS-Federation sign-out URL that can then be used by your code.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-683">嘗試將屬性設為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-683">An attempt to set the property to <see langword="null" /> occurs.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="SignOutReply">
      <MemberSignature Language="C#" Value="public string SignOutReply { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string SignOutReply" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutReply" />
      <MemberSignature Language="VB.NET" Value="Public Property SignOutReply As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ SignOutReply { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.SignOutReply : string with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutReply" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-684">取得或設定要在 WS-同盟登出要求 ("wsignout1.0") 期間使用的 wreply 參數值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-684">Gets or sets the value of the wreply parameter to use during WS-Federation sign-out requests ("wsignout1.0").</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-685">登出後，應該由安全性權杖服務 (STS) 透過 WS-Federation 通訊協定將用戶端重新導向的 URL。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-685">The URL to which the client should be redirected by the security token service (STS) following sign-out through the WS-Federation protocol.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="876d6-686">依預設，這個屬性會初始化從`signOutReply`屬性[ &lt;wsFederation&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation.md)組態檔中的項目。</span><span class="sxs-lookup"><span data-stu-id="876d6-686">By default, this property is initialized from the `signOutReply` attribute of the [&lt;wsFederation&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation.md) element in the configuration file.</span></span> <span data-ttu-id="876d6-687">它被為了代表 wreply 參數 WS-同盟登出要求中。</span><span class="sxs-lookup"><span data-stu-id="876d6-687">It is intended to represent the wreply parameter in a WS-Federation sign-out request.</span></span>  
  
 <span data-ttu-id="876d6-688">Wreply 參數是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="876d6-688">The wreply parameter is optional.</span></span> <span data-ttu-id="876d6-689">如果<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutReply%2A>屬性設定為`null`或登出要求中未包含空字串，wreply 參數。</span><span class="sxs-lookup"><span data-stu-id="876d6-689">If the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SignOutReply%2A> property is set to `null` or an empty string, the wreply parameter is not included in the sign-out request.</span></span>  
  
 <span data-ttu-id="876d6-690">WSFAM 不直接使用這個屬性。</span><span class="sxs-lookup"><span data-stu-id="876d6-690">The WSFAM does not use this property directly.</span></span> <span data-ttu-id="876d6-691">不過，您可以將它傳遞給<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A>方法時執行 WS-同盟登出從您的程式碼，或者您可以將它傳遞給<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetFederationPassiveSignOutUrl%2A>方法，以建立完整的 WS-同盟登出 URL。</span><span class="sxs-lookup"><span data-stu-id="876d6-691">However, you can pass it to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.FederatedSignOut%2A> method when performing WS-Federation sign-out from your code or you can pass it to the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.GetFederationPassiveSignOutUrl%2A> method to create a complete WS-Federation sign-out URL.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="VerifyProperties">
      <MemberSignature Language="C#" Value="public void VerifyProperties ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void VerifyProperties() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.WSFederationAuthenticationModule.VerifyProperties" />
      <MemberSignature Language="VB.NET" Value="Public Sub VerifyProperties ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void VerifyProperties();" />
      <MemberSignature Language="F#" Value="member this.VerifyProperties : unit -&gt; unit" Usage="wSFederationAuthenticationModule.VerifyProperties " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="876d6-692">確認 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 和 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> 屬性不是空的，且如果 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" /> 屬性為 <see langword="true" />，則 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 和 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> 的指定 URI 與 HTTPS 相容。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-692">Verifies that the <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> and <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> properties are non-empty, and, that, if the <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" /> property is <see langword="true" />, that the URIs specified for <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> and <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> are HTTPS-compliant.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="876d6-693">
            <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 為 <see langword="null" /> 或空字串。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-693">
              <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> is <see langword="null" /> or an empty string.</span>
          </span>
          <span data-ttu-id="876d6-694">-或-  <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> 為 <see langword="null" /> 或空字串。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-694">-or-  <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> is <see langword="null" /> or an empty string.</span>
          </span>
          <span data-ttu-id="876d6-695">-或-  <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" /> 為 <see langword="true" />，而且 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> 不符合 HTTPS 標準。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-695">-or-  <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" /> is <see langword="true" /> and <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Issuer" /> not HTTPS-compliant.</span>
          </span>
          <span data-ttu-id="876d6-696">-或-  <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" /> 為 <see langword="true" />，而且 <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> 不符合 HTTPS 標準。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-696">-or-  <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.RequireHttps" /> is <see langword="true" /> and <see cref="P:System.IdentityModel.Services.WSFederationAuthenticationModule.Realm" /> not HTTPS-compliant.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="XmlDictionaryReaderQuotas">
      <MemberSignature Language="C#" Value="public System.Xml.XmlDictionaryReaderQuotas XmlDictionaryReaderQuotas { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Xml.XmlDictionaryReaderQuotas XmlDictionaryReaderQuotas" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.WSFederationAuthenticationModule.XmlDictionaryReaderQuotas" />
      <MemberSignature Language="VB.NET" Value="Public Property XmlDictionaryReaderQuotas As XmlDictionaryReaderQuotas" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Xml::XmlDictionaryReaderQuotas ^ XmlDictionaryReaderQuotas { System::Xml::XmlDictionaryReaderQuotas ^ get(); void set(System::Xml::XmlDictionaryReaderQuotas ^ value); };" />
      <MemberSignature Language="F#" Value="member this.XmlDictionaryReaderQuotas : System.Xml.XmlDictionaryReaderQuotas with get, set" Usage="System.IdentityModel.Services.WSFederationAuthenticationModule.XmlDictionaryReaderQuotas" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Xml.XmlDictionaryReaderQuotas</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="876d6-697">取得或設定 <see cref="T:System.Xml.XmlDictionaryReaderQuotas" /> 物件，以用於還原序列化 WS-Federation 登入回應訊息時，取得安全性權杖服務 (STS) 所發出的權杖。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-697">Gets or sets the <see cref="T:System.Xml.XmlDictionaryReaderQuotas" /> object to use when deserializing WS-Federation sign-in response messages to get the token issued by the security token service (STS).</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="876d6-698">
            <see cref="T:System.Xml.XmlDictionaryReaderQuotas" /> 物件，以用於還原序列化 WS-Federation 登入回應訊息時，取得安全性權杖服務 (STS) 所發出的權杖。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-698">The <see cref="T:System.Xml.XmlDictionaryReaderQuotas" /> object to use when deserializing WS-Federation sign-in response messages to get the token issued by the security token service (STS).</span>
          </span>
        </value>
        <remarks>To be added.</remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="876d6-699">嘗試將屬性設為 <see langword="null" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="876d6-699">An attempt to set the property to <see langword="null" /> occurs.</span>
          </span>
        </exception>
      </Docs>
    </Member>
  </Members>
</Type>