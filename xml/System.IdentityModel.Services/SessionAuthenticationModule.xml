<Type Name="SessionAuthenticationModule" FullName="System.IdentityModel.Services.SessionAuthenticationModule">
  <Metadata><Meta Name="ms.openlocfilehash" Value="1289b28bb0b4bf053a1698a1a9adae95172abf08" /><Meta Name="ms.sourcegitcommit" Value="434f60616a9793fa8436744549fc856e94f7a648" /><Meta Name="ms.translationtype" Value="HT" /><Meta Name="ms.contentlocale" Value="zh-TW" /><Meta Name="ms.lasthandoff" Value="08/25/2018" /><Meta Name="ms.locfileid" Value="39753171" /></Metadata><TypeSignature Language="C#" Value="public class SessionAuthenticationModule : System.IdentityModel.Services.HttpModuleBase" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit SessionAuthenticationModule extends System.IdentityModel.Services.HttpModuleBase" />
  <TypeSignature Language="DocId" Value="T:System.IdentityModel.Services.SessionAuthenticationModule" />
  <TypeSignature Language="VB.NET" Value="Public Class SessionAuthenticationModule&#xA;Inherits HttpModuleBase" />
  <TypeSignature Language="C++ CLI" Value="public ref class SessionAuthenticationModule : System::IdentityModel::Services::HttpModuleBase" />
  <TypeSignature Language="F#" Value="type SessionAuthenticationModule = class&#xA;    inherit HttpModuleBase" />
  <AssemblyInfo>
    <AssemblyName>System.IdentityModel.Services</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.IdentityModel.Services.HttpModuleBase</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="7b8f9-101">實作 ASP.NET 模組，它會處理在 WS-Federation 案例中的工作階段 cookie。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-101">Implements an ASP.NET module that processes session cookies in WS-Federation scenarios.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-102">在 ASP.NET 管線中，存在時<xref:System.IdentityModel.Services.SessionAuthenticationModule>(SAM) 會處理在 Ws-federation 案例中的工作階段 cookie。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-102">When present in the ASP.NET pipeline, the <xref:System.IdentityModel.Services.SessionAuthenticationModule> (SAM) processes session cookies in WS-Federation scenarios.</span></span> <span data-ttu-id="7b8f9-103">它會使用指定的 cookie 處理常式<xref:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler%2A>屬性未經處理的工作階段 cookie 讀取的 HTTP 要求，並寫入至 HTTP 回應。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-103">It uses the cookie handler specified by the <xref:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler%2A> property to read the raw session cookie from the HTTP request and write it to the HTTP response.</span></span> <span data-ttu-id="7b8f9-104">它會使用<xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler>設定應用程式還原序列化至未經處理的工作階段 cookie<xref:System.IdentityModel.Tokens.SessionSecurityToken>物件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-104">It uses the <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler> that is configured for an application to deserialize the raw session cookie into <xref:System.IdentityModel.Tokens.SessionSecurityToken> objects.</span></span> <span data-ttu-id="7b8f9-105">工作階段安全性權杖包含宣告 (<xref:System.Security.Claims.Claim>) 和主體 (<xref:System.Security.Claims.ClaimsPrincipal>) 正在服務此要求的實體與相關聯。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-105">The session security token contains the claims (<xref:System.Security.Claims.Claim>) and principal (<xref:System.Security.Claims.ClaimsPrincipal>) associated with the entity for which the request is being served.</span></span>  
  
 <span data-ttu-id="7b8f9-106">SAM 加入其<xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A>事件處理常式來<xref:System.Web.HttpApplication.AuthenticateRequest?displayProperty=nameWithType>ASP.NET 管線中的事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-106">The SAM adds its <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A> event handler to the <xref:System.Web.HttpApplication.AuthenticateRequest?displayProperty=nameWithType> event in the ASP.NET pipeline.</span></span> <span data-ttu-id="7b8f9-107">這個處理常式會攔截登入要求，如果沒有工作階段 cookie，將它還原序列化工作階段權杖，並設定<xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType>和<xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType>屬性，以包含在工作階段權杖的宣告主體。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-107">This handler intercepts sign-in requests, and, if there is a session cookie, deserializes it into a session token, and sets the <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> and <xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType> properties to the claims principal contained in the session token.</span></span> <span data-ttu-id="7b8f9-108">它會叫用數個在此程序期間公開 sam 的其他方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-108">It invokes several of the other methods exposed by the SAM during this process.</span></span>  
  
 <span data-ttu-id="7b8f9-109"><xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A>可以叫用方法，以將使用者登出工作階段 （例如，在 SignOut.aspx.cs 程式碼後置檔案）。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-109">The <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A> method can be invoked to sign the user out of a session (for example, in a SignOut.aspx.cs code-behind file).</span></span>  
  
 <span data-ttu-id="7b8f9-110">SAM 會公開數個事件，提供存取至其處理管線。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-110">The SAM exposes several events that provide access to its processing pipeline.</span></span> <span data-ttu-id="7b8f9-111"><xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived>和<xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated>事件可讓您修改讀取 cookie 或在處理期間建立的工作階段權杖。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-111">The <xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived> and <xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated> events enable you to modify session tokens that are read from cookies or created during processing.</span></span> <span data-ttu-id="7b8f9-112">一般而言，這是要新增、 移除或轉換權杖中的宣告，或調整其到期時間。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-112">Typically, this is done to add, remove, or transform claims in the token or to adjust its expiration time.</span></span> <span data-ttu-id="7b8f9-113"><xref:System.IdentityModel.Services.SessionAuthenticationModule.SigningOut>， <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignedOut>，和<xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOutError>事件提供攔截到登出要求的處理。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-113">The <xref:System.IdentityModel.Services.SessionAuthenticationModule.SigningOut>, <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignedOut>, and <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOutError> events provide hooks into the processing of sign-out requests.</span></span> <span data-ttu-id="7b8f9-114">對於許多案例中，只要加入這些事件處理常式通常 global.asax.cs 檔案的內容，會足夠。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-114">For many scenarios, simply adding handlers for these events, often to the global.asax.cs file, will be sufficient.</span></span>  
  
 <span data-ttu-id="7b8f9-115">更複雜的情況下，您可以從衍生<xref:System.IdentityModel.Services.SessionAuthenticationModule>來實作自訂的 SAM。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-115">For more complicated scenarios, you can derive from <xref:System.IdentityModel.Services.SessionAuthenticationModule> to implement a custom SAM.</span></span> <span data-ttu-id="7b8f9-116">為了這個目的，期間叫用方法的許多<xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A>和<xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A>公開，讓您能夠提供自訂行為的工作階段處理生命週期的特定階段。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-116">To this end, many of the methods that are invoked during <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A> and <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A> are exposed so that you can provide custom behavior at specific stages of the session processing lifecycle.</span></span>  
  
 <span data-ttu-id="7b8f9-117">您也可以將它新增至 HTTP 模組，在組態檔中的 ASP.NET 管線新增 SAM`<system.webServer>`項目適用於 IIS 7 及更新版本的版本，或在`<system.web>`IIS 7 之前的版本中的項目。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-117">You can add the SAM to the ASP.NET pipeline in a configuration file by adding it to the HTTP modules under either the `<system.webServer>` element for IIS version 7 and later or under the `<system.web>` element for versions prior to IIS 7.</span></span> <span data-ttu-id="7b8f9-118">SAM 所使用的 cookie 處理常式可以設有[ &lt;cookieHandler&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/cookiehandler.md)項目。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-118">The cookie handler used by the SAM can be configured with the [&lt;cookieHandler&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/cookiehandler.md) element.</span></span>  
  
   
  
## Examples  
 [!code-csharp[WifSAM#1](~/samples/snippets/csharp/VS_Snippets_Misc/wifsam/cs/webapplication1/global.asax.cs#1)]  
  
 <span data-ttu-id="7b8f9-119">下列 XML 會示範如何在 ASP.NET 管線中設定 SAM。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-119">The following XML shows how to configure the SAM in the ASP.NET pipeline.</span></span> <span data-ttu-id="7b8f9-120">為求簡單明瞭這裡省略許多其他會出現在一般組態中的項目。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-120">Many other elements that are present in a typical configuration are omitted here for brevity.</span></span>  
  
```xml  
<configuration>  
  <system.webServer>  
    <modules>  
      <!--WIF 4.5 modules -->  
      <add name="SessionAuthenticationModule" type="System.IdentityModel.Services.SessionAuthenticationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>  
      <add name="WsFederationAuthenticationModule" type="System.IdentityModel.Services.WSFederationAuthenticationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>  
    </modules>  
  </system.webServer>  
</configuration>  
```  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SessionAuthenticationModule ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SessionAuthenticationModule();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="7b8f9-121">初始化 <see cref="T:System.IdentityModel.Services.SessionAuthenticationModule" /> 類別的新執行個體。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-121">Initializes a new instance of the <see cref="T:System.IdentityModel.Services.SessionAuthenticationModule" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-122"><xref:System.IdentityModel.Services.SessionAuthenticationModule.IsReferenceMode%2A>屬性設定為`false`並<xref:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler%2A>屬性會初始化為預設執行個體<xref:System.IdentityModel.Services.CookieHandlerElement.ChunkedCookieHandler%2A>類別。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-122">The <xref:System.IdentityModel.Services.SessionAuthenticationModule.IsReferenceMode%2A> property is set to `false` and the <xref:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler%2A> property is initialized to a default instance of the <xref:System.IdentityModel.Services.CookieHandlerElement.ChunkedCookieHandler%2A> class.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="AuthenticateSessionSecurityToken">
      <MemberSignature Language="C#" Value="public virtual void AuthenticateSessionSecurityToken (System.IdentityModel.Tokens.SessionSecurityToken sessionToken, bool writeCookie);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void AuthenticateSessionSecurityToken(class System.IdentityModel.Tokens.SessionSecurityToken sessionToken, bool writeCookie) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.AuthenticateSessionSecurityToken(System.IdentityModel.Tokens.SessionSecurityToken,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub AuthenticateSessionSecurityToken (sessionToken As SessionSecurityToken, writeCookie As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void AuthenticateSessionSecurityToken(System::IdentityModel::Tokens::SessionSecurityToken ^ sessionToken, bool writeCookie);" />
      <MemberSignature Language="F#" Value="abstract member AuthenticateSessionSecurityToken : System.IdentityModel.Tokens.SessionSecurityToken * bool -&gt; unit&#xA;override this.AuthenticateSessionSecurityToken : System.IdentityModel.Tokens.SessionSecurityToken * bool -&gt; unit" Usage="sessionAuthenticationModule.AuthenticateSessionSecurityToken (sessionToken, writeCookie)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sessionToken" Type="System.IdentityModel.Tokens.SessionSecurityToken" />
        <Parameter Name="writeCookie" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="sessionToken"><span data-ttu-id="7b8f9-123">要用來驗證連入 HTTP 要求的工作階段安全性權杖。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-123">The session security token to use to authenticate the incoming HTTP request.</span></span></param>
        <param name="writeCookie"><span data-ttu-id="7b8f9-124"><see langword="true" /> 表示要寫入工作階段 cookie，否則為 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-124"><see langword="true" /> to write the session cookie; otherwise <see langword="false" />.</span></span></param>
        <summary><span data-ttu-id="7b8f9-125">藉由驗證連入工作階段權杖來驗證連入要求。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-125">Authenticates the incoming request by validating the incoming session token.</span></span> <span data-ttu-id="7b8f9-126">驗證成功時，它會使用 <see cref="T:System.IdentityModel.Tokens.SessionSecurityToken" /> 更新目前 HTTP 內容和執行緒主體。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-126">Upon successful validation, it updates the current HTTP context and thread principal with the specified  <see cref="T:System.IdentityModel.Tokens.SessionSecurityToken" />.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-127"><xref:System.IdentityModel.Services.SessionAuthenticationModule.AuthenticateSessionSecurityToken%2A>方法從呼叫<xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-127">The <xref:System.IdentityModel.Services.SessionAuthenticationModule.AuthenticateSessionSecurityToken%2A> method is called from the <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A> method.</span></span> <span data-ttu-id="7b8f9-128">它會呼叫<xref:System.IdentityModel.Services.SessionAuthenticationModule.SetPrincipalFromSessionToken%2A>方法來驗證連入權杖，並且更新<xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType>而<xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-128">It calls the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SetPrincipalFromSessionToken%2A> method to validate the incoming token and update the <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> and the <xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType> properties.</span></span> <span data-ttu-id="7b8f9-129">如果`writeCookie`參數是`true`，則<xref:System.IdentityModel.Services.SessionAuthenticationModule.WriteSessionTokenToCookie%2A>方法會叫用來寫入 cookie 的工作階段權杖。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-129">If the `writeCookie` parameter is `true`, the <xref:System.IdentityModel.Services.SessionAuthenticationModule.WriteSessionTokenToCookie%2A> method is invoked to write the session token to a cookie.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ContainsSessionTokenCookie">
      <MemberSignature Language="C#" Value="public bool ContainsSessionTokenCookie (System.Web.HttpCookieCollection httpCookieCollection);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance bool ContainsSessionTokenCookie(class System.Web.HttpCookieCollection httpCookieCollection) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.ContainsSessionTokenCookie(System.Web.HttpCookieCollection)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; bool ContainsSessionTokenCookie(System::Web::HttpCookieCollection ^ httpCookieCollection);" />
      <MemberSignature Language="F#" Value="member this.ContainsSessionTokenCookie : System.Web.HttpCookieCollection -&gt; bool" Usage="sessionAuthenticationModule.ContainsSessionTokenCookie httpCookieCollection" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="httpCookieCollection" Type="System.Web.HttpCookieCollection" />
      </Parameters>
      <Docs>
        <param name="httpCookieCollection"><span data-ttu-id="7b8f9-130">要在其中進行搜尋的 Cookie 集合。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-130">The collection of cookies in which to search.</span></span></param>
        <summary><span data-ttu-id="7b8f9-131">判斷工作階段 Cookie 是否在指定的 Cookie 集合中。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-131">Determines whether a session cookie is in the specified cookie collection.</span></span></summary>
        <returns><span data-ttu-id="7b8f9-132">如果找到工作階段 Cookie，則為 <see langword="true" />，否則為 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-132"><see langword="true" /> if a session cookie is found; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>To be added.</remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="7b8f9-133"><paramref name="httpCookieCollection" /> 為 null</span><span class="sxs-lookup"><span data-stu-id="7b8f9-133"><paramref name="httpCookieCollection" /> is null</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="ContextSessionSecurityToken">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Tokens.SessionSecurityToken ContextSessionSecurityToken { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.IdentityModel.Tokens.SessionSecurityToken ContextSessionSecurityToken" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.SessionAuthenticationModule.ContextSessionSecurityToken" />
      <MemberSignature Language="VB.NET" Value="Public Overridable ReadOnly Property ContextSessionSecurityToken As SessionSecurityToken" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property System::IdentityModel::Tokens::SessionSecurityToken ^ ContextSessionSecurityToken { System::IdentityModel::Tokens::SessionSecurityToken ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.ContextSessionSecurityToken : System.IdentityModel.Tokens.SessionSecurityToken" Usage="System.IdentityModel.Services.SessionAuthenticationModule.ContextSessionSecurityToken" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SessionSecurityToken</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="7b8f9-134">取得目前 <see cref="T:System.IdentityModel.Tokens.SessionSecurityToken" /> 的作用中 <see cref="T:System.Web.HttpContext" />。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-134">Gets the active <see cref="T:System.IdentityModel.Tokens.SessionSecurityToken" /> for the current <see cref="T:System.Web.HttpContext" />.</span></span></summary>
        <value><span data-ttu-id="7b8f9-135">使用中工作階段安全性權杖。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-135">The active session security token.</span></span></value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="CookieHandler">
      <MemberSignature Language="C#" Value="public System.IdentityModel.Services.CookieHandler CookieHandler { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.IdentityModel.Services.CookieHandler CookieHandler" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler" />
      <MemberSignature Language="VB.NET" Value="Public Property CookieHandler As CookieHandler" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::IdentityModel::Services::CookieHandler ^ CookieHandler { System::IdentityModel::Services::CookieHandler ^ get(); void set(System::IdentityModel::Services::CookieHandler ^ value); };" />
      <MemberSignature Language="F#" Value="member this.CookieHandler : System.IdentityModel.Services.CookieHandler with get, set" Usage="System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Services.CookieHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="7b8f9-136">取得用來讀取、寫入和刪除工作階段 cookie 的 cookie 處理常式。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-136">Gets the cookie handler that is used to read, write, and delete session cookies.</span></span></summary>
        <value><span data-ttu-id="7b8f9-137">Cookie 處理常式。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-137">The cookie handler.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-138"><xref:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler%2A>屬性由初始化<xref:System.IdentityModel.Services.SessionAuthenticationModule.InitializePropertiesFromConfiguration%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-138">The <xref:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler%2A> property is initialized by the <xref:System.IdentityModel.Services.SessionAuthenticationModule.InitializePropertiesFromConfiguration%2A> method.</span></span> <span data-ttu-id="7b8f9-139">這個方法會初始化根據指定的 cookie 處理常式的屬性<xref:System.IdentityModel.Services.Configuration.FederationConfiguration>物件上設定<xref:System.IdentityModel.Services.FederatedAuthentication.FederationConfiguration%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-139">This method initializes the property based on the cookie handler specified on the <xref:System.IdentityModel.Services.Configuration.FederationConfiguration> object that is set on the <xref:System.IdentityModel.Services.FederatedAuthentication.FederationConfiguration%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="7b8f9-140">您可以透過組態檔中設定的 cookie 處理常式[ &lt;cookieHandler&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/cookiehandler.md)項目。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-140">You can set the cookie handler in a configuration file through the [&lt;cookieHandler&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/cookiehandler.md) element.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie" />
        <altmember cref="M:System.IdentityModel.Services.SessionAuthenticationModule.TryReadSessionTokenFromCookie(System.IdentityModel.Tokens.SessionSecurityToken@)" />
        <altmember cref="M:System.IdentityModel.Services.SessionAuthenticationModule.WriteSessionTokenToCookie(System.IdentityModel.Tokens.SessionSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="CreateSessionSecurityToken">
      <MemberSignature Language="C#" Value="public System.IdentityModel.Tokens.SessionSecurityToken CreateSessionSecurityToken (System.Security.Claims.ClaimsPrincipal principal, string context, DateTime validFrom, DateTime validTo, bool isPersistent);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.IdentityModel.Tokens.SessionSecurityToken CreateSessionSecurityToken(class System.Security.Claims.ClaimsPrincipal principal, string context, valuetype System.DateTime validFrom, valuetype System.DateTime validTo, bool isPersistent) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.CreateSessionSecurityToken(System.Security.Claims.ClaimsPrincipal,System.String,System.DateTime,System.DateTime,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Function CreateSessionSecurityToken (principal As ClaimsPrincipal, context As String, validFrom As DateTime, validTo As DateTime, isPersistent As Boolean) As SessionSecurityToken" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::IdentityModel::Tokens::SessionSecurityToken ^ CreateSessionSecurityToken(System::Security::Claims::ClaimsPrincipal ^ principal, System::String ^ context, DateTime validFrom, DateTime validTo, bool isPersistent);" />
      <MemberSignature Language="F#" Value="member this.CreateSessionSecurityToken : System.Security.Claims.ClaimsPrincipal * string * DateTime * DateTime * bool -&gt; System.IdentityModel.Tokens.SessionSecurityToken" Usage="sessionAuthenticationModule.CreateSessionSecurityToken (principal, context, validFrom, validTo, isPersistent)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SessionSecurityToken</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="context" Type="System.String" />
        <Parameter Name="validFrom" Type="System.DateTime" />
        <Parameter Name="validTo" Type="System.DateTime" />
        <Parameter Name="isPersistent" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="principal"><span data-ttu-id="7b8f9-141">要在權杖中擷取的主體。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-141">The principal to be captured in the token.</span></span></param>
        <param name="context"><span data-ttu-id="7b8f9-142">應用程式定義的內容字串。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-142">An application-defined context string.</span></span></param>
        <param name="validFrom"><span data-ttu-id="7b8f9-143">這個語彙基元有效的第一個執行個體。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-143">The first instant in which this token is valid.</span></span></param>
        <param name="validTo"><span data-ttu-id="7b8f9-144">這個語彙基元有效的最後一個執行個體。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-144">The last instant in which this token is valid.</span></span></param>
        <param name="isPersistent"><span data-ttu-id="7b8f9-145">如果使用者代理程式應該保存此值，則為 <see langword="true" />，否則為 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-145"><see langword="true" /> if the value should be persisted by the user agent; otherwise, <see langword="false" />.</span></span></param>
        <summary><span data-ttu-id="7b8f9-146">使用已設定的工作階段權杖處理常式，從指定的參數建立 <see cref="T:System.IdentityModel.Tokens.SessionSecurityToken" />。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-146">Creates a <see cref="T:System.IdentityModel.Tokens.SessionSecurityToken" /> from the specified parameters by using the configured session token handler.</span></span></summary>
        <returns><span data-ttu-id="7b8f9-147">工作階段權杖。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-147">The session token.</span></span></returns>
        <remarks>To be added.</remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="7b8f9-148">不是有效的已設定工作階段權杖處理常式。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-148">There is not a valid session token handler configured.</span></span> <span data-ttu-id="7b8f9-149">(<see cref="T:System.IdentityModel.Tokens.SessionSecurityTokenHandler" /> 屬性中沒有設定 <see cref="P:System.IdentityModel.Configuration.IdentityConfiguration.SecurityTokenHandlers" />)。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-149">(There is no <see cref="T:System.IdentityModel.Tokens.SessionSecurityTokenHandler" /> configured in the <see cref="P:System.IdentityModel.Configuration.IdentityConfiguration.SecurityTokenHandlers" /> property.)</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DeleteSessionTokenCookie">
      <MemberSignature Language="C#" Value="public void DeleteSessionTokenCookie ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void DeleteSessionTokenCookie() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie" />
      <MemberSignature Language="VB.NET" Value="Public Sub DeleteSessionTokenCookie ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void DeleteSessionTokenCookie();" />
      <MemberSignature Language="F#" Value="member this.DeleteSessionTokenCookie : unit -&gt; unit" Usage="sessionAuthenticationModule.DeleteSessionTokenCookie " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="7b8f9-150">刪除工作階段 Cookie，並從快取中將其移除。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-150">Deletes the session cookie and removes it from the cache.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-151">使用指定的 cookie 處理常式會刪除工作階段 cookie<xref:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-151">Deletes the session cookie by using the cookie handler specified by the <xref:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler%2A> property.</span></span> <span data-ttu-id="7b8f9-152">會呼叫這個方法期間由登出<xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-152">This method is called during sign-out by the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="InitializeModule">
      <MemberSignature Language="C#" Value="protected override void InitializeModule (System.Web.HttpApplication context);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void InitializeModule(class System.Web.HttpApplication context) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.InitializeModule(System.Web.HttpApplication)" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Sub InitializeModule (context As HttpApplication)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void InitializeModule(System::Web::HttpApplication ^ context);" />
      <MemberSignature Language="F#" Value="override this.InitializeModule : System.Web.HttpApplication -&gt; unit" Usage="sessionAuthenticationModule.InitializeModule context" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpApplication" />
      </Parameters>
      <Docs>
        <param name="context"><span data-ttu-id="7b8f9-153">包含這個模組的 HTTP 應用程式物件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-153">The HTTP application object that contains this module.</span></span></param>
        <summary><span data-ttu-id="7b8f9-154">初始化模組，並做準備以處理來自模組之 [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] 應用程式物件的事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-154">Initializes the module and prepares it to handle events from the module's [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] application object.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-155">新增<xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A>和<xref:System.IdentityModel.Services.SessionAuthenticationModule.OnPostAuthenticateRequest%2A>處理常式<xref:System.Web.HttpApplication.AuthenticateRequest?displayProperty=nameWithType>並<xref:System.Web.HttpApplication.PostAuthenticateRequest?displayProperty=nameWithType>所指定的應用程式物件的事件`context`參數。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-155">Adds the <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A> and the <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnPostAuthenticateRequest%2A> handlers to the <xref:System.Web.HttpApplication.AuthenticateRequest?displayProperty=nameWithType> and <xref:System.Web.HttpApplication.PostAuthenticateRequest?displayProperty=nameWithType> events of the application object specified by the `context` parameter.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="InitializePropertiesFromConfiguration">
      <MemberSignature Language="C#" Value="protected override void InitializePropertiesFromConfiguration ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void InitializePropertiesFromConfiguration() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.InitializePropertiesFromConfiguration" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Sub InitializePropertiesFromConfiguration ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void InitializePropertiesFromConfiguration();" />
      <MemberSignature Language="F#" Value="override this.InitializePropertiesFromConfiguration : unit -&gt; unit" Usage="sessionAuthenticationModule.InitializePropertiesFromConfiguration " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="7b8f9-156">根據組態檔中的定義，初始化模組屬性。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-156">Initializes the module properties based on definitions in the configuration file.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-157">初始化<xref:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler%2A>屬性從指定的組態中的處理常式<xref:System.IdentityModel.Services.Configuration.FederationConfiguration?displayProperty=nameWithType>物件上設定<xref:System.IdentityModel.Services.FederatedAuthentication.FederationConfiguration%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-157">Initializes the <xref:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler%2A> property from the handler specified in configuration by the <xref:System.IdentityModel.Services.Configuration.FederationConfiguration?displayProperty=nameWithType> object that is set on the <xref:System.IdentityModel.Services.FederatedAuthentication.FederationConfiguration%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="7b8f9-158">您可以透過組態檔中指定的 cookie 處理常式[ &lt;cookieHandler&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/cookiehandler.md)項目。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-158">You can specify the cookie handler in a configuration file through the [&lt;cookieHandler&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/cookiehandler.md) element.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="IsReferenceMode">
      <MemberSignature Language="C#" Value="public bool IsReferenceMode { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool IsReferenceMode" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.SessionAuthenticationModule.IsReferenceMode" />
      <MemberSignature Language="VB.NET" Value="Public Property IsReferenceMode As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool IsReferenceMode { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.IsReferenceMode : bool with get, set" Usage="System.IdentityModel.Services.SessionAuthenticationModule.IsReferenceMode" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="7b8f9-159">取得或設定值，指定是否應該將工作階段資訊 (宣告值等) 儲存在工作階段 Cookie 中，或者是否應該將工作階段內容儲存在伺服器端 (使用 Cookie 只儲存參考)。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-159">Gets or sets a value that specifies whether the session information (claim values, etc.) should be stored in the session cookie or whether the session content should be stored on the server side, using the cookie to store just a reference.</span></span></summary>
        <value><span data-ttu-id="7b8f9-160">如果已發行的 Cookie 處於參考模式，則為 <see langword="true" />，否則為<see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-160"><see langword="true" /> if issued cookies are in reference mode; otherwise, <see langword="false" />.</span></span> <span data-ttu-id="7b8f9-161">預設是<see langword="false" />，指定所簽發的 cookie 未進入參考模式。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-161">The default is <see langword="false" />, which specifies that issued cookies are not in reference mode.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-162">在參考模式中，<xref:System.IdentityModel.Tokens.SessionSecurityToken>會儲存在伺服器端快取 (衍生自物件<xref:System.IdentityModel.Tokens.SessionSecurityTokenCache>)。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-162">In reference mode, the <xref:System.IdentityModel.Tokens.SessionSecurityToken> is stored in a server-side cache (an object that derives from <xref:System.IdentityModel.Tokens.SessionSecurityTokenCache>).</span></span> <span data-ttu-id="7b8f9-163">已發行的 cookie 只會包含用來擷取權杖，從快取為內容識別碼。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-163">The issued cookie just contains a context identifier that is used to retrieve the token from the cache.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="7b8f9-164">在參考模式中操作 Microsoft 建議您提供的處理常式<xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated?displayProperty=nameWithType>事件中的 global.asax.cs 檔案及設定<xref:System.IdentityModel.Tokens.SessionSecurityToken.IsReferenceMode%2A?displayProperty=nameWithType>傳入的權杖上<xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.SessionToken%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-164">To operate in reference mode, Microsoft recommends providing a handler for the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule.SessionSecurityTokenCreated?displayProperty=nameWithType> event in the global.asax.cs file and setting the <xref:System.IdentityModel.Tokens.SessionSecurityToken.IsReferenceMode%2A?displayProperty=nameWithType> property on the token passed in the <xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.SessionToken%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="7b8f9-165">這可確保工作階段權杖會以每個要求的參考模式運作，且優先只要設定<xref:System.IdentityModel.Services.SessionAuthenticationModule.IsReferenceMode%2A?displayProperty=nameWithType>工作階段驗證模組上的屬性。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-165">This will ensure that the session token operates in reference mode for every request and is favored over merely setting the <xref:System.IdentityModel.Services.SessionAuthenticationModule.IsReferenceMode%2A?displayProperty=nameWithType> property on the Session Authentication Module.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnAuthenticateRequest">
      <MemberSignature Language="C#" Value="protected virtual void OnAuthenticateRequest (object sender, EventArgs eventArgs);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnAuthenticateRequest(object sender, class System.EventArgs eventArgs) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest(System.Object,System.EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnAuthenticateRequest(System::Object ^ sender, EventArgs ^ eventArgs);" />
      <MemberSignature Language="F#" Value="abstract member OnAuthenticateRequest : obj * EventArgs -&gt; unit&#xA;override this.OnAuthenticateRequest : obj * EventArgs -&gt; unit" Usage="sessionAuthenticationModule.OnAuthenticateRequest (sender, eventArgs)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sender" Type="System.Object" />
        <Parameter Name="eventArgs" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="sender"><span data-ttu-id="7b8f9-166">事件的來源。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-166">The source for the event.</span></span> <span data-ttu-id="7b8f9-167">這個將會是 <see cref="T:System.Web.HttpApplication" /> 物件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-167">This will be an <see cref="T:System.Web.HttpApplication" /> object.</span></span></param>
        <param name="eventArgs"><span data-ttu-id="7b8f9-168">事件的資料。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-168">The data for the event.</span></span></param>
        <summary><span data-ttu-id="7b8f9-169">處理來自 [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] 管線的 <see cref="E:System.Web.HttpApplication.AuthenticateRequest" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-169">Handles the <see cref="E:System.Web.HttpApplication.AuthenticateRequest" /> event from the [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] pipeline.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-170">這個方法會執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="7b8f9-170">This method does the following:</span></span>  
  
1.  <span data-ttu-id="7b8f9-171">叫用<xref:System.IdentityModel.Services.SessionAuthenticationModule.TryReadSessionTokenFromCookie%2A>方法，以讀取<xref:System.IdentityModel.Tokens.SessionSecurityToken>從工作階段 cookie 中，如果有的話。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-171">Invokes the <xref:System.IdentityModel.Services.SessionAuthenticationModule.TryReadSessionTokenFromCookie%2A> method to read a <xref:System.IdentityModel.Tokens.SessionSecurityToken> from the session cookie, if one is present.</span></span>  
  
2.  <span data-ttu-id="7b8f9-172">如果工作階段安全性權杖不可為讀取 （最有可能因為工作階段尚未建立），就會傳回。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-172">If a session security token cannot be read (most likely because a session has not been established), return.</span></span>  
  
3.  <span data-ttu-id="7b8f9-173">叫用<xref:System.IdentityModel.Services.SessionAuthenticationModule.OnSessionSecurityTokenReceived%2A>方法以引發<xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived>事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-173">Invokes the <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnSessionSecurityTokenReceived%2A> method to raise the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived> event.</span></span> <span data-ttu-id="7b8f9-174">這便有機會從要修改的 cookie 讀取的語彙基元或取消要求。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-174">This provides an opportunity for the token read from the cookie to be modified or for the request to be canceled.</span></span> <span data-ttu-id="7b8f9-175">處理常式也可以指定的權杖應該重新發出，藉由設定<xref:System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs.ReissueCookie%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-175">The handler can also specify that the token should be reissued, by setting the <xref:System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs.ReissueCookie%2A?displayProperty=nameWithType> property.</span></span>  
  
4.  <span data-ttu-id="7b8f9-176">如果語彙基元重新發出，會從快取中移除，並叫用<xref:System.IdentityModel.Services.SessionAuthenticationModule.OnSessionSecurityTokenCreated%2A>方法以引發<xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated>事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-176">If the token is to be reissued, removes it from the cache and invokes the <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnSessionSecurityTokenCreated%2A> method to raise the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated> event.</span></span> <span data-ttu-id="7b8f9-177">這會提供要一次修改的語彙基元的機會。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-177">This provides opportunity for the token to again be modified.</span></span> <span data-ttu-id="7b8f9-178">請重新發出行為也可以藉由設定修改<xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.WriteSessionCookie%2A?displayProperty=nameWithType>事件處理常式中的屬性。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-178">The reissue behavior can also be modified by setting the <xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.WriteSessionCookie%2A?displayProperty=nameWithType> property in the event handler.</span></span>  
  
5.  <span data-ttu-id="7b8f9-179">叫用<xref:System.IdentityModel.Services.SessionAuthenticationModule.AuthenticateSessionSecurityToken%2A>方法來驗證使用者。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-179">Invokes the <xref:System.IdentityModel.Services.SessionAuthenticationModule.AuthenticateSessionSecurityToken%2A> method to authenticate the user.</span></span> <span data-ttu-id="7b8f9-180">如果成功，這已設定的作用<xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType>屬性中包含的主體<xref:System.IdentityModel.Tokens.SessionSecurityToken.ClaimsPrincipal%2A?displayProperty=nameWithType>的連入權杖的屬性。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-180">If successful, this has the effect of setting the <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> property to the principal that is contained in the <xref:System.IdentityModel.Tokens.SessionSecurityToken.ClaimsPrincipal%2A?displayProperty=nameWithType> property of the incoming token.</span></span>  
  
6.  <span data-ttu-id="7b8f9-181">如果工作階段已過期，會叫用<xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-181">If the session has expired, invokes the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A> method.</span></span>  
  
 <span data-ttu-id="7b8f9-182"><xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A>方法會加入至的處理常式<xref:System.Web.HttpApplication.AuthenticateRequest?displayProperty=nameWithType>中的事件<xref:System.IdentityModel.Services.SessionAuthenticationModule.InitializeModule%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-182">The <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A> method is added to the handlers for the <xref:System.Web.HttpApplication.AuthenticateRequest?displayProperty=nameWithType> event in the <xref:System.IdentityModel.Services.SessionAuthenticationModule.InitializeModule%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="7b8f9-183">不是有效的已設定工作階段權杖處理常式。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-183">There is not a valid session token handler configured.</span></span> <span data-ttu-id="7b8f9-184">(<see cref="T:System.IdentityModel.Tokens.SessionSecurityTokenHandler" /> 屬性中沒有設定 <see cref="P:System.IdentityModel.Configuration.IdentityConfiguration.SecurityTokenHandlers" />)。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-184">(There is no <see cref="T:System.IdentityModel.Tokens.SessionSecurityTokenHandler" /> configured in the <see cref="P:System.IdentityModel.Configuration.IdentityConfiguration.SecurityTokenHandlers" /> property.)</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="OnPostAuthenticateRequest">
      <MemberSignature Language="C#" Value="protected virtual void OnPostAuthenticateRequest (object sender, EventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnPostAuthenticateRequest(object sender, class System.EventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.OnPostAuthenticateRequest(System.Object,System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnPostAuthenticateRequest (sender As Object, e As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnPostAuthenticateRequest(System::Object ^ sender, EventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnPostAuthenticateRequest : obj * EventArgs -&gt; unit&#xA;override this.OnPostAuthenticateRequest : obj * EventArgs -&gt; unit" Usage="sessionAuthenticationModule.OnPostAuthenticateRequest (sender, e)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sender" Type="System.Object" />
        <Parameter Name="e" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="sender"><span data-ttu-id="7b8f9-185">事件的來源。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-185">The source for the event.</span></span> <span data-ttu-id="7b8f9-186">這個將會是 <see cref="T:System.Web.HttpApplication" /> 物件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-186">This will be an <see cref="T:System.Web.HttpApplication" /> object.</span></span></param>
        <param name="e"><span data-ttu-id="7b8f9-187">事件的資料。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-187">The data for the event.</span></span></param>
        <summary><span data-ttu-id="7b8f9-188">處理來自 [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] 管線的 <see cref="E:System.Web.HttpApplication.PostAuthenticateRequest" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-188">Handles the <see cref="E:System.Web.HttpApplication.PostAuthenticateRequest" /> event from the [!INCLUDE[vstecasp](~/includes/vstecasp-md.md)] pipeline.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-189">預設實作是空的。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-189">The default implementation is empty.</span></span>  
  
 <span data-ttu-id="7b8f9-190"><xref:System.IdentityModel.Services.SessionAuthenticationModule.OnPostAuthenticateRequest%2A>處理常式加入的處理常式<xref:System.Web.HttpApplication.PostAuthenticateRequest?displayProperty=nameWithType>中的事件<xref:System.IdentityModel.Services.SessionAuthenticationModule.InitializeModule%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-190">The <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnPostAuthenticateRequest%2A> handler is added to the handlers for the <xref:System.Web.HttpApplication.PostAuthenticateRequest?displayProperty=nameWithType> event in the <xref:System.IdentityModel.Services.SessionAuthenticationModule.InitializeModule%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnSessionSecurityTokenCreated">
      <MemberSignature Language="C#" Value="protected virtual void OnSessionSecurityTokenCreated (System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSessionSecurityTokenCreated(class System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.OnSessionSecurityTokenCreated(System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSessionSecurityTokenCreated (args As SessionSecurityTokenCreatedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSessionSecurityTokenCreated(System::IdentityModel::Services::SessionSecurityTokenCreatedEventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnSessionSecurityTokenCreated : System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs -&gt; unit&#xA;override this.OnSessionSecurityTokenCreated : System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs -&gt; unit" Usage="sessionAuthenticationModule.OnSessionSecurityTokenCreated args" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="args" Type="System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs" />
      </Parameters>
      <Docs>
        <param name="args"><span data-ttu-id="7b8f9-191">事件的資料。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-191">The data for the event.</span></span></param>
        <summary><span data-ttu-id="7b8f9-192">引發 <see cref="E:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-192">Raises the <see cref="E:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-193">從呼叫<xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-193">Called from the <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnSessionSecurityTokenReceived">
      <MemberSignature Language="C#" Value="protected virtual void OnSessionSecurityTokenReceived (System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs args);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSessionSecurityTokenReceived(class System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs args) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.OnSessionSecurityTokenReceived(System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSessionSecurityTokenReceived (args As SessionSecurityTokenReceivedEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSessionSecurityTokenReceived(System::IdentityModel::Services::SessionSecurityTokenReceivedEventArgs ^ args);" />
      <MemberSignature Language="F#" Value="abstract member OnSessionSecurityTokenReceived : System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs -&gt; unit&#xA;override this.OnSessionSecurityTokenReceived : System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs -&gt; unit" Usage="sessionAuthenticationModule.OnSessionSecurityTokenReceived args" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="args" Type="System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs" />
      </Parameters>
      <Docs>
        <param name="args"><span data-ttu-id="7b8f9-194">事件的資料。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-194">The data for the event.</span></span></param>
        <summary><span data-ttu-id="7b8f9-195">引發 <see cref="E:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-195">Raises the <see cref="E:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-196">從呼叫<xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-196">Called from the <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnSignedOut">
      <MemberSignature Language="C#" Value="protected virtual void OnSignedOut (EventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSignedOut(class System.EventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.OnSignedOut(System.EventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSignedOut (e As EventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSignedOut(EventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnSignedOut : EventArgs -&gt; unit&#xA;override this.OnSignedOut : EventArgs -&gt; unit" Usage="sessionAuthenticationModule.OnSignedOut e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.EventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="7b8f9-197">事件的資料。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-197">The data for the event.</span></span></param>
        <summary><span data-ttu-id="7b8f9-198">引發 <see cref="E:System.IdentityModel.Services.SessionAuthenticationModule.SignedOut" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-198">Raises the <see cref="E:System.IdentityModel.Services.SessionAuthenticationModule.SignedOut" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-199">這個方法會叫用從<xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A>方法之後登出已執行和已刪除的工作階段 cookie。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-199">This method is invoked from the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A> method after the sign-out has been performed and the session cookie has been deleted.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnSigningOut">
      <MemberSignature Language="C#" Value="protected virtual void OnSigningOut (System.IdentityModel.Services.SigningOutEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSigningOut(class System.IdentityModel.Services.SigningOutEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.OnSigningOut(System.IdentityModel.Services.SigningOutEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSigningOut (e As SigningOutEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSigningOut(System::IdentityModel::Services::SigningOutEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnSigningOut : System.IdentityModel.Services.SigningOutEventArgs -&gt; unit&#xA;override this.OnSigningOut : System.IdentityModel.Services.SigningOutEventArgs -&gt; unit" Usage="sessionAuthenticationModule.OnSigningOut e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.IdentityModel.Services.SigningOutEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="7b8f9-200">事件的資料。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-200">The data for the event.</span></span></param>
        <summary><span data-ttu-id="7b8f9-201">引發 <see cref="E:System.IdentityModel.Services.SessionAuthenticationModule.SigningOut" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-201">Raises the <see cref="E:System.IdentityModel.Services.SessionAuthenticationModule.SigningOut" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-202">這個方法會叫用從<xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A>方法，以執行登出。它會叫用才能刪除工作階段 cookie。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-202">This method is invoked from the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A> method to perform sign-out. It is invoked before the session cookie is deleted.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnSignOutError">
      <MemberSignature Language="C#" Value="protected virtual void OnSignOutError (System.IdentityModel.Services.ErrorEventArgs e);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnSignOutError(class System.IdentityModel.Services.ErrorEventArgs e) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.OnSignOutError(System.IdentityModel.Services.ErrorEventArgs)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnSignOutError (e As ErrorEventArgs)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnSignOutError(System::IdentityModel::Services::ErrorEventArgs ^ e);" />
      <MemberSignature Language="F#" Value="abstract member OnSignOutError : System.IdentityModel.Services.ErrorEventArgs -&gt; unit&#xA;override this.OnSignOutError : System.IdentityModel.Services.ErrorEventArgs -&gt; unit" Usage="sessionAuthenticationModule.OnSignOutError e" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="e" Type="System.IdentityModel.Services.ErrorEventArgs" />
      </Parameters>
      <Docs>
        <param name="e"><span data-ttu-id="7b8f9-203">事件的資料。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-203">The data for the event.</span></span></param>
        <summary><span data-ttu-id="7b8f9-204">引發 <see cref="E:System.IdentityModel.Services.SessionAuthenticationModule.SignOutError" /> 事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-204">Raises the <see cref="E:System.IdentityModel.Services.SessionAuthenticationModule.SignOutError" /> event.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-205">這個方法會叫用從<xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A>登出期間發生錯誤時的方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-205">This method is invoked from the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A> method if an error occurs during sign-out.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ReadSessionTokenFromCookie">
      <MemberSignature Language="C#" Value="public System.IdentityModel.Tokens.SessionSecurityToken ReadSessionTokenFromCookie (byte[] sessionCookie);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.IdentityModel.Tokens.SessionSecurityToken ReadSessionTokenFromCookie(unsigned int8[] sessionCookie) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.ReadSessionTokenFromCookie(System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Function ReadSessionTokenFromCookie (sessionCookie As Byte()) As SessionSecurityToken" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::IdentityModel::Tokens::SessionSecurityToken ^ ReadSessionTokenFromCookie(cli::array &lt;System::Byte&gt; ^ sessionCookie);" />
      <MemberSignature Language="F#" Value="member this.ReadSessionTokenFromCookie : byte[] -&gt; System.IdentityModel.Tokens.SessionSecurityToken" Usage="sessionAuthenticationModule.ReadSessionTokenFromCookie sessionCookie" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SessionSecurityToken</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sessionCookie" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="sessionCookie"><span data-ttu-id="7b8f9-206">在 cookie 中未經處理的格式，包含工作階段權杖。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-206">The cookie, in raw form, that contains the session token.</span></span></param>
        <summary><span data-ttu-id="7b8f9-207">從指定的工作階段 Cookie 讀取 <see cref="T:System.IdentityModel.Tokens.SessionSecurityToken" />。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-207">Reads a <see cref="T:System.IdentityModel.Tokens.SessionSecurityToken" /> from the specified session cookie.</span></span></summary>
        <returns><span data-ttu-id="7b8f9-208">已從 cookie 讀取的工作階段權杖。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-208">The session token that was read from the cookie.</span></span></returns>
        <remarks>To be added.</remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="7b8f9-209">不是有效的已設定工作階段權杖處理常式。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-209">There is not a valid session token handler configured.</span></span> <span data-ttu-id="7b8f9-210">(<see cref="T:System.IdentityModel.Tokens.SessionSecurityTokenHandler" /> 屬性中沒有設定 <see cref="P:System.IdentityModel.Configuration.IdentityConfiguration.SecurityTokenHandlers" />)。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-210">(There is no <see cref="T:System.IdentityModel.Tokens.SessionSecurityTokenHandler" /> configured in the <see cref="P:System.IdentityModel.Configuration.IdentityConfiguration.SecurityTokenHandlers" /> property.)</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="SessionSecurityTokenCreated">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt; SessionSecurityTokenCreated;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt; SessionSecurityTokenCreated" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated" />
      <MemberSignature Language="VB.NET" Value="Public Event SessionSecurityTokenCreated As EventHandler(Of SessionSecurityTokenCreatedEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::SessionSecurityTokenCreatedEventArgs ^&gt; ^ SessionSecurityTokenCreated;" />
      <MemberSignature Language="F#" Value="member this.SessionSecurityTokenCreated : EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt; " Usage="member this.SessionSecurityTokenCreated : System.EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt; " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="7b8f9-211">已經建立工作階段安全性權杖時發生。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-211">Occurs when a session security token has been created.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-212">若要修改的工作階段安全性權杖寫入至 cookie 之前，您可以使用此事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-212">You can use this event to modify the session security token before it is written to a cookie.</span></span>  
  
 <span data-ttu-id="7b8f9-213"><xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated>就會引發事件，從<xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A>方法之後的工作階段權杖 (<xref:System.IdentityModel.Tokens.SessionSecurityToken>) 已建立。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-213">The <xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated> event is raised from within the <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A> method after a session token (<xref:System.IdentityModel.Tokens.SessionSecurityToken>) has been created.</span></span> <span data-ttu-id="7b8f9-214">發生這種情況，例如，如果事件處理常式<xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived>事件修改權杖。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-214">This happens, for example, if an event handler for the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived> event modifies the token.</span></span>  
  
 <span data-ttu-id="7b8f9-215">若要修改的工作階段權杖的屬性，再進一步沿著管線傳遞並用來驗證要求 （使用者） 的實體，您可以使用此事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-215">You can use this event to modify properties of the session token before it is passed further along the pipeline and is used to authenticate the entity making the request (user).</span></span>  
  
 <span data-ttu-id="7b8f9-216">在事件處理常式中，您可以存取透過語彙基元<xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.SessionToken%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-216">In an event handler, you can access the token through the <xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.SessionToken%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="7b8f9-217">在修改後的權杖，您可以確保，它會寫回至 cookie 藉由設定<xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.WriteSessionCookie%2A?displayProperty=nameWithType>屬性設`true`。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-217">After modifying the token, you can ensure that it is written back to the cookie by setting the <xref:System.IdentityModel.Services.SessionSecurityTokenCreatedEventArgs.WriteSessionCookie%2A?displayProperty=nameWithType> property to `true`.</span></span> <span data-ttu-id="7b8f9-218">不同的是，<xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated>事件，<xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated>不是可取消的事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-218">Unlike, the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated> event, <xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated> is not a cancelable event.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="7b8f9-219">下列程式碼顯示的處理常式<xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated>global.asax.cs 檔案在 ASP.NET web 應用程式中實作的事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-219">The following code shows a handler for the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenCreated> event implemented in the global.asax.cs file of an ASP.NET web application.</span></span> <span data-ttu-id="7b8f9-220">您也必須新增事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-220">You must also add the handler to the event.</span></span> <span data-ttu-id="7b8f9-221">更完整的範例所示<xref:System.IdentityModel.Services.SessionAuthenticationModule>概觀主題。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-221">A more complete example is shown in the <xref:System.IdentityModel.Services.SessionAuthenticationModule> overview topic.</span></span>  
  
 [!code-csharp[WifSAM#6](~/samples/snippets/csharp/VS_Snippets_Misc/wifsam/cs/webapplication1/global.asax.cs#6)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SessionSecurityTokenReceived">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs&gt; SessionSecurityTokenReceived;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs&gt; SessionSecurityTokenReceived" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived" />
      <MemberSignature Language="VB.NET" Value="Public Event SessionSecurityTokenReceived As EventHandler(Of SessionSecurityTokenReceivedEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::SessionSecurityTokenReceivedEventArgs ^&gt; ^ SessionSecurityTokenReceived;" />
      <MemberSignature Language="F#" Value="member this.SessionSecurityTokenReceived : EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs&gt; " Usage="member this.SessionSecurityTokenReceived : System.EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs&gt; " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="7b8f9-222">已經從 cookie 讀取工作階段安全性權杖時發生。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-222">Occurs when a session security token has been read from a cookie.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-223"><xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived>就會引發事件，從<xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A>方法之後的工作階段權杖 (<xref:System.IdentityModel.Tokens.SessionSecurityToken>) 已成功從工作階段 cookie 讀取。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-223">The <xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived> event is raised from within the <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnAuthenticateRequest%2A> method after a session token (<xref:System.IdentityModel.Tokens.SessionSecurityToken>) has been successfully read from the session cookie.</span></span>  
  
 <span data-ttu-id="7b8f9-224">若要修改的工作階段權杖的屬性，再進一步沿著管線傳遞並用來驗證要求 （使用者） 的實體，您可以使用此事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-224">You can use this event to modify properties of the session token before it is passed further along the pipeline and is used to authenticate the entity making the request (user).</span></span> <span data-ttu-id="7b8f9-225">其中一個最常見案例涉及修改的工作階段到期時間 (可透過存取<xref:System.IdentityModel.Tokens.SessionSecurityToken.ValidTo%2A?displayProperty=nameWithType>屬性) 來覆寫透過設定中設定的工作階段到期時間`lifetime`屬性[ &lt;sessionTokenRequirement&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/sessiontokenrequirement.md)項目。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-225">One of the most common scenarios involves modifying the session expiration time (accessible through the <xref:System.IdentityModel.Tokens.SessionSecurityToken.ValidTo%2A?displayProperty=nameWithType> property) to override the session expiration time set in configuration through the `lifetime` attribute of the [&lt;sessionTokenRequirement&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/sessiontokenrequirement.md) element.</span></span> <span data-ttu-id="7b8f9-226">藉由修改每個要求上的這個屬性，您可以實作滑動的工作階段中。也就是工作階段存留期會延伸每次使用者存取站台。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-226">By modifying this property on each request, you can implement a sliding session; that is, a session in which the lifetime is extended each time the user accesses the site.</span></span>  
  
 <span data-ttu-id="7b8f9-227">在事件處理常式中，您可以存取透過語彙基元<xref:System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs.SessionToken%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-227">In an event handler, you can access the token through the <xref:System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs.SessionToken%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="7b8f9-228">在修改後的權杖，您可以確保，它會寫回至 cookie 藉由設定<xref:System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs.ReissueCookie%2A?displayProperty=nameWithType>至`true`。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-228">After modifying the token, you can ensure that it is written back to the cookie by setting the <xref:System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs.ReissueCookie%2A?displayProperty=nameWithType> to `true`.</span></span> <span data-ttu-id="7b8f9-229">最後，<xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived>事件是否可取消的事件，而您可以設定<xref:System.ComponentModel.CancelEventArgs.Cancel%2A>屬性<xref:System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs>中止進一步處理的要求。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-229">Finally, the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived> event is a cancelable event, and you can set the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property of the <xref:System.IdentityModel.Services.SessionSecurityTokenReceivedEventArgs> to abort further processing of the request.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="7b8f9-230">下列程式碼顯示的處理常式<xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived>global.asax.cs 檔案在 ASP.NET web 應用程式中實作的事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-230">The following code shows a handler for the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SessionSecurityTokenReceived> event implemented in the global.asax.cs file of an ASP.NET web application.</span></span> <span data-ttu-id="7b8f9-231">您也必須新增事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-231">You must also add the handler to the event.</span></span> <span data-ttu-id="7b8f9-232">更完整的範例所示<xref:System.IdentityModel.Services.SessionAuthenticationModule>概觀主題。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-232">A more complete example is shown in the <xref:System.IdentityModel.Services.SessionAuthenticationModule> overview topic.</span></span>  
  
 [!code-csharp[WifSAM#5](~/samples/snippets/csharp/VS_Snippets_Misc/wifsam/cs/webapplication1/global.asax.cs#5)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SetPrincipalFromSessionToken">
      <MemberSignature Language="C#" Value="protected virtual void SetPrincipalFromSessionToken (System.IdentityModel.Tokens.SessionSecurityToken sessionSecurityToken);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void SetPrincipalFromSessionToken(class System.IdentityModel.Tokens.SessionSecurityToken sessionSecurityToken) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.SetPrincipalFromSessionToken(System.IdentityModel.Tokens.SessionSecurityToken)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void SetPrincipalFromSessionToken(System::IdentityModel::Tokens::SessionSecurityToken ^ sessionSecurityToken);" />
      <MemberSignature Language="F#" Value="abstract member SetPrincipalFromSessionToken : System.IdentityModel.Tokens.SessionSecurityToken -&gt; unit&#xA;override this.SetPrincipalFromSessionToken : System.IdentityModel.Tokens.SessionSecurityToken -&gt; unit" Usage="sessionAuthenticationModule.SetPrincipalFromSessionToken sessionSecurityToken" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sessionSecurityToken" Type="System.IdentityModel.Tokens.SessionSecurityToken" />
      </Parameters>
      <Docs>
        <param name="sessionSecurityToken"><span data-ttu-id="7b8f9-233">要從中設定主體的工作階段權杖。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-233">The session token from which to set the principal.</span></span></param>
        <summary><span data-ttu-id="7b8f9-234">將 <see cref="T:System.Web.HttpContext" /> 和 <see cref="T:System.Threading.Thread" /> 的主體設為指定工作階段權杖中包含的主體。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-234">Sets the principal on the <see cref="T:System.Web.HttpContext" /> and <see cref="T:System.Threading.Thread" /> to the principal that is contained in the specified session token.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-235">叫用<xref:System.IdentityModel.Services.SessionAuthenticationModule.ValidateSessionToken%2A>方法，並將<xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType>屬性並<xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType>上的屬性<xref:System.Web.HttpContext.Current%2A?displayProperty=nameWithType>使用會傳回身分識別。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-235">Invokes the <xref:System.IdentityModel.Services.SessionAuthenticationModule.ValidateSessionToken%2A> method and sets the <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> property and the <xref:System.Web.HttpContext.User%2A?displayProperty=nameWithType> property on <xref:System.Web.HttpContext.Current%2A?displayProperty=nameWithType> using the identities that are returned.</span></span>  
  
 <span data-ttu-id="7b8f9-236">這個方法會從呼叫<xref:System.IdentityModel.Services.SessionAuthenticationModule.AuthenticateSessionSecurityToken%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-236">This method is called from the <xref:System.IdentityModel.Services.SessionAuthenticationModule.AuthenticateSessionSecurityToken%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignedOut">
      <MemberSignature Language="C#" Value="public event EventHandler SignedOut;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler SignedOut" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.SessionAuthenticationModule.SignedOut" />
      <MemberSignature Language="VB.NET" Value="Public Event SignedOut As EventHandler " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler ^ SignedOut;" />
      <MemberSignature Language="F#" Value="member this.SignedOut : EventHandler " Usage="member this.SignedOut : System.EventHandler " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="7b8f9-237">使用者已登出之後發生。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-237">Occurs after the user is signed out.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-238">從引發<xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A>方法之後<xref:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie%2A>叫用方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-238">Raised from the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A> method just after the <xref:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie%2A> method is invoked.</span></span>  
  
 <span data-ttu-id="7b8f9-239">此事件不保證會針對每個工作階段呼叫。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-239">This event is not guaranteed to be called for every session.</span></span> <span data-ttu-id="7b8f9-240">例如，cookie 可能會遭到刪除用戶端中，在此情況下，引發這個事件會永遠不會因為刪除工作階段的任何伺服器端事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-240">For example, the cookies may be deleted at the client-side, in which case, this event would never be raised because there is no server-side event for deleting the session.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="7b8f9-241">下列程式碼顯示的處理常式<xref:System.IdentityModel.Services.SessionAuthenticationModule.SignedOut>global.asax.cs 檔案在 ASP.NET web 應用程式中實作的事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-241">The following code shows a handler for the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignedOut> event implemented in the global.asax.cs file of an ASP.NET web application.</span></span> <span data-ttu-id="7b8f9-242">您也必須新增事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-242">You must also add the handler to the event.</span></span> <span data-ttu-id="7b8f9-243">更完整的範例所示<xref:System.IdentityModel.Services.SessionAuthenticationModule>概觀主題。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-243">A more complete example is shown in the <xref:System.IdentityModel.Services.SessionAuthenticationModule> overview topic.</span></span>  
  
 [!code-csharp[WifSAM#3](~/samples/snippets/csharp/VS_Snippets_Misc/wifsam/cs/webapplication1/global.asax.cs#3)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SigningOut">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.SigningOutEventArgs&gt; SigningOut;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.SigningOutEventArgs&gt; SigningOut" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.SessionAuthenticationModule.SigningOut" />
      <MemberSignature Language="VB.NET" Value="Public Event SigningOut As EventHandler(Of SigningOutEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::SigningOutEventArgs ^&gt; ^ SigningOut;" />
      <MemberSignature Language="F#" Value="member this.SigningOut : EventHandler&lt;System.IdentityModel.Services.SigningOutEventArgs&gt; " Usage="member this.SigningOut : System.EventHandler&lt;System.IdentityModel.Services.SigningOutEventArgs&gt; " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.SigningOutEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="7b8f9-244">刪除登入工作階段之前發生。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-244">Occurs before deleting the sign-in session.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-245">從引發<xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A>方法之前<xref:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie%2A>叫用方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-245">Raised from the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A> method just before the <xref:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie%2A> method is invoked.</span></span>  
  
 <span data-ttu-id="7b8f9-246">此事件不保證會針對每個工作階段呼叫。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-246">This event is not guaranteed to be called for every session.</span></span> <span data-ttu-id="7b8f9-247">例如，cookie 可能會遭到刪除用戶端中，在此情況下，引發這個事件會永遠不會因為刪除工作階段的任何伺服器端事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-247">For example, the cookies may be deleted at the client-side, in which case, this event would never be raised because there is no server-side event for deleting the session.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="7b8f9-248">下列程式碼顯示的處理常式<xref:System.IdentityModel.Services.SessionAuthenticationModule.SigningOut>global.asax.cs 檔案在 ASP.NET web 應用程式中實作的事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-248">The following code shows a handler for the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SigningOut> event implemented in the global.asax.cs file of an ASP.NET web application.</span></span> <span data-ttu-id="7b8f9-249">您也必須新增事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-249">You must also add the handler to the event.</span></span> <span data-ttu-id="7b8f9-250">更完整的範例所示<xref:System.IdentityModel.Services.SessionAuthenticationModule>概觀主題。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-250">A more complete example is shown in the <xref:System.IdentityModel.Services.SessionAuthenticationModule> overview topic.</span></span>  
  
 [!code-csharp[WifSAM#4](~/samples/snippets/csharp/VS_Snippets_Misc/wifsam/cs/webapplication1/global.asax.cs#4)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignOut">
      <MemberSignature Language="C#" Value="public virtual void SignOut ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SignOut() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.SignOut" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SignOut ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SignOut();" />
      <MemberSignature Language="F#" Value="abstract member SignOut : unit -&gt; unit&#xA;override this.SignOut : unit -&gt; unit" Usage="sessionAuthenticationModule.SignOut " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="7b8f9-251">將目前使用者登出並引發適當的事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-251">Signs the current user out and raises the associated events.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-252">叫用<xref:System.IdentityModel.Services.SessionAuthenticationModule.OnSigningOut%2A>， <xref:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie%2A>，和<xref:System.IdentityModel.Services.SessionAuthenticationModule.OnSignedOut%2A>; 方法來執行登出。如果發生例外狀況<xref:System.IdentityModel.Services.SessionAuthenticationModule.OnSignOutError%2A>方法會叫用來引發<xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOutError>事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-252">Invokes the <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnSigningOut%2A>, <xref:System.IdentityModel.Services.SessionAuthenticationModule.DeleteSessionTokenCookie%2A>, and <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnSignedOut%2A> methods to perform sign-out. If an exception occurs, the <xref:System.IdentityModel.Services.SessionAuthenticationModule.OnSignOutError%2A> method is invoked to raise the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOutError> event.</span></span> <span data-ttu-id="7b8f9-253">您可以設定<xref:System.ComponentModel.CancelEventArgs.Cancel%2A>屬性<xref:System.IdentityModel.Services.ErrorEventArgs>物件傳遞至這個事件，以取消登出，並防止用戶端傳播的例外狀況的事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-253">You can set the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property of the <xref:System.IdentityModel.Services.ErrorEventArgs> object passed into the event handler for this event to cancel the sign-out and prevent the exception from being propagated to the client.</span></span>  
  
 <span data-ttu-id="7b8f9-254">您可以覆寫這個方法，以新增應用程式特有的行為。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-254">You can override this method to add application-specific behavior.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="7b8f9-255">下列程式碼顯示程式碼叫用<xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A>從 SignOut.aspx 網頁 (SignOut.aspx.cs) 中的 ASP.NET web 應用程式的方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-255">The following code shows code for invoking the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A> method from a SignOut.aspx page (SignOut.aspx.cs) in an ASP.NET web application.</span></span> <span data-ttu-id="7b8f9-256">更完整的範例所示<xref:System.IdentityModel.Services.SessionAuthenticationModule>概觀主題。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-256">A more complete example is shown in the <xref:System.IdentityModel.Services.SessionAuthenticationModule> overview topic.</span></span>  
  
 [!code-csharp[WifSAM#7](~/samples/snippets/csharp/VS_Snippets_Misc/wifsam/cs/webapplication1/global.asax.cs#7)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SignOutError">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; SignOutError;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.IdentityModel.Services.ErrorEventArgs&gt; SignOutError" />
      <MemberSignature Language="DocId" Value="E:System.IdentityModel.Services.SessionAuthenticationModule.SignOutError" />
      <MemberSignature Language="VB.NET" Value="Public Event SignOutError As EventHandler(Of ErrorEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; event EventHandler&lt;System::IdentityModel::Services::ErrorEventArgs ^&gt; ^ SignOutError;" />
      <MemberSignature Language="F#" Value="member this.SignOutError : EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; " Usage="member this.SignOutError : System.EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt; " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.IdentityModel.Services.ErrorEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="7b8f9-257">當登出期間發生錯誤時發生。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-257">Occurs when there is an error during sign-out.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-258">從引發<xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A>登出期間發生錯誤時的方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-258">Raised from the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOut%2A> method when an error occurs during sign-out.</span></span>  
  
 <span data-ttu-id="7b8f9-259">在 事件處理常式中，您可以取得所引發的事件中產生的例外狀況<xref:System.IdentityModel.Services.ErrorEventArgs.Exception%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-259">In an event handler, you can get the exception that resulted in the event being raised from the <xref:System.IdentityModel.Services.ErrorEventArgs.Exception%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="7b8f9-260">您可以取消進一步處理的例外狀況，其結果不藉由設定傳播至用戶端，例外狀況<xref:System.ComponentModel.CancelEventArgs.Cancel%2A>的屬性<xref:System.IdentityModel.Services.ErrorEventArgs>至`true`。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-260">You can cancel further processing of the exception, which has the result of not propagating the exception to the client, by setting the <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> property of the <xref:System.IdentityModel.Services.ErrorEventArgs> to `true`.</span></span>  
  
 <span data-ttu-id="7b8f9-261">此事件不保證會針對每個工作階段呼叫。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-261">This event is not guaranteed to be called for every session.</span></span> <span data-ttu-id="7b8f9-262">例如，cookie 可能會遭到刪除用戶端中，在此情況下，引發這個事件會永遠不會因為刪除工作階段的任何伺服器端事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-262">For example, the cookies may be deleted at the client-side, in which case, this event would never be raised because there is no server-side event for deleting the session.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="7b8f9-263">下列程式碼顯示的處理常式<xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOutError>global.asax.cs 檔案在 ASP.NET web 應用程式中實作的事件。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-263">The following code shows a handler for the <xref:System.IdentityModel.Services.SessionAuthenticationModule.SignOutError> event implemented in the global.asax.cs file of an ASP.NET web application.</span></span> <span data-ttu-id="7b8f9-264">您也必須新增事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-264">You must also add the handler to the event.</span></span> <span data-ttu-id="7b8f9-265">更完整的範例所示<xref:System.IdentityModel.Services.SessionAuthenticationModule>概觀主題。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-265">A more complete example is shown in the <xref:System.IdentityModel.Services.SessionAuthenticationModule> overview topic.</span></span>  
  
 [!code-csharp[WifSAM#2](~/samples/snippets/csharp/VS_Snippets_Misc/wifsam/cs/webapplication1/global.asax.cs#2)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="TryReadSessionTokenFromCookie">
      <MemberSignature Language="C#" Value="public bool TryReadSessionTokenFromCookie (out System.IdentityModel.Tokens.SessionSecurityToken sessionToken);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance bool TryReadSessionTokenFromCookie([out] class System.IdentityModel.Tokens.SessionSecurityToken&amp; sessionToken) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.TryReadSessionTokenFromCookie(System.IdentityModel.Tokens.SessionSecurityToken@)" />
      <MemberSignature Language="VB.NET" Value="Public Function TryReadSessionTokenFromCookie (ByRef sessionToken As SessionSecurityToken) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; bool TryReadSessionTokenFromCookie([Runtime::InteropServices::Out] System::IdentityModel::Tokens::SessionSecurityToken ^ % sessionToken);" />
      <MemberSignature Language="F#" Value="member this.TryReadSessionTokenFromCookie :  -&gt; bool" Usage="sessionAuthenticationModule.TryReadSessionTokenFromCookie sessionToken" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sessionToken" Type="System.IdentityModel.Tokens.SessionSecurityToken" RefType="out" />
      </Parameters>
      <Docs>
        <param name="sessionToken"><span data-ttu-id="7b8f9-266">這個方法回傳時，會包含從工作階段 Cookie 讀取的工作階段安全性權杖。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-266">When this method returns, contains the session security token that was read from the session cookie.</span></span></param>
        <summary><span data-ttu-id="7b8f9-267">嘗試從工作階段 Cookie 讀取 <see cref="T:System.IdentityModel.Tokens.SessionSecurityToken" />，並傳回表示是否已成功地讀取工作階段 Cookie 的值。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-267">Attempts to read a <see cref="T:System.IdentityModel.Tokens.SessionSecurityToken" /> from a session cookie and returns a value that indicates whether the session cookie was successfully read.</span></span></summary>
        <returns><span data-ttu-id="7b8f9-268">如果已順利從要求中讀取工作階段 Cookie，則為 <see langword="true" />，否則為 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-268"><see langword="true" /> if the session cookie was successfully read from the request; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-269">使用中設定的 cookie 處理常式中讀取的 cookie<xref:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler%2A>屬性然後再叫用<xref:System.IdentityModel.Services.SessionAuthenticationModule.ReadSessionTokenFromCookie%2A>從 cookie 讀取語彙基元的方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-269">Reads the cookie by using the cookie handler that is configured in the <xref:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler%2A> property and then invokes the <xref:System.IdentityModel.Services.SessionAuthenticationModule.ReadSessionTokenFromCookie%2A> method to read the token from the cookie.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ValidateSessionToken">
      <MemberSignature Language="C#" Value="protected System.Collections.ObjectModel.ReadOnlyCollection&lt;System.Security.Claims.ClaimsIdentity&gt; ValidateSessionToken (System.IdentityModel.Tokens.SessionSecurityToken sessionSecurityToken);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig instance class System.Collections.ObjectModel.ReadOnlyCollection`1&lt;class System.Security.Claims.ClaimsIdentity&gt; ValidateSessionToken(class System.IdentityModel.Tokens.SessionSecurityToken sessionSecurityToken) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.ValidateSessionToken(System.IdentityModel.Tokens.SessionSecurityToken)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; System::Collections::ObjectModel::ReadOnlyCollection&lt;System::Security::Claims::ClaimsIdentity ^&gt; ^ ValidateSessionToken(System::IdentityModel::Tokens::SessionSecurityToken ^ sessionSecurityToken);" />
      <MemberSignature Language="F#" Value="member this.ValidateSessionToken : System.IdentityModel.Tokens.SessionSecurityToken -&gt; System.Collections.ObjectModel.ReadOnlyCollection&lt;System.Security.Claims.ClaimsIdentity&gt;" Usage="sessionAuthenticationModule.ValidateSessionToken sessionSecurityToken" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.ObjectModel.ReadOnlyCollection&lt;System.Security.Claims.ClaimsIdentity&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sessionSecurityToken" Type="System.IdentityModel.Tokens.SessionSecurityToken" />
      </Parameters>
      <Docs>
        <param name="sessionSecurityToken"><span data-ttu-id="7b8f9-270">要驗證的權杖。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-270">The token to validate.</span></span></param>
        <summary><span data-ttu-id="7b8f9-271">驗證指定的<see cref="T:System.IdentityModel.Tokens.SessionSecurityToken" /> ，並傳回其識別。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-271">Validates the specified <see cref="T:System.IdentityModel.Tokens.SessionSecurityToken" /> and returns its identities.</span></span></summary>
        <returns><span data-ttu-id="7b8f9-272">包含在權杖中的識別集合。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-272">The collection of identities that are contained in the token.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-273">這個方法會從呼叫<xref:System.IdentityModel.Services.SessionAuthenticationModule.AuthenticateSessionSecurityToken%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-273">This method is called from the <xref:System.IdentityModel.Services.SessionAuthenticationModule.AuthenticateSessionSecurityToken%2A> method.</span></span> <span data-ttu-id="7b8f9-274">它會叫用<xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler.ValidateToken%2A?displayProperty=nameWithType>的驗證權杖並擷取其身分識別設定的工作階段權杖處理常式的方法。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-274">It invokes the <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler.ValidateToken%2A?displayProperty=nameWithType> method of the configured session token handler to validate the token and extract its identities.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IdentityModel.Services.FederatedSessionExpiredException"><span data-ttu-id="7b8f9-275">權杖已過期。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-275">The token has expired.</span></span></exception>
        <exception cref="T:System.IdentityModel.Services.FederationException"><span data-ttu-id="7b8f9-276">權杖的開始時間尚未生效。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-276">The token start time is not yet valid.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="7b8f9-277">不是有效的已設定工作階段權杖處理常式。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-277">There is not a valid session token handler configured.</span></span> <span data-ttu-id="7b8f9-278">(<see cref="T:System.IdentityModel.Tokens.SessionSecurityTokenHandler" /> 屬性中沒有設定 <see cref="P:System.IdentityModel.Configuration.IdentityConfiguration.SecurityTokenHandlers" />)。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-278">(There is no <see cref="T:System.IdentityModel.Tokens.SessionSecurityTokenHandler" /> configured in the <see cref="P:System.IdentityModel.Configuration.IdentityConfiguration.SecurityTokenHandlers" /> property.)</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="WriteSessionTokenToCookie">
      <MemberSignature Language="C#" Value="public void WriteSessionTokenToCookie (System.IdentityModel.Tokens.SessionSecurityToken sessionToken);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void WriteSessionTokenToCookie(class System.IdentityModel.Tokens.SessionSecurityToken sessionToken) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.SessionAuthenticationModule.WriteSessionTokenToCookie(System.IdentityModel.Tokens.SessionSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Public Sub WriteSessionTokenToCookie (sessionToken As SessionSecurityToken)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void WriteSessionTokenToCookie(System::IdentityModel::Tokens::SessionSecurityToken ^ sessionToken);" />
      <MemberSignature Language="F#" Value="member this.WriteSessionTokenToCookie : System.IdentityModel.Tokens.SessionSecurityToken -&gt; unit" Usage="sessionAuthenticationModule.WriteSessionTokenToCookie sessionToken" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="sessionToken" Type="System.IdentityModel.Tokens.SessionSecurityToken" />
      </Parameters>
      <Docs>
        <param name="sessionToken"><span data-ttu-id="7b8f9-279">要寫入的工作階段安全性權杖。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-279">The session security token to write.</span></span></param>
        <summary><span data-ttu-id="7b8f9-280">將指定的 <see cref="T:System.IdentityModel.Tokens.SessionSecurityToken" /> 寫入至工作階段 Cookie。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-280">Writes the specified <see cref="T:System.IdentityModel.Tokens.SessionSecurityToken" /> to a session cookie.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="7b8f9-281">使用中設定的 cookie 處理常式寫入 cookie<xref:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-281">Writes the cookie by using the cookie handler that is configured in the <xref:System.IdentityModel.Services.SessionAuthenticationModule.CookieHandler%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="7b8f9-282"><paramref name="sessionToken" /> 為 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-282"><paramref name="sessionToken" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="7b8f9-283">不是有效的已設定工作階段權杖處理常式。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-283">There is not a valid session token handler configured.</span></span> <span data-ttu-id="7b8f9-284">(<see cref="T:System.IdentityModel.Tokens.SessionSecurityTokenHandler" /> 屬性中沒有設定 <see cref="P:System.IdentityModel.Configuration.IdentityConfiguration.SecurityTokenHandlers" />)。</span><span class="sxs-lookup"><span data-stu-id="7b8f9-284">(There is no <see cref="T:System.IdentityModel.Tokens.SessionSecurityTokenHandler" /> configured in the <see cref="P:System.IdentityModel.Configuration.IdentityConfiguration.SecurityTokenHandlers" /> property.)</span></span></exception>
      </Docs>
    </Member>
  </Members>
</Type>