<Type Name="SessionStateStoreProviderBase" FullName="System.Web.SessionState.SessionStateStoreProviderBase">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="eb76d941854b8efa56af7434c73ffd2d4e7d6500" />
    <Meta Name="ms.sourcegitcommit" Value="d31dc2ede16f6f7bc64e90d9f897ff54c4e3869b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="zh-TW" />
    <Meta Name="ms.lasthandoff" Value="04/03/2018" />
    <Meta Name="ms.locfileid" Value="30550962" />
  </Metadata>
  <TypeSignature Language="C#" Value="public abstract class SessionStateStoreProviderBase : System.Configuration.Provider.ProviderBase" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract beforefieldinit SessionStateStoreProviderBase extends System.Configuration.Provider.ProviderBase" />
  <TypeSignature Language="DocId" Value="T:System.Web.SessionState.SessionStateStoreProviderBase" />
  <TypeSignature Language="VB.NET" Value="Public MustInherit Class SessionStateStoreProviderBase&#xA;Inherits ProviderBase" />
  <TypeSignature Language="C++ CLI" Value="public ref class SessionStateStoreProviderBase abstract : System::Configuration::Provider::ProviderBase" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Configuration.Provider.ProviderBase</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>為資料存放區定義工作階段狀態提供者的所需成員。</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 ASP.NET 工作階段狀態讀取，並將所接收及使用工作階段狀態資料存放區的工作階段資料存放區提供者。 工作階段狀態存放區提供者是繼承的類別<xref:System.Web.SessionState.SessionStateStoreProviderBase>抽象類別並覆寫其成員與實作特殊的資料存放區。 工作階段狀態存放區提供者會呼叫<xref:System.Web.SessionState.SessionStateModule>期間與資料存放區的儲存體進行 ASP.NET 網頁的處理和擷取工作階段變數與相關的工作階段資訊，例如逾時值的類別。  
  
 每個 ASP.NET 應用程式內的工作階段資料會分別儲存每個<xref:System.Web.SessionState.HttpSessionState.SessionID%2A>屬性。 ASP.NET 應用程式不會共用工作階段資料。  
  
 您可以指定自訂<xref:System.Web.SessionState.SessionStateStoreProviderBase>藉由設定 ASP.NET 應用程式實作`mode`屬性`sessionState`組態項目<xref:System.Web.SessionState.SessionStateMode.Custom>和`customProvider`做為此屬性的自訂提供者名稱本主題的範例所示。  
  
## <a name="locking-session-store-data"></a>鎖定的工作階段儲存資料  
 因為 ASP.NET 應用程式是多執行緒來支援並行要求的回應，很可能在並行要求可能會嘗試存取相同的工作階段資訊。 假設所有框架組中的多個框架存取相同的應用程式的位置。 框架組中的每個畫面格的個別要求可以同時在不同的執行緒在 Web 伺服器上執行。 如果 ASP.NET 網頁，針對每個框架來源存取工作階段狀態變數，您可以有多個執行緒同時存取工作階段的存放區。  
  
 若要避免資料衝突的工作階段存放區和非預期的工作階段狀態行為<xref:System.Web.SessionState.SessionStateModule>和<xref:System.Web.SessionState.SessionStateStoreProviderBase>類別包含鎖定功能，以獨佔方式鎖定的持續時間的特定工作階段的工作階段的存放區項目ASP.NET 網頁的執行。 請注意，即使如果<xref:System.Web.Configuration.PagesSection.EnableSessionState%2A>屬性標示為`ReadOnly`，可能可以寫入至工作階段存放區中，以便從存放區資料仍可能會結束等待唯讀的工作階段要求鎖定的資料是相同的應用程式中的其他 ASP.NET 網頁釋出。  
  
 工作階段存放區資料的要求，請在呼叫開頭上設定鎖定<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItemExclusive%2A>方法。 當要求完成時，會釋放鎖定的呼叫期間<xref:System.Web.SessionState.SessionStateStoreProviderBase.SetAndReleaseItemExclusive%2A>方法。  
  
 如果<xref:System.Web.SessionState.SessionStateModule>物件在呼叫期間所遇到已鎖定的工作階段資料<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItemExclusive%2A>或<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItem%2A>方法，它將重新要求工作階段資料半秒的間隔之前或釋放鎖定的時間量，已鎖定工作階段資料的值<xref:System.Web.Configuration.HttpRuntimeSection.ExecutionTimeout%2A>屬性。 如果超過執行逾時，<xref:System.Web.SessionState.SessionStateModule>物件會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.ReleaseItemExclusive%2A>釋放工作階段存放區資料，並在該時間要求的工作階段存放區資料的方法。  
  
 因為鎖定工作階段存放區資料可能已由呼叫釋放<xref:System.Web.SessionState.SessionStateStoreProviderBase.ReleaseItemExclusive%2A>方法的呼叫之前的另一個執行緒上<xref:System.Web.SessionState.SessionStateStoreProviderBase.SetAndReleaseItemExclusive%2A>目前回應的方法，將無法嘗試要設定和發行工作階段狀態存放區的資料已經發行並由另一個工作階段修改。 若要避免此情況下，<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItem%2A>和<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItemExclusive%2A>方法傳回的鎖定識別碼。 這個鎖定識別碼必須是包含要修改已鎖定的工作階段儲存資料的每個要求。 工作階段存放區資料，才能修改資料存放區中的鎖定識別碼符合所提供的鎖定識別碼<xref:System.Web.SessionState.SessionStateModule>。  
  
## <a name="deleting-expired-session-store-data"></a>刪除過期的工作階段儲存資料  
 當<xref:System.Web.SessionState.HttpSessionState.Abandon%2A>方法針對特定工作階段呼叫，該工作階段資料會刪除從資料存放區使用<xref:System.Web.SessionState.SessionStateStoreProviderBase.RemoveItem%2A>方法; 否則資料將保留在工作階段資料存放區伺服器未來要求工作階段。 它會<xref:System.Web.SessionState.SessionStateStoreProviderBase>刪除過期的工作階段資料的實作。  
  
   
  
## Examples  
 如需工作階段狀態存放區提供者實作的範例，請參閱[實作工作階段狀態存放區提供者](http://msdn.microsoft.com/library/baadfec5-c881-468a-9681-7d8796b05a66)。  
  
 下列程式碼範例顯示已設定為使用自訂的工作階段狀態存放區提供者的 ASP.NET 應用程式的 Web.config 檔案。  
  
```  
<configuration>  
  <connectionStrings>  
    <add name="OdbcSessionServices" connectionString="DSN=SessionState;" />  
  </connectionStrings>  
  
  <system.web>  
    <sessionState   
      mode="Custom"  
      customProvider="OdbcSessionProvider">  
      <providers>  
        <add name="OdbcSessionProvider"  
             type="Samples.AspNet.Session.OdbcSessionStateStore"  
             connectionStringName="OdbcSessionServices" />  
      </providers>  
    </sessionState>  
  </system.web>  
</configuration>  
```  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected SessionStateStoreProviderBase ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionStateStoreProviderBase.#ctor" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; SessionStateStoreProviderBase();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>初始化 <see cref="T:System.Web.SessionState.SessionStateStoreProviderBase" /> 類別的新執行個體。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 您不需要實作繼承的類別的建構函式<xref:System.Web.SessionState.SessionStateStoreProviderBase>抽象類別。 初始化值<xref:System.Web.SessionState.SessionStateStoreProviderBase>實作會傳遞至<xref:System.Configuration.Provider.ProviderBase.Initialize%2A>方法實作。  
  
   
  
## Examples  
 如需工作階段狀態存放區提供者實作的範例，請參閱[實作工作階段狀態存放區提供者](http://msdn.microsoft.com/library/baadfec5-c881-468a-9681-7d8796b05a66)。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CreateNewStoreData">
      <MemberSignature Language="C#" Value="public abstract System.Web.SessionState.SessionStateStoreData CreateNewStoreData (System.Web.HttpContext context, int timeout);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.SessionState.SessionStateStoreData CreateNewStoreData(class System.Web.HttpContext context, int32 timeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionStateStoreProviderBase.CreateNewStoreData(System.Web.HttpContext,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function CreateNewStoreData (context As HttpContext, timeout As Integer) As SessionStateStoreData" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract System::Web::SessionState::SessionStateStoreData ^ CreateNewStoreData(System::Web::HttpContext ^ context, int timeout);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.SessionState.SessionStateStoreData</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
        <Parameter Name="timeout" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="context">目前要求的 <see cref="T:System.Web.HttpContext" />。</param>
        <param name="timeout">新 <see cref="P:System.Web.SessionState.HttpSessionState.Timeout" /> 的工作階段狀態 <see cref="T:System.Web.SessionState.SessionStateStoreData" /> 值。</param>
        <summary>建立要用於目前要求的新 <see cref="T:System.Web.SessionState.SessionStateStoreData" /> 物件。</summary>
        <returns>目前要求的新 <see cref="T:System.Web.SessionState.SessionStateStoreData" />。</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.SessionState.SessionStateModule>物件會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.CreateNewStoreData%2A>ASP.NET 網頁，要求的起始處方法期間<xref:System.Web.HttpApplication.AcquireRequestState>事件。 <xref:System.Web.SessionState.SessionStateStoreProviderBase.CreateNewStoreData%2A>呼叫方法時若：  
  
-   傳入的要求有任何工作階段識別碼，或  
  
-   傳入的要求有工作階段 ID，但資料存放區中找不到工作階段。  
  
 <xref:System.Web.SessionState.SessionStateStoreProviderBase.CreateNewStoreData%2A>方法建立新<xref:System.Web.SessionState.SessionStateStoreData>具有空白物件<xref:System.Web.SessionState.ISessionStateItemCollection>物件<xref:System.Web.HttpStaticObjectsCollection>集合，並指定`timeout`值。 <xref:System.Web.HttpStaticObjectsCollection> ASP.NET 應用程式的集合可以使用擷取<xref:System.Web.SessionState.SessionStateUtility.GetSessionStaticObjects%2A>方法。  
  
   
  
## Examples  
 如需工作階段狀態存放區提供者實作的範例，請參閱[實作工作階段狀態存放區提供者](http://msdn.microsoft.com/library/baadfec5-c881-468a-9681-7d8796b05a66)。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CreateUninitializedItem">
      <MemberSignature Language="C#" Value="public abstract void CreateUninitializedItem (System.Web.HttpContext context, string id, int timeout);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void CreateUninitializedItem(class System.Web.HttpContext context, string id, int32 timeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionStateStoreProviderBase.CreateUninitializedItem(System.Web.HttpContext,System.String,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Sub CreateUninitializedItem (context As HttpContext, id As String, timeout As Integer)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract void CreateUninitializedItem(System::Web::HttpContext ^ context, System::String ^ id, int timeout);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
        <Parameter Name="id" Type="System.String" />
        <Parameter Name="timeout" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="context">目前要求的 <see cref="T:System.Web.HttpContext" />。</param>
        <param name="id">目前要求的 <see cref="P:System.Web.SessionState.HttpSessionState.SessionID" />。</param>
        <param name="timeout">目前要求的工作階段 <see cref="P:System.Web.SessionState.HttpSessionState.Timeout" />。</param>
        <summary>將新的工作階段狀態項目加入資料存放區。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.SessionState.SessionStateStoreProviderBase.CreateUninitializedItem%2A>方法搭配工作階段時`cookieless`和`regenerateExpiredSessionId`屬性都`true`。 具有`regenerateExpiredSessionId attribute`設`true`導致<xref:System.Web.SessionState.SessionStateModule>物件來產生新<xref:System.Web.SessionState.HttpSessionState.SessionID%2A>時已過期的值<xref:System.Web.SessionState.HttpSessionState.SessionID%2A>遇到值。  
  
 產生新的程序<xref:System.Web.SessionState.HttpSessionState.SessionID%2A>值仍必須將瀏覽器重新導向至包含新產生的 URL<xref:System.Web.SessionState.HttpSessionState.SessionID%2A>值。 <xref:System.Web.SessionState.SessionStateStoreProviderBase.CreateUninitializedItem%2A>包含過期的初始要求期間會呼叫方法<xref:System.Web.SessionState.HttpSessionState.SessionID%2A>值。 之後<xref:System.Web.SessionState.SessionStateModule>物件取得新<xref:System.Web.SessionState.HttpSessionState.SessionID%2A>值來取代過期的值，它會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.CreateUninitializedItem%2A>方法，將未初始化的項目加入至工作階段狀態資料存放區。 瀏覽器會重新導向至包含新產生的 URL<xref:System.Web.SessionState.HttpSessionState.SessionID%2A>值。 未初始化的項目，工作階段資料存放區中是否存在時，可確保重新導向的要求，其中包含新產生<xref:System.Web.SessionState.HttpSessionState.SessionID%2A>值不被誤認為要求過期的工作階段，相反地，即視為新的工作階段。  
  
 工作階段資料存放區中未初始化的項目都與新產生<xref:System.Web.SessionState.HttpSessionState.SessionID%2A>值，並只包含預設值，包括到期日期和時間值，對應為`actionFlags`參數<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItem%2A>和<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItemExclusive%2A>方法。 工作階段狀態存放區中未初始化的項目應該包含`actionFlags`值等於<xref:System.Web.SessionState.SessionStateActions.InitializeItem>列舉值。 這個值會傳遞至<xref:System.Web.SessionState.SessionStateModule>物件<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItem%2A>和<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItemExclusive%2A>方法，並通知<xref:System.Web.SessionState.SessionStateModule>物件目前的工作階段是新但未初始化的工作階段。 <xref:System.Web.SessionState.SessionStateModule>物件接著會在初始化新的工作階段，並引發`Session_OnStart`事件。  
  
 如需無 cookie 工作階段的詳細資訊，請參閱<xref:System.Web.SessionState.HttpSessionState.IsCookieless%2A>屬性。  
  
   
  
## Examples  
 如需工作階段狀態存放區提供者實作的範例，請參閱[實作工作階段狀態存放區提供者](http://msdn.microsoft.com/library/baadfec5-c881-468a-9681-7d8796b05a66)。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Dispose">
      <MemberSignature Language="C#" Value="public abstract void Dispose ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Dispose() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionStateStoreProviderBase.Dispose" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Sub Dispose ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract void Dispose();" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>釋放 <see cref="T:System.Web.SessionState.SessionStateStoreProviderBase" /> 實作所使用的所有資源。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.SessionState.SessionStateStoreProviderBase.Dispose%2A?displayProperty=nameWithType>方法時，會呼叫<xref:System.Web.SessionState.SessionStateModule.Dispose%2A?displayProperty=nameWithType>方法執行的應用程式定義域的結尾。 繼承的類別<xref:System.Web.SessionState.SessionStateStoreProviderBase>類別可以使用這個方法，以釋出不再使用中的任何資源。  
  
   
  
## Examples  
 如需工作階段狀態存放區提供者實作的範例，請參閱[實作工作階段狀態存放區提供者](http://msdn.microsoft.com/library/baadfec5-c881-468a-9681-7d8796b05a66)。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="EndRequest">
      <MemberSignature Language="C#" Value="public abstract void EndRequest (System.Web.HttpContext context);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void EndRequest(class System.Web.HttpContext context) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionStateStoreProviderBase.EndRequest(System.Web.HttpContext)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Sub EndRequest (context As HttpContext)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract void EndRequest(System::Web::HttpContext ^ context);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
      </Parameters>
      <Docs>
        <param name="context">目前要求的 <see cref="T:System.Web.HttpContext" />。</param>
        <summary>
          <see cref="T:System.Web.SessionState.SessionStateModule" /> 物件在要求結束時呼叫。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.SessionState.SessionStateModule>物件會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.EndRequest%2A>ASP.NET 網頁，要求結尾方法期間<xref:System.Web.HttpApplication.EndRequest>事件。 您可以使用<xref:System.Web.SessionState.SessionStateStoreProviderBase.EndRequest%2A>方法，以執行任何您的工作階段狀態存放區提供者所需的每個要求清除作業。  
  
   
  
## Examples  
 如需工作階段狀態存放區提供者實作的範例，請參閱[實作工作階段狀態存放區提供者](http://msdn.microsoft.com/library/baadfec5-c881-468a-9681-7d8796b05a66)。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetItem">
      <MemberSignature Language="C#" Value="public abstract System.Web.SessionState.SessionStateStoreData GetItem (System.Web.HttpContext context, string id, out bool locked, out TimeSpan lockAge, out object lockId, out System.Web.SessionState.SessionStateActions actions);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.SessionState.SessionStateStoreData GetItem(class System.Web.HttpContext context, string id, [out] bool&amp; locked, [out] valuetype System.TimeSpan&amp; lockAge, [out] object&amp; lockId, [out] valuetype System.Web.SessionState.SessionStateActions&amp; actions) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionStateStoreProviderBase.GetItem(System.Web.HttpContext,System.String,System.Boolean@,System.TimeSpan@,System.Object@,System.Web.SessionState.SessionStateActions@)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function GetItem (context As HttpContext, id As String, ByRef locked As Boolean, ByRef lockAge As TimeSpan, ByRef lockId As Object, ByRef actions As SessionStateActions) As SessionStateStoreData" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract System::Web::SessionState::SessionStateStoreData ^ GetItem(System::Web::HttpContext ^ context, System::String ^ id, [Runtime::InteropServices::Out] bool % locked, [Runtime::InteropServices::Out] TimeSpan % lockAge, [Runtime::InteropServices::Out] System::Object ^ % lockId, [Runtime::InteropServices::Out] System::Web::SessionState::SessionStateActions % actions);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.SessionState.SessionStateStoreData</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
        <Parameter Name="id" Type="System.String" />
        <Parameter Name="locked" Type="System.Boolean&amp;" RefType="out" />
        <Parameter Name="lockAge" Type="System.TimeSpan&amp;" RefType="out" />
        <Parameter Name="lockId" Type="System.Object&amp;" RefType="out" />
        <Parameter Name="actions" Type="System.Web.SessionState.SessionStateActions&amp;" RefType="out" />
      </Parameters>
      <Docs>
        <param name="context">目前要求的 <see cref="T:System.Web.HttpContext" />。</param>
        <param name="id">目前要求的 <see cref="P:System.Web.SessionState.HttpSessionState.SessionID" />。</param>
        <param name="locked">這個方法傳回時，包含布林值 (Boolean)，如果要求的工作階段項目鎖定在工作階段資料存放區，則該值會設定為 <see langword="true" />，否則會設定為 <see langword="false" />。</param>
        <param name="lockAge">這個方法傳回時，包含 <see cref="T:System.TimeSpan" /> 物件，該物件設定為工作階段資料存放區中已鎖定項目的時間長度。</param>
        <param name="lockId">這個方法傳回時，包含設定為目前要求之鎖定識別項的物件。 如需鎖定識別項的詳細資訊，請參閱 <see cref="T:System.Web.SessionState.SessionStateStoreProviderBase" /> 類別摘要中的＜鎖定工作階段存放區資料＞。</param>
        <param name="actions">這個方法傳回時，包含其中一個 <see cref="T:System.Web.SessionState.SessionStateActions" /> 值，指出目前的工作階段是否為未初始化之無 Cookie 的工作階段。</param>
        <summary>從工作階段資料存放區傳回唯讀工作階段狀態資料。</summary>
        <returns>填入工作階段資料存放區之工作階段值和資訊的 <see cref="T:System.Web.SessionState.SessionStateStoreData" />。</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.SessionState.SessionStateModule>物件會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItem%2A>方法的要求，開頭期間<xref:System.Web.HttpApplication.AcquireRequestState>事件，當<xref:System.Web.Configuration.PagesSection.EnableSessionState%2A>屬性設為`ReadOnly`。 如果<xref:System.Web.Configuration.PagesSection.EnableSessionState%2A>屬性設為`true`、<xref:System.Web.SessionState.SessionStateModule>物件會改為呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItemExclusive%2A>方法。  
  
 <xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItem%2A>方法會傳回<xref:System.Web.SessionState.SessionStateStoreData>物件填入資料存放區的工作階段資訊和更新的工作階段資料的到期日。 如果沒有工作階段項目資料在資料存放區中，找到<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItem%2A>方法會設定`locked``out`參數`false`並傳回`null`。 這會導致<xref:System.Web.SessionState.SessionStateModule>物件呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.CreateNewStoreData%2A>方法，以在資料存放區中建立新的工作階段項目。  
  
 如果工作階段項目資料位於資料存放區，但資料已被鎖定，<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItem%2A>方法會設定`locked``out`參數`true`，設定`lockAge``out`參數目前的日期和時間減去的日期與項目已鎖定時的時間 （這會從資料存放區），設定`lockId``out`鎖定識別項的參數從資料存放區，並傳回擷取`null`。 這會導致<xref:System.Web.SessionState.SessionStateModule>物件呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItem%2A>再次半秒的間隔之後嘗試擷取工作階段項目資訊的方法。  
  
 如果值的`lockAge``out`參數設定為超過<xref:System.Web.Configuration.HttpRuntimeSection.ExecutionTimeout%2A>值，然後在<xref:System.Web.SessionState.SessionStateModule>物件會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.ReleaseItemExclusive%2A>方法，以清除工作階段項目資料，然後呼叫上的鎖定<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItem%2A>方法一次。  
  
 `actionFlags`參數使用時同時`cookieless`和`regenerateExpiredSessionId`屬性設定為`true`。 `actionFlags`值設定為<xref:System.Web.SessionState.SessionStateActions.InitializeItem>表示工作階段資料存放區中的項目是新的工作階段需要初始化的。 工作階段資料存放區中未初始化的項目會建立由呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.CreateUninitializedItem%2A>方法。 如果從工作階段資料存放區的項目不是未初始化的項目，`actionFlags`參數會設定為零。  
  
 支援無 cookie 工作階段的自訂工作階段狀態存放區實作者應該設定`actionFlags``out`參數的值傳回的工作階段資料存放區中，為目前的項目。 如果`actionFlags`參數值會要求工作階段存放區項目等於<xref:System.Web.SessionState.SessionStateActions.InitializeItem>列舉值，然後在<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItem%2A>方法應該將值設定為零之後設定資料存放區中`actionFlags``out`參數。  
  
   
  
## Examples  
 如需工作階段狀態存放區提供者實作的範例，請參閱[實作工作階段狀態存放區提供者](http://msdn.microsoft.com/library/baadfec5-c881-468a-9681-7d8796b05a66)。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetItemExclusive">
      <MemberSignature Language="C#" Value="public abstract System.Web.SessionState.SessionStateStoreData GetItemExclusive (System.Web.HttpContext context, string id, out bool locked, out TimeSpan lockAge, out object lockId, out System.Web.SessionState.SessionStateActions actions);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.SessionState.SessionStateStoreData GetItemExclusive(class System.Web.HttpContext context, string id, [out] bool&amp; locked, [out] valuetype System.TimeSpan&amp; lockAge, [out] object&amp; lockId, [out] valuetype System.Web.SessionState.SessionStateActions&amp; actions) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionStateStoreProviderBase.GetItemExclusive(System.Web.HttpContext,System.String,System.Boolean@,System.TimeSpan@,System.Object@,System.Web.SessionState.SessionStateActions@)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function GetItemExclusive (context As HttpContext, id As String, ByRef locked As Boolean, ByRef lockAge As TimeSpan, ByRef lockId As Object, ByRef actions As SessionStateActions) As SessionStateStoreData" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract System::Web::SessionState::SessionStateStoreData ^ GetItemExclusive(System::Web::HttpContext ^ context, System::String ^ id, [Runtime::InteropServices::Out] bool % locked, [Runtime::InteropServices::Out] TimeSpan % lockAge, [Runtime::InteropServices::Out] System::Object ^ % lockId, [Runtime::InteropServices::Out] System::Web::SessionState::SessionStateActions % actions);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.SessionState.SessionStateStoreData</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
        <Parameter Name="id" Type="System.String" />
        <Parameter Name="locked" Type="System.Boolean&amp;" RefType="out" />
        <Parameter Name="lockAge" Type="System.TimeSpan&amp;" RefType="out" />
        <Parameter Name="lockId" Type="System.Object&amp;" RefType="out" />
        <Parameter Name="actions" Type="System.Web.SessionState.SessionStateActions&amp;" RefType="out" />
      </Parameters>
      <Docs>
        <param name="context">目前要求的 <see cref="T:System.Web.HttpContext" />。</param>
        <param name="id">目前要求的 <see cref="P:System.Web.SessionState.HttpSessionState.SessionID" />。</param>
        <param name="locked">這個方法傳回時，包含布林值，如果已成功取得鎖定，則該值會設定為 <see langword="true" />，否則會設定為 <see langword="false" />。</param>
        <param name="lockAge">這個方法傳回時，包含 <see cref="T:System.TimeSpan" /> 物件，該物件設定為工作階段資料存放區中已鎖定項目的時間長度。</param>
        <param name="lockId">這個方法傳回時，包含設定為目前要求之鎖定識別項的物件。 如需鎖定識別項的詳細資訊，請參閱 <see cref="T:System.Web.SessionState.SessionStateStoreProviderBase" /> 類別摘要中的＜鎖定工作階段存放區資料＞。</param>
        <param name="actions">這個方法傳回時，包含其中一個 <see cref="T:System.Web.SessionState.SessionStateActions" /> 值，指出目前的工作階段是否為未初始化之無 Cookie 的工作階段。</param>
        <summary>從工作階段資料存放區傳回唯讀工作階段狀態資料。</summary>
        <returns>填入工作階段資料存放區之工作階段值和資訊的 <see cref="T:System.Web.SessionState.SessionStateStoreData" />。</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.SessionState.SessionStateModule>物件會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItemExclusive%2A>方法的要求，開頭期間<xref:System.Web.HttpApplication.AcquireRequestState>事件，當<xref:System.Web.Configuration.PagesSection.EnableSessionState%2A>屬性設為`true`，預設值。 如果<xref:System.Web.Configuration.PagesSection.EnableSessionState%2A>屬性設為`ReadOnly`、<xref:System.Web.SessionState.SessionStateModule>物件會改為呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItem%2A>方法。  
  
 <xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItemExclusive%2A>方法會傳回<xref:System.Web.SessionState.SessionStateStoreData>填入資料存放區中，從工作階段資訊的物件更新儲存的資料的到期日，並要求的持續時間內鎖定資料存放區的工作階段項目資料。 如果沒有工作階段項目資料在資料存放區中，找到<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItemExclusive%2A>方法會設定`locked``out`參數`false`並傳回`null`。 這會導致<xref:System.Web.SessionState.SessionStateModule>物件呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.CreateNewStoreData%2A>方法，以在資料存放區中建立新的工作階段項目。 如果工作階段項目資料位於資料存放區，但資料已被鎖定，<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItemExclusive%2A>方法會設定`locked``out`參數`true`，設定`lockAge``out`參數目前的日期和時間減去的日期與項目已鎖定時的時間 （這會從資料存放區），設定`lockId``out`鎖定識別項的參數從資料存放區，並傳回擷取`null`。 這會導致<xref:System.Web.SessionState.SessionStateModule>物件呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItemExclusive%2A>再次半秒的間隔之後嘗試擷取工作階段項目資訊並將資料上取得鎖定的方法。 如果值的`lockAge``out`參數設定為超過<xref:System.Web.Configuration.HttpRuntimeSection.ExecutionTimeout%2A>值，然後在<xref:System.Web.SessionState.SessionStateModule>呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.ReleaseItemExclusive%2A>方法，以清除工作階段項目資料，然後呼叫上的鎖定<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItemExclusive%2A>方法一次。  
  
 `actionFlags`參數使用時`cookieless`和`regenerateExpiredSessionId`屬性都設定為`true`。 `actionFlags`值設定為<xref:System.Web.SessionState.SessionStateActions.InitializeItem>表示工作階段資料存放區中的項目是新的工作階段需要初始化的。 工作階段資料存放區中未初始化的項目會建立由呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.CreateUninitializedItem%2A>方法。 如果從工作階段資料存放區的項目不是未初始化的項目，`actionFlags`參數會設定為零。  
  
 支援無 cookie 工作階段的自訂工作階段狀態存放區實作者應該設定`actionFlags``out`參數的值傳回的工作階段資料存放區中，為目前的項目。 如果`actionFlags`參數值會要求工作階段存放區項目等於<xref:System.Web.SessionState.SessionStateActions.InitializeItem>列舉值，然後在<xref:System.Web.SessionState.SessionStateStoreProviderBase.GetItemExclusive%2A>方法應該將值設定為零之後設定資料存放區中`actionFlags``out`參數。  
  
   
  
## Examples  
 如需工作階段狀態存放區提供者實作的範例，請參閱[實作工作階段狀態存放區提供者](http://msdn.microsoft.com/library/baadfec5-c881-468a-9681-7d8796b05a66)。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="InitializeRequest">
      <MemberSignature Language="C#" Value="public abstract void InitializeRequest (System.Web.HttpContext context);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void InitializeRequest(class System.Web.HttpContext context) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionStateStoreProviderBase.InitializeRequest(System.Web.HttpContext)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Sub InitializeRequest (context As HttpContext)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract void InitializeRequest(System::Web::HttpContext ^ context);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
      </Parameters>
      <Docs>
        <param name="context">目前要求的 <see cref="T:System.Web.HttpContext" />。</param>
        <summary>
          <see cref="T:System.Web.SessionState.SessionStateModule" /> 物件為每一要求初始化呼叫。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.SessionState.SessionStateModule>物件會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.InitializeRequest%2A>方法，然後再呼叫其他任何<xref:System.Web.SessionState.SessionStateStoreProviderBase>方法。 您可以使用<xref:System.Web.SessionState.SessionStateStoreProviderBase.InitializeRequest%2A>方法來執行任何您的工作階段狀態存放區提供者所需的每一個要求初始化。  
  
   
  
## Examples  
 如需工作階段狀態存放區提供者實作的範例，請參閱[實作工作階段狀態存放區提供者](http://msdn.microsoft.com/library/baadfec5-c881-468a-9681-7d8796b05a66)。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ReleaseItemExclusive">
      <MemberSignature Language="C#" Value="public abstract void ReleaseItemExclusive (System.Web.HttpContext context, string id, object lockId);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void ReleaseItemExclusive(class System.Web.HttpContext context, string id, object lockId) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionStateStoreProviderBase.ReleaseItemExclusive(System.Web.HttpContext,System.String,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Sub ReleaseItemExclusive (context As HttpContext, id As String, lockId As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract void ReleaseItemExclusive(System::Web::HttpContext ^ context, System::String ^ id, System::Object ^ lockId);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
        <Parameter Name="id" Type="System.String" />
        <Parameter Name="lockId" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="context">目前要求的 <see cref="T:System.Web.HttpContext" />。</param>
        <param name="id">目前要求的工作階段識別項。</param>
        <param name="lockId">目前要求的鎖定識別項。</param>
        <summary>釋放工作階段資料存放區中項目的鎖定。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.SessionState.SessionStateModule>物件會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.ReleaseItemExclusive%2A>方法來更新到期日，並釋放工作階段資料存放區中的項目上的鎖定。 在要求中，結尾處呼叫期間<xref:System.Web.HttpApplication.ReleaseRequestState>事件，如果工作階段的值為不變。 如果工作階段值已經被修改，<xref:System.Web.SessionState.SessionStateModule>物件會改為呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.SetAndReleaseItemExclusive%2A>方法。  
  
 <xref:System.Web.SessionState.SessionStateModule>物件也會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.ReleaseItemExclusive%2A>方法時的鎖定工作階段資料存放區中的項目已超過<xref:System.Web.Configuration.HttpRuntimeSection.ExecutionTimeout%2A>值。 鎖定的詳細資訊和詳細資料的鎖定識別碼，請參閱 < 鎖定工作階段存放區資料 > 中<xref:System.Web.SessionState.SessionStateStoreProviderBase>類別概觀。  
  
 <xref:System.Web.SessionState.SessionStateStoreProviderBase.ReleaseItemExclusive%2A>方法只會移除鎖定目前的應用程式符合提供的工作階段的工作階段資料存放區中的項目`id`和`lockId`值。 如果`lockId`不符的資料存放區中的一個<xref:System.Web.SessionState.SessionStateStoreProviderBase.ReleaseItemExclusive%2A>方法不會執行任何動作。  
  
   
  
## Examples  
 如需工作階段狀態存放區提供者實作的範例，請參閱[實作工作階段狀態存放區提供者](http://msdn.microsoft.com/library/baadfec5-c881-468a-9681-7d8796b05a66)。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="RemoveItem">
      <MemberSignature Language="C#" Value="public abstract void RemoveItem (System.Web.HttpContext context, string id, object lockId, System.Web.SessionState.SessionStateStoreData item);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void RemoveItem(class System.Web.HttpContext context, string id, object lockId, class System.Web.SessionState.SessionStateStoreData item) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionStateStoreProviderBase.RemoveItem(System.Web.HttpContext,System.String,System.Object,System.Web.SessionState.SessionStateStoreData)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Sub RemoveItem (context As HttpContext, id As String, lockId As Object, item As SessionStateStoreData)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract void RemoveItem(System::Web::HttpContext ^ context, System::String ^ id, System::Object ^ lockId, System::Web::SessionState::SessionStateStoreData ^ item);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
        <Parameter Name="id" Type="System.String" />
        <Parameter Name="lockId" Type="System.Object" />
        <Parameter Name="item" Type="System.Web.SessionState.SessionStateStoreData" />
      </Parameters>
      <Docs>
        <param name="context">目前要求的 <see cref="T:System.Web.HttpContext" />。</param>
        <param name="id">目前要求的工作階段識別項。</param>
        <param name="lockId">目前要求的鎖定識別項。</param>
        <param name="item">
          <see cref="T:System.Web.SessionState.SessionStateStoreData" />，表示要從資料存放區中刪除的項目。</param>
        <summary>刪除工作階段資料存放區的項目資料。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.SessionState.SessionStateModule>物件會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.RemoveItem%2A>結尾的要求，方法期間<xref:System.Web.HttpApplication.ReleaseRequestState>事件，若要從工作階段資料存放區刪除的資料工作階段項目，如果<xref:System.Web.SessionState.HttpSessionState.Abandon%2A>呼叫方法。 只有符合提供的工作階段的目前應用程式的工作階段資料`id`和`lockId`刪除值。 鎖定的詳細資訊和詳細資料的鎖定識別碼，請參閱 < 鎖定工作階段存放區資料 > 中<xref:System.Web.SessionState.SessionStateStoreProviderBase>類別概觀。  
  
   
  
## Examples  
 如需工作階段狀態存放區提供者實作的範例，請參閱[實作工作階段狀態存放區提供者](http://msdn.microsoft.com/library/baadfec5-c881-468a-9681-7d8796b05a66)。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetItemTimeout">
      <MemberSignature Language="C#" Value="public abstract void ResetItemTimeout (System.Web.HttpContext context, string id);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void ResetItemTimeout(class System.Web.HttpContext context, string id) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionStateStoreProviderBase.ResetItemTimeout(System.Web.HttpContext,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Sub ResetItemTimeout (context As HttpContext, id As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract void ResetItemTimeout(System::Web::HttpContext ^ context, System::String ^ id);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
        <Parameter Name="id" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="context">目前要求的 <see cref="T:System.Web.HttpContext" />。</param>
        <param name="id">目前要求的工作階段識別項。</param>
        <summary>更新工作階段資料存放區中項目的到期日與時間。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.SessionState.SessionStateModule>物件會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.ResetItemTimeout%2A>方法，以更新的到期日期和時間工作階段目前的日期和時間加上工作階段<xref:System.Web.SessionState.HttpSessionState.Timeout%2A>值時可能是：  
  
-   <xref:System.Web.Configuration.PagesSection.EnableSessionState%2A>屬性是`true`，或  
  
-   要求未發出<xref:System.Web.HttpApplication.AcquireRequestState>和<xref:System.Web.HttpApplication.ReleaseRequestState>事件，因為發生錯誤。  
  
 如果要求的 ASP.NET 網頁和<xref:System.Web.Configuration.PagesSection.EnableSessionState%2A>屬性設為`false`、<xref:System.Web.SessionState.SessionStateStoreProviderBase.ResetItemTimeout%2A>方法仍會呼叫以更新的到期日期和時間的工作階段資料存放區中的資料。  
  
   
  
## Examples  
 如需工作階段狀態存放區提供者實作的範例，請參閱[實作工作階段狀態存放區提供者](http://msdn.microsoft.com/library/baadfec5-c881-468a-9681-7d8796b05a66)。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SetAndReleaseItemExclusive">
      <MemberSignature Language="C#" Value="public abstract void SetAndReleaseItemExclusive (System.Web.HttpContext context, string id, System.Web.SessionState.SessionStateStoreData item, object lockId, bool newItem);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SetAndReleaseItemExclusive(class System.Web.HttpContext context, string id, class System.Web.SessionState.SessionStateStoreData item, object lockId, bool newItem) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionStateStoreProviderBase.SetAndReleaseItemExclusive(System.Web.HttpContext,System.String,System.Web.SessionState.SessionStateStoreData,System.Object,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Sub SetAndReleaseItemExclusive (context As HttpContext, id As String, item As SessionStateStoreData, lockId As Object, newItem As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract void SetAndReleaseItemExclusive(System::Web::HttpContext ^ context, System::String ^ id, System::Web::SessionState::SessionStateStoreData ^ item, System::Object ^ lockId, bool newItem);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
        <Parameter Name="id" Type="System.String" />
        <Parameter Name="item" Type="System.Web.SessionState.SessionStateStoreData" />
        <Parameter Name="lockId" Type="System.Object" />
        <Parameter Name="newItem" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="context">目前要求的 <see cref="T:System.Web.HttpContext" />。</param>
        <param name="id">目前要求的工作階段識別項。</param>
        <param name="item">
          <see cref="T:System.Web.SessionState.SessionStateStoreData" /> 物件，包含要儲存的目前工作階段值。</param>
        <param name="lockId">目前要求的鎖定識別項。</param>
        <param name="newItem">
          <see langword="true" /> 表示將工作階段項目識別為新項目，<see langword="false" /> 則表示將工作階段項目識別為現有項目。</param>
        <summary>使用目前要求的值，更新工作階段狀態資料存放區中的工作階段項目資訊，並清除對資料的鎖定。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.SessionState.SessionStateModule>物件會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.SetAndReleaseItemExclusive%2A>結尾的要求，方法期間<xref:System.Web.HttpApplication.ReleaseRequestState>事件，將目前的工作階段項目資訊插入至資料存放區，或使用目前的值，更新資料存放區中的現有工作階段項目資訊若要更新的到期時間，項目，並釋放的鎖定資料。 只有符合提供的工作階段的目前應用程式的工作階段資料`id`和`lockId`值更新。 如需有關鎖定的詳細資訊，請參閱 < 鎖定工作階段存放區資料 」 中<xref:System.Web.SessionState.SessionStateStoreProviderBase>類別概觀。  
  
 如果目前要求的工作階段值尚未經過修改，<xref:System.Web.SessionState.SessionStateStoreProviderBase.SetAndReleaseItemExclusive%2A>不會呼叫方法。 相反地，<xref:System.Web.SessionState.SessionStateStoreProviderBase.ReleaseItemExclusive%2A>方法呼叫。  
  
 如果<xref:System.Web.SessionState.HttpSessionState.Abandon%2A>已呼叫方法，<xref:System.Web.SessionState.SessionStateStoreProviderBase.SetAndReleaseItemExclusive%2A>不會呼叫方法。 相反地，<xref:System.Web.SessionState.SessionStateModule>物件會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.RemoveItem%2A>方法，以從資料來源中刪除工作階段項目資料。  
  
   
  
## Examples  
 如需工作階段狀態存放區提供者實作的範例，請參閱[實作工作階段狀態存放區提供者](http://msdn.microsoft.com/library/baadfec5-c881-468a-9681-7d8796b05a66)。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SetItemExpireCallback">
      <MemberSignature Language="C#" Value="public abstract bool SetItemExpireCallback (System.Web.SessionState.SessionStateItemExpireCallback expireCallback);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance bool SetItemExpireCallback(class System.Web.SessionState.SessionStateItemExpireCallback expireCallback) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionStateStoreProviderBase.SetItemExpireCallback(System.Web.SessionState.SessionStateItemExpireCallback)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function SetItemExpireCallback (expireCallback As SessionStateItemExpireCallback) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract bool SetItemExpireCallback(System::Web::SessionState::SessionStateItemExpireCallback ^ expireCallback);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="expireCallback" Type="System.Web.SessionState.SessionStateItemExpireCallback" />
      </Parameters>
      <Docs>
        <param name="expireCallback">定義於 Global.asax 檔案之 <see langword="Session_OnEnd" /> 事件的 <see cref="T:System.Web.SessionState.SessionStateItemExpireCallback" /> 委派。</param>
        <summary>為定義於 Global.asax 檔案之 <see langword="Session_OnEnd" /> 事件，設定 <see cref="T:System.Web.SessionState.SessionStateItemExpireCallback" /> 委派 (Delegate) 的參考。</summary>
        <returns>
          如果工作階段狀態存放區提供者支援呼叫 <see langword="true" /> 事件，則為 <see langword="Session_OnEnd" />，否則為 <see langword="false" />。</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.SessionState.SessionStateModule>物件會呼叫<xref:System.Web.SessionState.SessionStateStoreProviderBase.SetItemExpireCallback%2A>方法來判斷模組初始化時是否呼叫`Session_OnEnd`所支援事件<xref:System.Web.SessionState.SessionStateStoreProviderBase>實作以及關聯<xref:System.Web.SessionState.SessionStateItemExpireCallback>活動委派`Session_OnEnd`事件。  
  
 自訂工作階段狀態存放區提供者實作者應該使用<xref:System.Web.SessionState.SessionStateStoreProviderBase.SetItemExpireCallback%2A>方法，以通知<xref:System.Web.SessionState.SessionStateModule>物件是否呼叫`Session_OnEnd`支援事件，並設定的本機參考<xref:System.Web.SessionState.SessionStateItemExpireCallback>所提供的委派`expireCallback`參數。 自訂實作必須決定何時本機<xref:System.Web.SessionState.SessionStateItemExpireCallback>會呼叫委派。 例如，無法呼叫委派的呼叫期間<xref:System.Web.SessionState.SessionStateStoreProviderBase.RemoveItem%2A>放棄工作階段時所呼叫的方法。  
  
   
  
## Examples  
 如需工作階段狀態存放區提供者實作的範例，請參閱[實作工作階段狀態存放區提供者](http://msdn.microsoft.com/library/baadfec5-c881-468a-9681-7d8796b05a66)。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>