<Type Name="StructLayoutAttribute" FullName="System.Runtime.InteropServices.StructLayoutAttribute">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="40521d9554f0cf59a81ca8f000f7fb5aa654a557" />
    <Meta Name="ms.sourcegitcommit" Value="d31dc2ede16f6f7bc64e90d9f897ff54c4e3869b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="zh-TW" />
    <Meta Name="ms.lasthandoff" Value="04/03/2018" />
  </Metadata>
  <TypeSignature Language="C#" Value="public sealed class StructLayoutAttribute : Attribute" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit StructLayoutAttribute extends System.Attribute" />
  <TypeSignature Language="DocId" Value="T:System.Runtime.InteropServices.StructLayoutAttribute" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class StructLayoutAttribute&#xA;Inherits Attribute" />
  <TypeSignature Language="C++ CLI" Value="public ref class StructLayoutAttribute sealed : Attribute" />
  <AssemblyInfo>
    <AssemblyName>System.Runtime</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.10.0</AssemblyVersion>
    <AssemblyVersion>4.0.20.0</AssemblyVersion>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.1.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Attribute</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute>
      <AttributeName>System.AttributeUsage(System.AttributeTargets.Class | System.AttributeTargets.Struct, Inherited=false)</AttributeName>
    </Attribute>
    <Attribute>
      <AttributeName>System.Runtime.InteropServices.ComVisible(true)</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>
      <span data-ttu-id="d4e83-101">讓您控制記憶體中類別或結構之資料欄位的實際配置。</span>
      <span class="sxs-lookup">
        <span data-stu-id="d4e83-101">Lets you control the physical layout of the data fields of a class or structure in memory.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="d4e83-102">您可以將此屬性套用至類別或結構。</span><span class="sxs-lookup"><span data-stu-id="d4e83-102">You can apply this attribute to classes or structures.</span></span>  
  
 <span data-ttu-id="d4e83-103">Common language runtime 會控制類別或結構在 managed 記憶體中的資料欄位的實際配置。</span><span class="sxs-lookup"><span data-stu-id="d4e83-103">The common language runtime controls the physical layout of the data fields of a class or structure in managed memory.</span></span> <span data-ttu-id="d4e83-104">不過，如果您想要此型別傳遞至 unmanaged 程式碼，您可以使用<xref:System.Runtime.InteropServices.StructLayoutAttribute>屬性來控制 unmanaged 的類型的配置。</span><span class="sxs-lookup"><span data-stu-id="d4e83-104">However, if you want to pass the type to unmanaged code, you can use the <xref:System.Runtime.InteropServices.StructLayoutAttribute> attribute to control the unmanaged layout of the type.</span></span> <span data-ttu-id="d4e83-105">使用具有屬性<xref:System.Runtime.InteropServices.LayoutKind.Sequential?displayProperty=nameWithType>強制要循序配置它們出現的順序中的成員。</span><span class="sxs-lookup"><span data-stu-id="d4e83-105">Use the attribute with <xref:System.Runtime.InteropServices.LayoutKind.Sequential?displayProperty=nameWithType> to force the members to be laid out sequentially in the order they appear.</span></span> <span data-ttu-id="d4e83-106"><xref:System.Runtime.InteropServices.LayoutKind.Sequential?displayProperty=nameWithType>控制和 unmanaged 記憶體中的配置都配置於 managed 記憶體中的。</span><span class="sxs-lookup"><span data-stu-id="d4e83-106">For , <xref:System.Runtime.InteropServices.LayoutKind.Sequential?displayProperty=nameWithType> controls both the layout in managed memory and the layout in unmanaged memory.</span></span> <span data-ttu-id="d4e83-107">對於非 blittable 類型，它會控制配置，類別或結構會封送處理至 unmanaged 程式碼，但不會控制在 managed 記憶體中的配置時。</span><span class="sxs-lookup"><span data-stu-id="d4e83-107">For non-blittable types, it controls the layout when the class or structure is marshaled to unmanaged code, but does not control the layout in managed memory.</span></span> <span data-ttu-id="d4e83-108">使用具有屬性<xref:System.Runtime.InteropServices.LayoutKind.Explicit?displayProperty=nameWithType>來控制每個資料成員的精確位置。</span><span class="sxs-lookup"><span data-stu-id="d4e83-108">Use the attribute with <xref:System.Runtime.InteropServices.LayoutKind.Explicit?displayProperty=nameWithType> to control the precise position of each data member.</span></span> <span data-ttu-id="d4e83-109">這會影響 managed 和 unmanaged 兩種版面配置，blittable 和非 blittable 類型。</span><span class="sxs-lookup"><span data-stu-id="d4e83-109">This affects both managed and unmanaged layout, for both blittable and non-blittable types.</span></span> <span data-ttu-id="d4e83-110">使用<xref:System.Runtime.InteropServices.LayoutKind.Explicit?displayProperty=nameWithType>需要您使用<xref:System.Runtime.InteropServices.FieldOffsetAttribute>屬性來指出每個欄位的型別內的位置。</span><span class="sxs-lookup"><span data-stu-id="d4e83-110">Using <xref:System.Runtime.InteropServices.LayoutKind.Explicit?displayProperty=nameWithType> requires that you use the <xref:System.Runtime.InteropServices.FieldOffsetAttribute> attribute to indicate the position of each field within the type.</span></span>  
  
 <span data-ttu-id="d4e83-111">C#、 Visual Basic 和 c + + 編譯器套用<xref:System.Runtime.InteropServices.LayoutKind.Sequential>到預設的結構的配置值。</span><span class="sxs-lookup"><span data-stu-id="d4e83-111">C#, Visual Basic, and C++ compilers apply the <xref:System.Runtime.InteropServices.LayoutKind.Sequential> layout value to structures by default.</span></span> <span data-ttu-id="d4e83-112">對於類別，您必須套用<xref:System.Runtime.InteropServices.LayoutKind.Sequential?displayProperty=nameWithType>明確值。</span><span class="sxs-lookup"><span data-stu-id="d4e83-112">For classes, you must apply the <xref:System.Runtime.InteropServices.LayoutKind.Sequential?displayProperty=nameWithType> value explicitly.</span></span> <span data-ttu-id="d4e83-113">[Tlbimp.exe （類型程式庫匯入工具）](~/docs/framework/tools/tlbimp-exe-type-library-importer.md)也適用於<xref:System.Runtime.InteropServices.StructLayoutAttribute>屬性; 它會一律套用<xref:System.Runtime.InteropServices.LayoutKind.Sequential?displayProperty=nameWithType>匯入類型程式庫時的值。</span><span class="sxs-lookup"><span data-stu-id="d4e83-113">The [Tlbimp.exe (Type Library Importer)](~/docs/framework/tools/tlbimp-exe-type-library-importer.md) also applies the <xref:System.Runtime.InteropServices.StructLayoutAttribute> attribute; it always applies the <xref:System.Runtime.InteropServices.LayoutKind.Sequential?displayProperty=nameWithType> value when it imports a type library.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="d4e83-114">下列範例會示範 managed 的宣告`GetSystemTime`函式，並定義`MySystemTime`類別<xref:System.Runtime.InteropServices.LayoutKind.Explicit?displayProperty=nameWithType>版面配置。</span><span class="sxs-lookup"><span data-stu-id="d4e83-114">The following example demonstrates a managed declaration of the `GetSystemTime` function and defines `MySystemTime` class with <xref:System.Runtime.InteropServices.LayoutKind.Explicit?displayProperty=nameWithType> layout.</span></span> <span data-ttu-id="d4e83-115">`GetSystemTime` 取得系統時間，並列印到主控台。</span><span class="sxs-lookup"><span data-stu-id="d4e83-115">`GetSystemTime` gets the system time and prints to the console.</span></span>  
  
 [!code-cpp[StructLayoutAttribute#1](~/samples/snippets/cpp/VS_Snippets_CLR/StructLayoutAttribute/CPP/structlayoutattribute.cpp#1)]
 [!code-csharp[StructLayoutAttribute#1](~/samples/snippets/csharp/VS_Snippets_CLR/StructLayoutAttribute/CS/structlayoutattribute.cs#1)]
 [!code-vb[StructLayoutAttribute#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/StructLayoutAttribute/VB/structlayoutattribute.vb#1)]  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="d4e83-116">初始化 <see cref="T:System.Runtime.InteropServices.StructLayoutAttribute" /> 類別的新執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="d4e83-116">Initalizes a new instance of the <see cref="T:System.Runtime.InteropServices.StructLayoutAttribute" /> class.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public StructLayoutAttribute (short layoutKind);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(int16 layoutKind) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Runtime.InteropServices.StructLayoutAttribute.#ctor(System.Int16)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (layoutKind As Short)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; StructLayoutAttribute(short layoutKind);" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="layoutKind" Type="System.Int16" />
      </Parameters>
      <Docs>
        <param name="layoutKind">
          <span data-ttu-id="d4e83-117">代表其中一個 <see cref="T:System.Runtime.InteropServices.LayoutKind" /> 值的 16 位元整數，指定類別或結構的排列方式。</span>
          <span class="sxs-lookup">
            <span data-stu-id="d4e83-117">A 16-bit integer that represents one of the <see cref="T:System.Runtime.InteropServices.LayoutKind" /> values that specifes how the class or structure should be arranged.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="d4e83-118">使用指定的 <see cref="T:System.Runtime.InteropServices.LayoutKind" /> 列舉成員初始化 <see cref="T:System.Runtime.InteropServices.StructLayoutAttribute" /> 類別的新執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="d4e83-118">Initalizes a new instance of the <see cref="T:System.Runtime.InteropServices.StructLayoutAttribute" /> class with the specified <see cref="T:System.Runtime.InteropServices.LayoutKind" /> enumeration member.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="d4e83-119">這個建構函式接受基礎 16 位元整數，表示每個<xref:System.Runtime.InteropServices.LayoutKind>列舉成員。</span><span class="sxs-lookup"><span data-stu-id="d4e83-119">This constructor takes an underlying 16-bit integer that represents each <xref:System.Runtime.InteropServices.LayoutKind> enumeration member.</span></span> <span data-ttu-id="d4e83-120">[Tlbimp.exe （類型程式庫匯入工具）](~/docs/framework/tools/tlbimp-exe-type-library-importer.md)會使用這個建構函式。</span><span class="sxs-lookup"><span data-stu-id="d4e83-120">The [Tlbimp.exe (Type Library Importer)](~/docs/framework/tools/tlbimp-exe-type-library-importer.md) uses this constructor.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Runtime.InteropServices.LayoutKind" />
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public StructLayoutAttribute (System.Runtime.InteropServices.LayoutKind layoutKind);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(valuetype System.Runtime.InteropServices.LayoutKind layoutKind) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Runtime.InteropServices.StructLayoutAttribute.#ctor(System.Runtime.InteropServices.LayoutKind)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; StructLayoutAttribute(System::Runtime::InteropServices::LayoutKind layoutKind);" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="layoutKind" Type="System.Runtime.InteropServices.LayoutKind" />
      </Parameters>
      <Docs>
        <param name="layoutKind">
          <span data-ttu-id="d4e83-121">其中一個列舉值，指定類別或結構的排列方式。</span>
          <span class="sxs-lookup">
            <span data-stu-id="d4e83-121">One of the enumeration values that specifes how the class or structure should be arranged.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="d4e83-122">使用指定的 <see cref="T:System.Runtime.InteropServices.LayoutKind" /> 列舉成員初始化 <see cref="T:System.Runtime.InteropServices.StructLayoutAttribute" /> 類別的新執行個體。</span>
          <span class="sxs-lookup">
            <span data-stu-id="d4e83-122">Initalizes a new instance of the <see cref="T:System.Runtime.InteropServices.StructLayoutAttribute" /> class with the specified <see cref="T:System.Runtime.InteropServices.LayoutKind" /> enumeration member.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="d4e83-123">可讀取的程式碼較不容易出錯，一律使用這個建構函式。</span><span class="sxs-lookup"><span data-stu-id="d4e83-123">For readable code that is less prone to error, always use this constructor.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Runtime.InteropServices.LayoutKind" />
      </Docs>
    </Member>
    <Member MemberName="CharSet">
      <MemberSignature Language="C#" Value="public System.Runtime.InteropServices.CharSet CharSet;" />
      <MemberSignature Language="ILAsm" Value=".field public valuetype System.Runtime.InteropServices.CharSet CharSet" />
      <MemberSignature Language="DocId" Value="F:System.Runtime.InteropServices.StructLayoutAttribute.CharSet" />
      <MemberSignature Language="VB.NET" Value="Public CharSet As CharSet " />
      <MemberSignature Language="C++ CLI" Value="public: System::Runtime::InteropServices::CharSet CharSet;" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Runtime.InteropServices.CharSet</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="d4e83-124">表示根據預設，類別中的字串資料欄位應該封送處理為 <see langword="LPWSTR" />，還是 <see langword="LPSTR" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="d4e83-124">Indicates whether string data fields within the class should be marshaled as <see langword="LPWSTR" /> or <see langword="LPSTR" /> by default.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="d4e83-125">如果`CharSet`欄位設定為<xref:System.Runtime.InteropServices.CharSet.Unicode?displayProperty=nameWithType>，所有的字串引數都會轉換成 Unicode 字元 (`LPWSTR`) 傳遞至 unmanaged 實作之前。</span><span class="sxs-lookup"><span data-stu-id="d4e83-125">If the `CharSet` field is set to <xref:System.Runtime.InteropServices.CharSet.Unicode?displayProperty=nameWithType>, all string arguments are converted to Unicode characters (`LPWSTR`) before they are passed to the unmanaged implementation.</span></span> <span data-ttu-id="d4e83-126">如果欄位設定為<xref:System.Runtime.InteropServices.CharSet.Ansi?displayProperty=nameWithType>，字串會轉換為 ANSI 字串 (`LPSTR`)。</span><span class="sxs-lookup"><span data-stu-id="d4e83-126">If the field is set to <xref:System.Runtime.InteropServices.CharSet.Ansi?displayProperty=nameWithType>, the strings are converted to ANSI strings (`LPSTR`).</span></span> <span data-ttu-id="d4e83-127">如果`CharSet`欄位設定為<xref:System.Runtime.InteropServices.CharSet.Auto?displayProperty=nameWithType>，轉換為平台相依 (ANSI Windows 98 和 Windows Me，以及更新版本上的 Unicode)。</span><span class="sxs-lookup"><span data-stu-id="d4e83-127">If the `CharSet` field is set to <xref:System.Runtime.InteropServices.CharSet.Auto?displayProperty=nameWithType>, the conversion is platform-dependent (ANSI on Windows 98 and Windows Me, and Unicode on later versions).</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Runtime.InteropServices.CharSet" />
      </Docs>
    </Member>
    <Member MemberName="Pack">
      <MemberSignature Language="C#" Value="public int Pack;" />
      <MemberSignature Language="ILAsm" Value=".field public int32 Pack" />
      <MemberSignature Language="DocId" Value="F:System.Runtime.InteropServices.StructLayoutAttribute.Pack" />
      <MemberSignature Language="VB.NET" Value="Public Pack As Integer " />
      <MemberSignature Language="C++ CLI" Value="public: int Pack;" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="d4e83-128">控制記憶體中類別或結構之資料欄位的對齊。</span>
          <span class="sxs-lookup">
            <span data-stu-id="d4e83-128">Controls the alignment of data fields of a class or structure in memory.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="d4e83-129"><xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack>欄位控制項類型的欄位，在記憶體中的對齊方式。</span><span class="sxs-lookup"><span data-stu-id="d4e83-129">The <xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack> field controls the alignment of a type's fields in memory.</span></span>  <span data-ttu-id="d4e83-130">它會同時影響<xref:System.Runtime.InteropServices.LayoutKind.Sequential?displayProperty=nameWithType>和<xref:System.Runtime.InteropServices.LayoutKind.Explicit?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="d4e83-130">It affects both <xref:System.Runtime.InteropServices.LayoutKind.Sequential?displayProperty=nameWithType> and <xref:System.Runtime.InteropServices.LayoutKind.Explicit?displayProperty=nameWithType>.</span></span> <span data-ttu-id="d4e83-131">根據預設，值為 0，指出預設的封裝大小目前平台。</span><span class="sxs-lookup"><span data-stu-id="d4e83-131">By default, the value is 0, indicating the default packing size for the current platform.</span></span> <span data-ttu-id="d4e83-132">值<xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack>必須是 0、 1、 2、 4、 8、 16、 32、 64、 或 128:</span><span class="sxs-lookup"><span data-stu-id="d4e83-132">The value of <xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack> must be 0, 1, 2, 4, 8, 16, 32, 64, or 128:</span></span>  
  
 <span data-ttu-id="d4e83-133">類型執行個體的欄位對齊，使用下列規則：</span><span class="sxs-lookup"><span data-stu-id="d4e83-133">The fields of a type instance are aligned by using the following rules:</span></span>  
  
-   <span data-ttu-id="d4e83-134">類型的對齊是其最大項目的大小 (1、 2、 4、 8 等等，位元組) 或指定的封裝大小為準。</span><span class="sxs-lookup"><span data-stu-id="d4e83-134">The alignment of the type is the size of its largest element (1, 2, 4, 8, etc., bytes) or the specified packing size, whichever is smaller.</span></span>  
  
-   <span data-ttu-id="d4e83-135">每個欄位必須配合自己大小的欄位 (1、 2、 4、 8 等等，位元組) 或類型的對齊方式小者為準。</span><span class="sxs-lookup"><span data-stu-id="d4e83-135">Each field must align with fields of its own size (1, 2, 4, 8, etc., bytes) or the alignment of the type, whichever is smaller.</span></span>  <span data-ttu-id="d4e83-136">因為類型的預設對齊是其最大項目，也就是大於或等於其他所有的欄位長度，大小這通常表示欄位對齊其大小。</span><span class="sxs-lookup"><span data-stu-id="d4e83-136">Because the default alignment of the type is the size of its largest element, which is greater than or equal to all other field lengths, this usually means that fields are aligned by their size.</span></span> <span data-ttu-id="d4e83-137">比方說，即使在類型中的最大欄位是 64 位元 （8 個位元組） 整數或組件欄位就會設定為 8， <xref:System.Byte> 1 位元組界限上對齊欄位<xref:System.Int16>2 位元組界限上對齊欄位和<xref:System.Int32>欄位對齊 4 位元組界限。</span><span class="sxs-lookup"><span data-stu-id="d4e83-137">For example, even if the largest field in a type is a 64-bit (8-byte) integer or the Pack field is set to 8, <xref:System.Byte> fields align on 1-byte boundaries, <xref:System.Int16> fields align on 2-byte boundaries, and <xref:System.Int32> fields align on 4-byte boundaries.</span></span>  
  
-   <span data-ttu-id="d4e83-138">為了滿足的對齊需求的欄位之間加上填補。</span><span class="sxs-lookup"><span data-stu-id="d4e83-138">Padding is added between fields to satisfy the alignment requirements.</span></span>  
  
 <span data-ttu-id="d4e83-139">例如，請考慮下列的結構包含兩個<xref:System.Byte>欄位和一個<xref:System.Int32>時的各種值搭配使用的欄位<xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack>欄位。</span><span class="sxs-lookup"><span data-stu-id="d4e83-139">For example, consider the following structure, which consists of two <xref:System.Byte> fields and one <xref:System.Int32> field, when it is used with various values for the <xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack> field.</span></span>  
  
 [!code-csharp[System.Runtime.InteropServices.StructLayoutAttribute.Pack#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.interopservices.structlayoutattribute.pack/cs/packex0.cs#1)]  
  
> [!IMPORTANT]
>  <span data-ttu-id="d4e83-140">若要成功編譯 C# 範例，您必須指定`/unsafe`編譯器參數。</span><span class="sxs-lookup"><span data-stu-id="d4e83-140">To successfully compile the C# examples, you must specify the `/unsafe` compiler switch.</span></span>  
  
 <span data-ttu-id="d4e83-141">如果您指定預設的封裝大小，則結構的大小是 8 位元組。</span><span class="sxs-lookup"><span data-stu-id="d4e83-141">If you specify the default packing size, the size of the structure is 8 bytes.</span></span> <span data-ttu-id="d4e83-142">兩個位元組會佔用前的兩個位元組的記憶體，因為位元組必須對齊一個位元組界限。</span><span class="sxs-lookup"><span data-stu-id="d4e83-142">The two bytes occupy the first two bytes of memory, because bytes must align on one-byte boundaries.</span></span> <span data-ttu-id="d4e83-143">類型的預設對齊是 4 個位元組，也就是其最大欄位的大小，因為`i3`，有兩個位元組，後面接著整數欄位留白。</span><span class="sxs-lookup"><span data-stu-id="d4e83-143">Because the default alignment of the type is 4 bytes, which is the size of its largest fields, `i3`, there are two bytes of padding followed by the integer field.</span></span>  
  
 [!code-csharp[System.Runtime.InteropServices.StructLayoutAttribute.Pack#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.interopservices.structlayoutattribute.pack/cs/packex1.cs#2)]  
  
 <span data-ttu-id="d4e83-144">如果<xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack>設為 2，此結構的大小是 6 個位元組。</span><span class="sxs-lookup"><span data-stu-id="d4e83-144">If <xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack> is set to 2, the size of the structure is 6 bytes.</span></span> <span data-ttu-id="d4e83-145">為之前，兩個位元組所佔用的記憶體前兩個位元組。</span><span class="sxs-lookup"><span data-stu-id="d4e83-145">As before, the two bytes occupy the first two bytes of memory.</span></span> <span data-ttu-id="d4e83-146">因為欄位現在對齊 2 位元組界限，所以第二個位元組和整數之間的任何填補。</span><span class="sxs-lookup"><span data-stu-id="d4e83-146">Because fields now align on 2-byte boundaries, there is no padding between the second byte and the integer.</span></span>  
  
 [!code-csharp[System.Runtime.InteropServices.StructLayoutAttribute.Pack#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.interopservices.structlayoutattribute.pack/cs/packex2.cs#3)]  
  
 <span data-ttu-id="d4e83-147">如果<xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack>設為 4，結構的大小是預設案例中，在其最大欄位大小所定義類型的對齊方式，與相同`i3`，為 4。</span><span class="sxs-lookup"><span data-stu-id="d4e83-147">If <xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack> is set to 4, the size of the structure is the same as in the default case, where the type's alignment was defined by the size of its largest field, `i3`, which is 4.</span></span>  
  
 [!code-csharp[System.Runtime.InteropServices.StructLayoutAttribute.Pack#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.interopservices.structlayoutattribute.pack/cs/packex3.cs#4)]  
  
 <span data-ttu-id="d4e83-148">如果<xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack>設為 8，結構的大小是否仍然與預設值在相同的大小寫，因為`i3`欄位對齊 4 位元組界限，這可能會小於組件欄位所指定的 8 位元組界限上。</span><span class="sxs-lookup"><span data-stu-id="d4e83-148">If <xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack> is set to 8, the size of the structure is the still same as in the default case, because the `i3` field aligns on a 4-byte boundary, which is smaller than the 8-byte boundary specified by the Pack field.</span></span>  
  
 [!code-csharp[System.Runtime.InteropServices.StructLayoutAttribute.Pack#5](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.interopservices.structlayoutattribute.pack/cs/packex4.cs#5)]  
  
 <span data-ttu-id="d4e83-149">若要另一個範例，請考慮下列的結構，其中包含兩個位元組的欄位、 一個 32 位元帶正負號的整數欄位、 一個單一元素位元組陣列和十進位值。</span><span class="sxs-lookup"><span data-stu-id="d4e83-149">To take another example, consider the following structure, which consists of two byte fields, one 32-bit signed integer field, one single-element byte array, and a decimal value.</span></span> <span data-ttu-id="d4e83-150">預設的封裝大小，與結構的大小是 28 個位元組。</span><span class="sxs-lookup"><span data-stu-id="d4e83-150">With the default packing size, the size of the structure is 28 bytes.</span></span> <span data-ttu-id="d4e83-151">兩個位元組所佔用的記憶體，後面接著兩個位元組填補整數的前兩個位元組。</span><span class="sxs-lookup"><span data-stu-id="d4e83-151">The two bytes occupy the first two bytes of memory, followed by two bytes of padding, followed by the integer.</span></span> <span data-ttu-id="d4e83-152">接下來是一個位元組陣列，後面接著三個位元組填補。</span><span class="sxs-lookup"><span data-stu-id="d4e83-152">Next is the one-byte array, followed by three bytes of padding.</span></span> <span data-ttu-id="d4e83-153">最後， <xref:System.Decimal>  欄位中，d5，將 4 位元組界限上對齊十進位值包含四個，因此<xref:System.Int32>欄位，因此其對齊會根據最大大小的欄位，而不是大小<xref:System.Decimal>整體結構。</span><span class="sxs-lookup"><span data-stu-id="d4e83-153">Finally, the <xref:System.Decimal> field, d5, aligns on a 4-byte boundary because a decimal value consists of four <xref:System.Int32> fields, so its alignment is based on the size of the largest of its fields rather than on the size of the <xref:System.Decimal> structure as a whole.</span></span>  
  
 [!code-csharp[System.Runtime.InteropServices.StructLayoutAttribute.Pack#6](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.interopservices.structlayoutattribute.pack/cs/packex5.cs#6)]  
  
 <span data-ttu-id="d4e83-154">如果<xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack>設為 2，結構的大小是 24 個位元組。</span><span class="sxs-lookup"><span data-stu-id="d4e83-154">If <xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack> is set to 2, the size of the structure is 24 bytes.</span></span> <span data-ttu-id="d4e83-155">相較於預設的對齊方式，因為類型的對齊方式現在是 4，而不是 2，已被移除兩個位元組的兩個位元組和整數之間的填補。</span><span class="sxs-lookup"><span data-stu-id="d4e83-155">In comparison with the default alignment, the two bytes of padding between the two bytes and the integer have been removed because the type's alignment is now 4 rather than 2.</span></span> <span data-ttu-id="d4e83-156">和三個位元組填補之後`a4`已由一個位元組的填補，因為取代`d5`現在 2 位元組界限，而不是 4 位元組界限上對齊。</span><span class="sxs-lookup"><span data-stu-id="d4e83-156">And the three bytes of padding after `a4` have been replaced by one byte of padding, since `d5` now aligns on a 2-byte boundary rather than a 4-byte boundary.</span></span>  
  
 [!code-csharp[System.Runtime.InteropServices.StructLayoutAttribute.Pack#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.interopservices.structlayoutattribute.pack/cs/packex6.cs#7)]  
  
 <span data-ttu-id="d4e83-157">如果<xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack>設為 8，結構的大小是相同預設案例中，因為在此結構中的對齊需求會小於 8。</span><span class="sxs-lookup"><span data-stu-id="d4e83-157">If <xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack> is set to 8, the size of the structure is the same as in the default case, because all the alignment requirements in this structure are less than 8.</span></span>  
  
 [!code-csharp[System.Runtime.InteropServices.StructLayoutAttribute.Pack#8](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.interopservices.structlayoutattribute.pack/cs/packex7.cs#8)]  
  
 <span data-ttu-id="d4e83-158"><xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack>結構匯出期間磁碟和網路寫入作業時經常使用欄位。</span><span class="sxs-lookup"><span data-stu-id="d4e83-158">The <xref:System.Runtime.InteropServices.StructLayoutAttribute.Pack> field is frequently used when structures are exported during disk and network write operations.</span></span> <span data-ttu-id="d4e83-159">此欄位也經常會用在平台叫用和 interop 作業。</span><span class="sxs-lookup"><span data-stu-id="d4e83-159">The field is also frequently used during platform invoke and interop operations.</span></span>  
  
 <span data-ttu-id="d4e83-160">有時候，欄位用來產生更緊密的封裝大小減少記憶體需求。</span><span class="sxs-lookup"><span data-stu-id="d4e83-160">Occasionally, the field is used to reduce memory requirements by producing a tighter packing size.</span></span> <span data-ttu-id="d4e83-161">不過，這種使用方式需要仔細考量的實際硬體的條件約束，而實際上可能會降低效能。</span><span class="sxs-lookup"><span data-stu-id="d4e83-161">However, this usage requires careful consideration of actual hardware constraints, and may actually degrade performance.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Size">
      <MemberSignature Language="C#" Value="public int Size;" />
      <MemberSignature Language="ILAsm" Value=".field public int32 Size" />
      <MemberSignature Language="DocId" Value="F:System.Runtime.InteropServices.StructLayoutAttribute.Size" />
      <MemberSignature Language="VB.NET" Value="Public Size As Integer " />
      <MemberSignature Language="C++ CLI" Value="public: int Size;" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="d4e83-162">指示結構或類別的絕對大小。</span>
          <span class="sxs-lookup">
            <span data-stu-id="d4e83-162">Indicates the absolute size of the class or structure.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="d4e83-163">此欄位必須是等於或大於的總大小，以位元組為單位的類別或結構成員。</span><span class="sxs-lookup"><span data-stu-id="d4e83-163">This field must be equal or greater than the total size, in bytes, of the members of the class or structure.</span></span> <span data-ttu-id="d4e83-164">這個欄位是主要用於編譯器寫入器會想要擴充的結構未受管理的直接存取所佔用的記憶體。</span><span class="sxs-lookup"><span data-stu-id="d4e83-164">This field is primarily for compiler writers who want to extend the memory occupied by a structure for direct, unmanaged access.</span></span> <span data-ttu-id="d4e83-165">例如，您可以使用這個欄位使用未在中繼資料中直接呈現的等位時。</span><span class="sxs-lookup"><span data-stu-id="d4e83-165">For example, you can use this field when working with unions that are not represented in metadata directly.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Value">
      <MemberSignature Language="C#" Value="public System.Runtime.InteropServices.LayoutKind Value { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Runtime.InteropServices.LayoutKind Value" />
      <MemberSignature Language="DocId" Value="P:System.Runtime.InteropServices.StructLayoutAttribute.Value" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property Value As LayoutKind" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Runtime::InteropServices::LayoutKind Value { System::Runtime::InteropServices::LayoutKind get(); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Runtime.InteropServices.LayoutKind</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="d4e83-166">取得 <see cref="T:System.Runtime.InteropServices.LayoutKind" /> 值，指定類別或結構的排列方式。</span>
          <span class="sxs-lookup">
            <span data-stu-id="d4e83-166">Gets the <see cref="T:System.Runtime.InteropServices.LayoutKind" /> value that specifies how the class or structure is arranged.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="d4e83-167">其中一個列舉值，指定類別或結構的排列方式。</span>
          <span class="sxs-lookup">
            <span data-stu-id="d4e83-167">One of the enumeration values that specifies how the class or structure is arranged.</span>
          </span>
        </value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>