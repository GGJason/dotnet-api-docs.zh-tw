<Type Name="IProvideCustomContentState" FullName="System.Windows.Navigation.IProvideCustomContentState">
  <Metadata><Meta Name="ms.openlocfilehash" Value="e865ab5b5955c788af8ee53fe8dd03348ab79143" /><Meta Name="ms.sourcegitcommit" Value="434f60616a9793fa8436744549fc856e94f7a648" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-TW" /><Meta Name="ms.lasthandoff" Value="08/24/2018" /><Meta Name="ms.locfileid" Value="37551900" /></Metadata><TypeSignature Language="C#" Value="public interface IProvideCustomContentState" />
  <TypeSignature Language="ILAsm" Value=".class public interface auto ansi abstract IProvideCustomContentState" />
  <TypeSignature Language="DocId" Value="T:System.Windows.Navigation.IProvideCustomContentState" />
  <TypeSignature Language="VB.NET" Value="Public Interface IProvideCustomContentState" />
  <TypeSignature Language="C++ CLI" Value="public interface class IProvideCustomContentState" />
  <TypeSignature Language="F#" Value="type IProvideCustomContentState = interface" />
  <AssemblyInfo>
    <AssemblyName>PresentationFramework</AssemblyName>
    <AssemblyVersion>3.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="304ed-101">在從內容巡覽至別處之前，由需要新增自訂狀態至內容之巡覽記錄項目的類別實作。</span><span class="sxs-lookup"><span data-stu-id="304ed-101">Implemented by a class that needs to add custom state to the navigation history entry for content before the content is navigated away from.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="304ed-102"><xref:System.Windows.Navigation.IProvideCustomContentState> 可讓您將建立關聯的自訂狀態，實作為自訂<xref:System.Windows.Navigation.CustomContentState>類別，且具有已巡覽離開內容的巡覽記錄項目。</span><span class="sxs-lookup"><span data-stu-id="304ed-102"><xref:System.Windows.Navigation.IProvideCustomContentState> allows you to associate a piece of custom state, implemented as a custom <xref:System.Windows.Navigation.CustomContentState> class, with the navigation history entry for content that has been navigated away from.</span></span>  
  
 <span data-ttu-id="304ed-103">也可以使用下列方法以這種方式關聯自訂狀態：</span><span class="sxs-lookup"><span data-stu-id="304ed-103">Custom state can also be associated in this way by using the following:</span></span>  
  
-   <span data-ttu-id="304ed-104">呼叫**AddBackEntry**:</span><span class="sxs-lookup"><span data-stu-id="304ed-104">Calling **AddBackEntry**:</span></span>  
  
    -   <xref:System.Windows.Navigation.NavigationService.AddBackEntry%2A?displayProperty=nameWithType>  
  
    -   <xref:System.Windows.Navigation.NavigationWindow.AddBackEntry%2A?displayProperty=nameWithType>  
  
    -   <span data-ttu-id="304ed-105"><xref:System.Windows.Controls.Frame.AddBackEntry%2A?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="304ed-105"><xref:System.Windows.Controls.Frame.AddBackEntry%2A?displayProperty=nameWithType>.</span></span>  
  
-   <span data-ttu-id="304ed-106">設定<xref:System.Windows.Navigation.NavigatingCancelEventArgs.Content%2A?displayProperty=nameWithType>其中一個下列事件引發時：</span><span class="sxs-lookup"><span data-stu-id="304ed-106">Setting <xref:System.Windows.Navigation.NavigatingCancelEventArgs.Content%2A?displayProperty=nameWithType> when one of the following events are raised:</span></span>  
  
    -   <xref:System.Windows.Navigation.NavigationService.Navigating?displayProperty=nameWithType>  
  
    -   <xref:System.Windows.Navigation.NavigationWindow.Navigating?displayProperty=nameWithType>  
  
    -   <xref:System.Windows.Controls.Frame.Navigating?displayProperty=nameWithType>  
  
    -   <xref:System.Windows.Navigation.NavigationWindow.Navigating?displayProperty=nameWithType>  
  
 <span data-ttu-id="304ed-107">您必須實作<xref:System.Windows.Navigation.IProvideCustomContentState>當您新增自訂狀態至巡覽記錄藉由呼叫**AddBackEntry**，否則瀏覽歷程記錄將無法正確運作，請考慮下列步驟：</span><span class="sxs-lookup"><span data-stu-id="304ed-107">You must implement <xref:System.Windows.Navigation.IProvideCustomContentState> when you add custom state to navigation history by calling **AddBackEntry**, otherwise navigation history will not function correctly; consider the following steps:</span></span>  
  
1.  <span data-ttu-id="304ed-108">**AddBackEntry**稱為自訂狀態相關聯的目前內容。</span><span class="sxs-lookup"><span data-stu-id="304ed-108">**AddBackEntry** is called to associate a custom state with the current content.</span></span>  
  
2.  <span data-ttu-id="304ed-109">瀏覽歷程記錄項目巡覽回，而<xref:System.Windows.Navigation.CustomContentState.Replay%2A>呼叫方法的自訂狀態，以及狀態套用至內容。</span><span class="sxs-lookup"><span data-stu-id="304ed-109">The navigation history entry is navigated back to, and the <xref:System.Windows.Navigation.CustomContentState.Replay%2A> method of the custom state is called, and the state is applied to the content.</span></span>  
  
3.  <span data-ttu-id="304ed-110">先前的內容來巡覽至向前巡覽記錄中。</span><span class="sxs-lookup"><span data-stu-id="304ed-110">The previous content is navigated to in forward navigation history.</span></span>  
  
4.  <span data-ttu-id="304ed-111">瀏覽歷程記錄項目會巡覽回但未關聯的巡覽歷程記錄項目巡覽至最後一次保留的自訂狀態。</span><span class="sxs-lookup"><span data-stu-id="304ed-111">The navigation history entry is navigated back to, but the custom state has not been retained since the last time the navigation history entry it was associated with was navigated to.</span></span>  
  
 <span data-ttu-id="304ed-112">這會是預設行為，因為它加入至巡覽記錄之後，可能會變更一開始會以自訂的狀態記錄的狀態。</span><span class="sxs-lookup"><span data-stu-id="304ed-112">This is the default behavior because the state that is initially recorded in custom state may change after it was added to navigation history.</span></span> <span data-ttu-id="304ed-113">如果自訂狀態物件瀏覽回到且其狀態已套用，在某些方面的狀態變更之前瀏覽歷程記錄中的項目巡覽之前狀態的變更無法反映在自訂狀態物件。</span><span class="sxs-lookup"><span data-stu-id="304ed-113">If the custom state object is navigated back to and its state is applied, before some aspect about the state changes before the entry in navigation history is navigated to, the change in state cannot be reflected in the custom state object.</span></span> <span data-ttu-id="304ed-114">此外，<xref:System.Windows.Navigation.NavigationService.AddBackEntry%2A>無法明確呼叫來新增新的自訂狀態物件，以反映狀態變更。</span><span class="sxs-lookup"><span data-stu-id="304ed-114">Furthermore, <xref:System.Windows.Navigation.NavigationService.AddBackEntry%2A> can't be explicitly called to add a new custom state object that reflects the state changes.</span></span> <span data-ttu-id="304ed-115">因此，以確保目前的狀態以特定的瀏覽一律儲存在巡覽記錄，<xref:System.Windows.Navigation.IProvideCustomContentState.GetContentState%2A>呼叫。</span><span class="sxs-lookup"><span data-stu-id="304ed-115">Consequently, to ensure the current state for a particular navigation is always stored in navigation history, <xref:System.Windows.Navigation.IProvideCustomContentState.GetContentState%2A> is called.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="304ed-116">當您將資訊儲存在自訂內容的狀態時，您無法儲存要記住其狀態之頁面的執行個體的任何參考。</span><span class="sxs-lookup"><span data-stu-id="304ed-116">When you store information in custom content state, you cannot store any references to the instance of the page for which you are remembering state.</span></span> <span data-ttu-id="304ed-117">這可防止[!INCLUDE[TLA2#tla_wpf](~/includes/tla2sharptla-wpf-md.md)]從發行的網頁執行個體和失效的預設瀏覽歷程記錄行為的目的。</span><span class="sxs-lookup"><span data-stu-id="304ed-117">This prevents [!INCLUDE[TLA2#tla_wpf](~/includes/tla2sharptla-wpf-md.md)] from releasing the page instance, and defeats the purpose of the default navigation history behavior.</span></span> <span data-ttu-id="304ed-118">如果您必須這麼做，您可以考慮使用<xref:System.Windows.Controls.Page.KeepAlive%2A>改。</span><span class="sxs-lookup"><span data-stu-id="304ed-118">If you must do this, you might consider using <xref:System.Windows.Controls.Page.KeepAlive%2A> instead.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="GetContentState">
      <MemberSignature Language="C#" Value="public System.Windows.Navigation.CustomContentState GetContentState ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Windows.Navigation.CustomContentState GetContentState() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Windows.Navigation.IProvideCustomContentState.GetContentState" />
      <MemberSignature Language="VB.NET" Value="Public Function GetContentState () As CustomContentState" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Windows::Navigation::CustomContentState ^ GetContentState();" />
      <MemberSignature Language="F#" Value="abstract member GetContentState : unit -&gt; System.Windows.Navigation.CustomContentState" Usage="iProvideCustomContentState.GetContentState " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>PresentationFramework</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Windows.Navigation.CustomContentState</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="304ed-119">傳回要與巡覽記錄中內容產生關聯的自訂狀態類別的執行個體。</span><span class="sxs-lookup"><span data-stu-id="304ed-119">Returns an instance of a custom state class that is to be associated with content in navigation history.</span></span></summary>
        <returns><span data-ttu-id="304ed-120">要與巡覽記錄中內容產生關聯的自訂 <see cref="T:System.Windows.Navigation.CustomContentState" /> 類別的執行個體。</span><span class="sxs-lookup"><span data-stu-id="304ed-120">An instance of a custom <see cref="T:System.Windows.Navigation.CustomContentState" /> class that is to be associated with content in navigation history.</span></span></returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>