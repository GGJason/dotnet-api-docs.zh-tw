<Type Name="X509SecurityTokenAuthenticator" FullName="System.IdentityModel.Selectors.X509SecurityTokenAuthenticator">
  <Metadata><Meta Name="ms.openlocfilehash" Value="6773e0a54729431b85b3656ee44973f9bc6508d8" /><Meta Name="ms.sourcegitcommit" Value="16d2d159872fd213cae4b8f371d7ae9c8b027c89" /><Meta Name="ms.translationtype" Value="HT" /><Meta Name="ms.contentlocale" Value="zh-TW" /><Meta Name="ms.lasthandoff" Value="11/17/2018" /><Meta Name="ms.locfileid" Value="51865083" /></Metadata><TypeSignature Language="C#" Value="public class X509SecurityTokenAuthenticator : System.IdentityModel.Selectors.SecurityTokenAuthenticator" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit X509SecurityTokenAuthenticator extends System.IdentityModel.Selectors.SecurityTokenAuthenticator" />
  <TypeSignature Language="DocId" Value="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" />
  <TypeSignature Language="VB.NET" Value="Public Class X509SecurityTokenAuthenticator&#xA;Inherits SecurityTokenAuthenticator" />
  <TypeSignature Language="C++ CLI" Value="public ref class X509SecurityTokenAuthenticator : System::IdentityModel::Selectors::SecurityTokenAuthenticator" />
  <TypeSignature Language="F#" Value="type X509SecurityTokenAuthenticator = class&#xA;    inherit SecurityTokenAuthenticator" />
  <AssemblyInfo>
    <AssemblyName>System.IdentityModel</AssemblyName>
    <AssemblyVersion>3.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.IdentityModel.Selectors.SecurityTokenAuthenticator</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="74b74-101">驗證 <see cref="T:System.IdentityModel.Tokens.X509SecurityToken" />。</span><span class="sxs-lookup"><span data-stu-id="74b74-101">Authenticates an <see cref="T:System.IdentityModel.Tokens.X509SecurityToken" />.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="74b74-102">使用 <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator> 類別來驗證 <xref:System.IdentityModel.Tokens.X509SecurityToken> 安全性權杖。</span><span class="sxs-lookup"><span data-stu-id="74b74-102">Use the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator> class to authenticate <xref:System.IdentityModel.Tokens.X509SecurityToken> security tokens.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="74b74-103">初始化 <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> 類別的新執行個體。</span><span class="sxs-lookup"><span data-stu-id="74b74-103">Initializes a new instance of the <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> class.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public X509SecurityTokenAuthenticator ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; X509SecurityTokenAuthenticator();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="74b74-104">初始化 <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> 類別的新執行個體。</span><span class="sxs-lookup"><span data-stu-id="74b74-104">Initializes a new instance of the <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="74b74-105">當呼叫 <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> 方法來驗證權杖時，X.509 憑證無法對應 Windows 身分識別，且憑証會使用憑證鏈結進行驗證。</span><span class="sxs-lookup"><span data-stu-id="74b74-105">When the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method is called to authenticate the token, the X.509 certificate is not mapped to a Windows identity and the certificate is validated using a certificate chain.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public X509SecurityTokenAuthenticator (System.IdentityModel.Selectors.X509CertificateValidator validator);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(class System.IdentityModel.Selectors.X509CertificateValidator validator) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.#ctor(System.IdentityModel.Selectors.X509CertificateValidator)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (validator As X509CertificateValidator)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; X509SecurityTokenAuthenticator(System::IdentityModel::Selectors::X509CertificateValidator ^ validator);" />
      <MemberSignature Language="F#" Value="new System.IdentityModel.Selectors.X509SecurityTokenAuthenticator : System.IdentityModel.Selectors.X509CertificateValidator -&gt; System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" Usage="new System.IdentityModel.Selectors.X509SecurityTokenAuthenticator validator" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="validator" Type="System.IdentityModel.Selectors.X509CertificateValidator" />
      </Parameters>
      <Docs>
        <param name="validator"><span data-ttu-id="74b74-106">用來檢查憑證是否有效的 <see cref="T:System.IdentityModel.Selectors.X509CertificateValidator" />。</span><span class="sxs-lookup"><span data-stu-id="74b74-106">A <see cref="T:System.IdentityModel.Selectors.X509CertificateValidator" /> that verifies that the certificate is valid.</span></span></param>
        <summary><span data-ttu-id="74b74-107">使用指定的憑證驗證器，初始化 <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> 類別的新執行個體。</span><span class="sxs-lookup"><span data-stu-id="74b74-107">Initializes a new instance of the <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> class using the specified certificate validator.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="74b74-108"><xref:System.IdentityModel.Selectors.X509CertificateValidator> 類別提供了一組預先定義的憑證驗證模式，例如 <xref:System.IdentityModel.Selectors.X509CertificateValidator.ChainTrust%2A> 屬性。</span><span class="sxs-lookup"><span data-stu-id="74b74-108">The <xref:System.IdentityModel.Selectors.X509CertificateValidator> class provides a set of pre-defined certificate validation models, such as the <xref:System.IdentityModel.Selectors.X509CertificateValidator.ChainTrust%2A> property.</span></span> <span data-ttu-id="74b74-109">這些驗證模式可以傳遞至 `validator` 參數。</span><span class="sxs-lookup"><span data-stu-id="74b74-109">These validation models can be passed to the `validator` parameter.</span></span> <span data-ttu-id="74b74-110">當應用程式需要自訂的驗證方法時，請從 <xref:System.IdentityModel.Selectors.X509CertificateValidator> 衍生類別並覆寫 <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> 方法。</span><span class="sxs-lookup"><span data-stu-id="74b74-110">When an application requires a custom validation method, derive a class from <xref:System.IdentityModel.Selectors.X509CertificateValidator> and override the <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> method.</span></span> <span data-ttu-id="74b74-111"><xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> 方法會呼叫 <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="74b74-111">The <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> method is called by the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method.</span></span>  
  
 <span data-ttu-id="74b74-112">根據預設，<xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator> 不會將 X.509 憑證對應至 Windows 身分識別。</span><span class="sxs-lookup"><span data-stu-id="74b74-112">By default, the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator> does not map the X.509 certificate to a Windows identity.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public X509SecurityTokenAuthenticator (System.IdentityModel.Selectors.X509CertificateValidator validator, bool mapToWindows);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(class System.IdentityModel.Selectors.X509CertificateValidator validator, bool mapToWindows) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.#ctor(System.IdentityModel.Selectors.X509CertificateValidator,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (validator As X509CertificateValidator, mapToWindows As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; X509SecurityTokenAuthenticator(System::IdentityModel::Selectors::X509CertificateValidator ^ validator, bool mapToWindows);" />
      <MemberSignature Language="F#" Value="new System.IdentityModel.Selectors.X509SecurityTokenAuthenticator : System.IdentityModel.Selectors.X509CertificateValidator * bool -&gt; System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" Usage="new System.IdentityModel.Selectors.X509SecurityTokenAuthenticator (validator, mapToWindows)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="validator" Type="System.IdentityModel.Selectors.X509CertificateValidator" />
        <Parameter Name="mapToWindows" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="validator"><span data-ttu-id="74b74-113">用來檢查憑證是否有效的 <see cref="T:System.IdentityModel.Selectors.X509CertificateValidator" />。</span><span class="sxs-lookup"><span data-stu-id="74b74-113">A <see cref="T:System.IdentityModel.Selectors.X509CertificateValidator" /> that verifies that the certificate is valid.</span></span></param>
        <param name="mapToWindows"><span data-ttu-id="74b74-114">如果要將憑證的身分識別對應至 Windows 身分識別，則為 <see langword="true" />，否則為 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="74b74-114"><see langword="true" /> to map the identity of the certificate to a Windows identity; otherwise, <see langword="false" />.</span></span></param>
        <summary><span data-ttu-id="74b74-115">使用指定的憑證驗證方法，初始化 <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> 類別的新執行個體，並且指出憑證的身分識別是否對應至 Windows 身分識別。</span><span class="sxs-lookup"><span data-stu-id="74b74-115">Initializes a new instance of the <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> class using the specified certificate validation method and indicates whether the identity of the certificate is mapped to a Windows identity.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="74b74-116"><xref:System.IdentityModel.Selectors.X509CertificateValidator> 類別提供了一組預先定義的憑證驗證模式，例如 <xref:System.IdentityModel.Selectors.X509CertificateValidator.ChainTrust%2A> 屬性。</span><span class="sxs-lookup"><span data-stu-id="74b74-116">The <xref:System.IdentityModel.Selectors.X509CertificateValidator> class provides a set of pre-defined certificate validation models, such as the <xref:System.IdentityModel.Selectors.X509CertificateValidator.ChainTrust%2A> property.</span></span> <span data-ttu-id="74b74-117">這些驗證模式可以傳遞至 `validator` 參數。</span><span class="sxs-lookup"><span data-stu-id="74b74-117">These validation models can be passed to the `validator` parameter.</span></span> <span data-ttu-id="74b74-118">當應用程式需要自訂的驗證方法時，請從 <xref:System.IdentityModel.Selectors.X509CertificateValidator> 衍生類別並覆寫 <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> 方法。</span><span class="sxs-lookup"><span data-stu-id="74b74-118">When an application requires a custom validation method, derive a class from <xref:System.IdentityModel.Selectors.X509CertificateValidator> and override the <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> method.</span></span> <span data-ttu-id="74b74-119"><xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> 方法會呼叫 <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="74b74-119">The <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> method is called by the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method.</span></span>  
  
 <span data-ttu-id="74b74-120">當呼叫 <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> 方法來驗證權杖且 `mapToWindows` 為 `true` 時，X.509 憑證會對應至 Windows 帳戶，並且會新增宣告至使用者所屬之 Windows 群組的 <xref:System.IdentityModel.Policy.EvaluationContext>。</span><span class="sxs-lookup"><span data-stu-id="74b74-120">When the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method is called to authenticate the token and `mapToWindows` is `true`, the X.509 certificate is mapped to a Windows account and claims are added to the <xref:System.IdentityModel.Policy.EvaluationContext> with the Windows groups that the user belongs to.</span></span> <span data-ttu-id="74b74-121">X.509 憑證對應至 Windows 帳戶的方式需視安全性權杖型別而定：</span><span class="sxs-lookup"><span data-stu-id="74b74-121">How the X.509 certificate is mapped to a Windows account depends upon the security token type:</span></span>  
  
-   <span data-ttu-id="74b74-122">當安全性權杖的類型是 <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken> 時，會使用 <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken.WindowsIdentity%2A> 屬性來對應 X.509 憑證。</span><span class="sxs-lookup"><span data-stu-id="74b74-122">When the security token is of type <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken>, the X.509 certificate is mapped using the <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken.WindowsIdentity%2A> property.</span></span>  
  
-   <span data-ttu-id="74b74-123">當安全性權杖的類型是 `X509SecurityToken` 時，會使用其使用者主要名稱 (UPN) 將 X.509 憑證對應至 Windows 帳戶。</span><span class="sxs-lookup"><span data-stu-id="74b74-123">When the security token is of type `X509SecurityToken`, the X.509 certificate is mapped to a Windows account using its user principal name (UPN).</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public X509SecurityTokenAuthenticator (System.IdentityModel.Selectors.X509CertificateValidator validator, bool mapToWindows, bool includeWindowsGroups);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(class System.IdentityModel.Selectors.X509CertificateValidator validator, bool mapToWindows, bool includeWindowsGroups) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.#ctor(System.IdentityModel.Selectors.X509CertificateValidator,System.Boolean,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (validator As X509CertificateValidator, mapToWindows As Boolean, includeWindowsGroups As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; X509SecurityTokenAuthenticator(System::IdentityModel::Selectors::X509CertificateValidator ^ validator, bool mapToWindows, bool includeWindowsGroups);" />
      <MemberSignature Language="F#" Value="new System.IdentityModel.Selectors.X509SecurityTokenAuthenticator : System.IdentityModel.Selectors.X509CertificateValidator * bool * bool -&gt; System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" Usage="new System.IdentityModel.Selectors.X509SecurityTokenAuthenticator (validator, mapToWindows, includeWindowsGroups)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="validator" Type="System.IdentityModel.Selectors.X509CertificateValidator" />
        <Parameter Name="mapToWindows" Type="System.Boolean" />
        <Parameter Name="includeWindowsGroups" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="validator"><span data-ttu-id="74b74-124">用來檢查憑證是否有效的 <see cref="T:System.IdentityModel.Selectors.X509CertificateValidator" />。</span><span class="sxs-lookup"><span data-stu-id="74b74-124">A <see cref="T:System.IdentityModel.Selectors.X509CertificateValidator" /> that verifies that the certificate is valid.</span></span></param>
        <param name="mapToWindows"><span data-ttu-id="74b74-125">如果要將憑證的身分識別對應至 Windows 身分識別，則為 <see langword="true" />，否則為 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="74b74-125"><see langword="true" /> to map the identity of the certificate to a Windows identity; otherwise, <see langword="false" />.</span></span></param>
        <param name="includeWindowsGroups"><span data-ttu-id="74b74-126">如果要將 Windows 使用者所屬的群組包含在透過驗證程序建構的 <see langword="true" /> 屬性內，則為 <see cref="P:System.IdentityModel.Policy.AuthorizationContext.ClaimSets" />，否則為 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="74b74-126"><see langword="true" /> to include the groups the Windows user belongs to in the <see cref="P:System.IdentityModel.Policy.AuthorizationContext.ClaimSets" /> property that is constructed throughout the authentication process; otherwise, <see langword="false" />.</span></span></param>
        <summary><span data-ttu-id="74b74-127">使用指定的憑證驗證方法，初始化 <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> 類別的新執行個體，並且指出憑證的身分識別是否對應至 Windows 身分識別以及使用者所屬的 Windows 群組。</span><span class="sxs-lookup"><span data-stu-id="74b74-127">Initializes a new instance of the <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> class using the specified certificate validation method and indicates whether the identity of the certificate is mapped to a Windows identity and the Windows groups the user belongs to.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="74b74-128">當不需要 Windows 群組資訊來改善效能時，傳遞 `false` 至 `includeWindowsGroups` 參數。</span><span class="sxs-lookup"><span data-stu-id="74b74-128">Pass `false` to the `includeWindowsGroups` parameter when the Windows group information is not required to improve performance.</span></span>  
  
 <span data-ttu-id="74b74-129"><xref:System.IdentityModel.Selectors.X509CertificateValidator> 類別有多個靜態屬性，例如可以傳遞至 <xref:System.IdentityModel.Selectors.X509CertificateValidator.ChainTrust%2A> 參數的 `validator` 屬性。</span><span class="sxs-lookup"><span data-stu-id="74b74-129">The <xref:System.IdentityModel.Selectors.X509CertificateValidator> class has several static properties, such as the <xref:System.IdentityModel.Selectors.X509CertificateValidator.ChainTrust%2A> property that can be passed to the `validator` parameter.</span></span> <span data-ttu-id="74b74-130">這些屬性提供了常用的 X.509 憑證驗證方法。</span><span class="sxs-lookup"><span data-stu-id="74b74-130">These properties provide common validation methods for X.509 certificates.</span></span> <span data-ttu-id="74b74-131">當需要自訂的驗證方法時，請從 <xref:System.IdentityModel.Selectors.X509CertificateValidator> 衍生類別並覆寫 <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> 方法。</span><span class="sxs-lookup"><span data-stu-id="74b74-131">When a custom validation method is required, derive a class from <xref:System.IdentityModel.Selectors.X509CertificateValidator> and override the <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> method.</span></span> <span data-ttu-id="74b74-132"><xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> 方法會呼叫 <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="74b74-132">The <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> method is called by the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method.</span></span>  
  
 <span data-ttu-id="74b74-133">當傳遞 `true` 至 `mapToWindows` 參數時，X.509 憑證會對應至 Windows 帳戶而且相關宣告會新增至 <xref:System.IdentityModel.Policy.EvaluationContext>，例如使用者所屬的 Windows 群組。</span><span class="sxs-lookup"><span data-stu-id="74b74-133">When `true` is passed into the `mapToWindows` parameter, the X.509 certificate is mapped to a Windows account and relevant claims are added to the <xref:System.IdentityModel.Policy.EvaluationContext>, such as the Windows groups that the user belongs to.</span></span> <span data-ttu-id="74b74-134">當安全性權杖的型別是 <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken> 時，<xref:System.IdentityModel.Tokens.X509WindowsSecurityToken.WindowsIdentity%2A> 屬性會使用權杖所指定的身分識別；否則，會使用以 X.509 憑證之使用者主要名稱 SubjectAltNames 延伸為基礎的 Kerberos S4U 登入將 X.509 憑證對應至 Windows 身分識別。</span><span class="sxs-lookup"><span data-stu-id="74b74-134">When the security token is of type <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken>, the <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken.WindowsIdentity%2A> property is using the identity that is specified in the token; otherwise, the X.509 certificate is mapped to a Windows identity using a Kerberos S4U logon based on the user principal name SubjectAltNames extension of the X.509 certificate.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CanValidateTokenCore">
      <MemberSignature Language="C#" Value="protected override bool CanValidateTokenCore (System.IdentityModel.Tokens.SecurityToken token);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance bool CanValidateTokenCore(class System.IdentityModel.Tokens.SecurityToken token) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.CanValidateTokenCore(System.IdentityModel.Tokens.SecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Function CanValidateTokenCore (token As SecurityToken) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override bool CanValidateTokenCore(System::IdentityModel::Tokens::SecurityToken ^ token);" />
      <MemberSignature Language="F#" Value="override this.CanValidateTokenCore : System.IdentityModel.Tokens.SecurityToken -&gt; bool" Usage="x509SecurityTokenAuthenticator.CanValidateTokenCore token" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="token" Type="System.IdentityModel.Tokens.SecurityToken" />
      </Parameters>
      <Docs>
        <param name="token"><span data-ttu-id="74b74-135">要驗證的 <see cref="T:System.IdentityModel.Tokens.SecurityToken" />。</span><span class="sxs-lookup"><span data-stu-id="74b74-135">The <see cref="T:System.IdentityModel.Tokens.SecurityToken" /> to be validated.</span></span></param>
        <summary><span data-ttu-id="74b74-136">取得值，這個值會指出指定的安全性權杖是否可由這個安全性權杖驗證程式進行驗證。</span><span class="sxs-lookup"><span data-stu-id="74b74-136">Gets a value that indicates whether the specified security token can be validated by this security token authenticator.</span></span></summary>
        <returns><span data-ttu-id="74b74-137">當 <see langword="true" /> 為 <paramref name="token" /> 安全性權杖或 <see cref="T:System.IdentityModel.Tokens.X509SecurityToken" /> 衍生類別時，則為 <see cref="T:System.IdentityModel.Tokens.X509SecurityToken" />，否則為 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="74b74-137"><see langword="true" /> when <paramref name="token" /> is a <see cref="T:System.IdentityModel.Tokens.X509SecurityToken" /> security token or a class that derives from <see cref="T:System.IdentityModel.Tokens.X509SecurityToken" />; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="74b74-138"><xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.CanValidateTokenCore%2A> 方法不會驗證安全性權杖；而是由 <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> 方法執行。</span><span class="sxs-lookup"><span data-stu-id="74b74-138">The <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.CanValidateTokenCore%2A> method does not authenticate the security token; that is performed by the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="MapCertificateToWindowsAccount">
      <MemberSignature Language="C#" Value="public bool MapCertificateToWindowsAccount { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool MapCertificateToWindowsAccount" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.MapCertificateToWindowsAccount" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property MapCertificateToWindowsAccount As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool MapCertificateToWindowsAccount { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.MapCertificateToWindowsAccount : bool" Usage="System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.MapCertificateToWindowsAccount" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="74b74-139">取得值，這個值會指出是否將 X.509 憑證對應至 Windows 帳戶。</span><span class="sxs-lookup"><span data-stu-id="74b74-139">Gets a value that indicates whether to map the X.509 certificate to a Windows account.</span></span></summary>
        <value><span data-ttu-id="74b74-140">如果要將 X.509 憑證對應至 Windows 帳戶則為 <see langword="true" />，否則為 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="74b74-140"><see langword="true" /> to map the X.509 certificate to a Windows account; otherwise, <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="74b74-141"><xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.MapCertificateToWindowsAccount%2A> 屬性只能在建構函式 (Constructor) 中設定。</span><span class="sxs-lookup"><span data-stu-id="74b74-141">The <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.MapCertificateToWindowsAccount%2A> property can only be set in a constructor.</span></span>  
  
 <span data-ttu-id="74b74-142">如果使用傳輸層級的 SSL 或 HTTPS 安全性，而且已經由基礎安全性通道或網際網路資訊服務 (IIS) 提供對應，則會套用該對應，而且不會執行鏈結驗證。</span><span class="sxs-lookup"><span data-stu-id="74b74-142">If transport-level SSL or HTTPS security is being used and mapping is already provided by the underlying security channel or by Internet Information Services (IIS), then that mapping is applied with no chain-validation.</span></span> <span data-ttu-id="74b74-143">否則，在執行對應之前，會使用憑證鏈結對憑證進行驗證，而且該憑證也必須鏈結至 NT_AUTHORITY 身分識別。</span><span class="sxs-lookup"><span data-stu-id="74b74-143">Otherwise, prior to doing the mapping, the certificate is validated using a certificate chain, and the certificate must chain to an NT_AUTHORITY identity.</span></span> <span data-ttu-id="74b74-144">使用的鏈結結構會對應至 CERT_CHAIN_POLICY_NT_AUTH，如中所定義`CertVerifyCertificateChainPolicy`函式 (請參閱 < [CertVerifyCertificateChainPolicy](https://go.microsoft.com/fwlink/?LinkId=83570)密碼編譯 SDK 中的函式)。</span><span class="sxs-lookup"><span data-stu-id="74b74-144">The chain structure used corresponds to the CERT_CHAIN_POLICY_NT_AUTH as defined in the `CertVerifyCertificateChainPolicy` function (see the [CertVerifyCertificateChainPolicy](https://go.microsoft.com/fwlink/?LinkId=83570) function in the Cryptography SDK).</span></span> <span data-ttu-id="74b74-145">這個行為只會在對應憑證至 Windows 帳戶時發生。</span><span class="sxs-lookup"><span data-stu-id="74b74-145">This behavior only occurs when mapping a certificate to a Windows account.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ValidateTokenCore">
      <MemberSignature Language="C#" Value="protected override System.Collections.ObjectModel.ReadOnlyCollection&lt;System.IdentityModel.Policy.IAuthorizationPolicy&gt; ValidateTokenCore (System.IdentityModel.Tokens.SecurityToken token);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance class System.Collections.ObjectModel.ReadOnlyCollection`1&lt;class System.IdentityModel.Policy.IAuthorizationPolicy&gt; ValidateTokenCore(class System.IdentityModel.Tokens.SecurityToken token) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore(System.IdentityModel.Tokens.SecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Function ValidateTokenCore (token As SecurityToken) As ReadOnlyCollection(Of IAuthorizationPolicy)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override System::Collections::ObjectModel::ReadOnlyCollection&lt;System::IdentityModel::Policy::IAuthorizationPolicy ^&gt; ^ ValidateTokenCore(System::IdentityModel::Tokens::SecurityToken ^ token);" />
      <MemberSignature Language="F#" Value="override this.ValidateTokenCore : System.IdentityModel.Tokens.SecurityToken -&gt; System.Collections.ObjectModel.ReadOnlyCollection&lt;System.IdentityModel.Policy.IAuthorizationPolicy&gt;" Usage="x509SecurityTokenAuthenticator.ValidateTokenCore token" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.ObjectModel.ReadOnlyCollection&lt;System.IdentityModel.Policy.IAuthorizationPolicy&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="token" Type="System.IdentityModel.Tokens.SecurityToken" />
      </Parameters>
      <Docs>
        <param name="token"><span data-ttu-id="74b74-146">要驗證的 <see cref="T:System.IdentityModel.Tokens.SecurityToken" />。</span><span class="sxs-lookup"><span data-stu-id="74b74-146">The <see cref="T:System.IdentityModel.Tokens.SecurityToken" /> to be validated.</span></span></param>
        <summary><span data-ttu-id="74b74-147">驗證指定的安全性權杖，並傳回安全性權杖的授權原則集合。</span><span class="sxs-lookup"><span data-stu-id="74b74-147">Authenticates the specified security token and returns the set of authorization policies for the security token.</span></span></summary>
        <returns><span data-ttu-id="74b74-148">型別為 <see cref="T:System.Collections.ObjectModel.ReadOnlyCollection`1" /> 的 <see cref="T:System.IdentityModel.Policy.IAuthorizationPolicy" />，其中包含對這個應用程式有效用的授權原則集合。</span><span class="sxs-lookup"><span data-stu-id="74b74-148">A <see cref="T:System.Collections.ObjectModel.ReadOnlyCollection`1" /> of type <see cref="T:System.IdentityModel.Policy.IAuthorizationPolicy" /> that contains the set of authorization policies in effect for this application.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="74b74-149">覆寫 <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> 方法時，請遵循下列方針：</span><span class="sxs-lookup"><span data-stu-id="74b74-149">When the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method is overridden, follow these guidelines:</span></span>  
  
-   <span data-ttu-id="74b74-150">當傳遞至 `token` 參數中的安全性權杖無法通過驗證時，就擲回 <xref:System.IdentityModel.Tokens.SecurityTokenValidationException> 例外狀況。</span><span class="sxs-lookup"><span data-stu-id="74b74-150">When the security token passed into the `token` parameter cannot be validated, throw the <xref:System.IdentityModel.Tokens.SecurityTokenValidationException> exception.</span></span>  
  
-   <span data-ttu-id="74b74-151">如果沒有任何對這個應用程式有效用的授權原則時，就傳回型別為 <xref:System.Collections.ObjectModel.ReadOnlyCollection%601> 的空 <xref:System.IdentityModel.Policy.IAuthorizationPolicy>。</span><span class="sxs-lookup"><span data-stu-id="74b74-151">When there are no authorization policies in effect for this application, return an empty <xref:System.Collections.ObjectModel.ReadOnlyCollection%601> of type <xref:System.IdentityModel.Policy.IAuthorizationPolicy>.</span></span>  
  
 <span data-ttu-id="74b74-152">當這個方法傳回`null`，Windows Communication Foundation 就會擲回<xref:System.IdentityModel.Tokens.SecurityTokenValidationException>例外狀況。</span><span class="sxs-lookup"><span data-stu-id="74b74-152">When this method returns `null`, Windows Communication Foundation throws a <xref:System.IdentityModel.Tokens.SecurityTokenValidationException> exception.</span></span>  
  
 <span data-ttu-id="74b74-153"><xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> 方法會呼叫建構函式所指定之驗證方法的 <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> 方法，以驗證 `token` 參數。</span><span class="sxs-lookup"><span data-stu-id="74b74-153">The <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method calls the <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> method of the validation method specified in the constructor to authenticate the `token` parameter.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>