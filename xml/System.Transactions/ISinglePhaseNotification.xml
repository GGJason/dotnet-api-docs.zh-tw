<Type Name="ISinglePhaseNotification" FullName="System.Transactions.ISinglePhaseNotification">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="992693730e7baca8ab6be5a98a7dc7a31e117e08" />
    <Meta Name="ms.sourcegitcommit" Value="f9e3295b6cc303a611a73a84c4b27f9da792ad0d" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="zh-TW" />
    <Meta Name="ms.lasthandoff" Value="04/26/2018" />
  </Metadata>
  <TypeSignature Language="C#" Value="public interface ISinglePhaseNotification : System.Transactions.IEnlistmentNotification" />
  <TypeSignature Language="ILAsm" Value=".class public interface auto ansi abstract ISinglePhaseNotification implements class System.Transactions.IEnlistmentNotification" />
  <TypeSignature Language="DocId" Value="T:System.Transactions.ISinglePhaseNotification" />
  <TypeSignature Language="VB.NET" Value="Public Interface ISinglePhaseNotification&#xA;Implements IEnlistmentNotification" />
  <TypeSignature Language="C++ CLI" Value="public interface class ISinglePhaseNotification : System::Transactions::IEnlistmentNotification" />
  <AssemblyInfo>
    <AssemblyName>System.Transactions</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Transactions.Local</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.1.0</AssemblyVersion>
  </AssemblyInfo>
  <Interfaces>
    <Interface>
      <InterfaceName>System.Transactions.IEnlistmentNotification</InterfaceName>
    </Interface>
  </Interfaces>
  <Docs>
    <summary>
      <span data-ttu-id="e3112-101">描述一個資源物件，其支援參與交易的單一階段交易認可最佳化。</span>
      <span class="sxs-lookup">
        <span data-stu-id="e3112-101">Describes a resource object that supports single phase commit optimization to participate in a transaction.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e3112-102">您應該注意，即使您的資源管理員會實作這個介面以支援單一階段認可最佳化，也不保證它收到單一階段交易認可。</span><span class="sxs-lookup"><span data-stu-id="e3112-102">You should note that even when your resource manager implements this interface to support single phase commit optimization, it is not guaranteed that it receives a single phase commit.</span></span> <span data-ttu-id="e3112-103">交易管理員仍可以改為傳送兩階段認可通知。</span><span class="sxs-lookup"><span data-stu-id="e3112-103">The transaction manager can still send two phase commit notifications instead.</span></span>  
  
 <span data-ttu-id="e3112-104">若要登錄您的資源管理員 」 在異動中的參與者，呼叫<xref:System.Transactions.Transaction.EnlistVolatile%2A>方法或<xref:System.Transactions.Transaction.EnlistDurable%2A>方法<xref:System.Transactions.Transaction>類別。</span><span class="sxs-lookup"><span data-stu-id="e3112-104">To enlist your resource manager as a participant in a transaction, call the <xref:System.Transactions.Transaction.EnlistVolatile%2A> method or the <xref:System.Transactions.Transaction.EnlistDurable%2A> method of the <xref:System.Transactions.Transaction> class.</span></span> <span data-ttu-id="e3112-105">具體來說，`EnlistmentOptions`參數應該等於<xref:System.Transactions.EnlistmentOptions.None>以確保單一階段認可都會執行。</span><span class="sxs-lookup"><span data-stu-id="e3112-105">Specifically, the `EnlistmentOptions` parameter should equal to <xref:System.Transactions.EnlistmentOptions.None> to ensure that a single phase commit is performed.</span></span> <span data-ttu-id="e3112-106">如果不小心設定為<xref:System.Transactions.EnlistmentOptions.EnlistDuringPrepareRequired>、 沒有單一的階段，便會發生認可。</span><span class="sxs-lookup"><span data-stu-id="e3112-106">If it is mistakenly set to <xref:System.Transactions.EnlistmentOptions.EnlistDuringPrepareRequired>, no single phase commit occurs.</span></span>  
  
 <span data-ttu-id="e3112-107">因為<xref:System.Transactions.ISinglePhaseNotification>介面衍生自<xref:System.Transactions.IEnlistmentNotification>介面，資源管理員也必須實作後者的所有方法的兩階段認可通知。</span><span class="sxs-lookup"><span data-stu-id="e3112-107">Since the <xref:System.Transactions.ISinglePhaseNotification> interface derives from the <xref:System.Transactions.IEnlistmentNotification> interface, the resource manager must also implement all the methods of the latter for two phase commit notifications.</span></span>  <span data-ttu-id="e3112-108">它是由交易管理員來選擇要以兩階段認可或單一階段認可最佳化會搭配這個資源管理員。</span><span class="sxs-lookup"><span data-stu-id="e3112-108">It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.</span></span>  <span data-ttu-id="e3112-109">不過，實作這個介面可讓資源管理員利用最佳化的可用時。</span><span class="sxs-lookup"><span data-stu-id="e3112-109">However, implementing this interface gives the resource manager the opportunity to take advantage of the optimization when it is available.</span></span>  
  
 <span data-ttu-id="e3112-110">如果使用最佳化，交易管理員呼叫<xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A>方法的已登錄的資源，資源管理員應該回應這個呼叫所使用的各種方法<xref:System.Transactions.SinglePhaseEnlistment>通知之交易管理員，如果類別交易已認可或回復。</span><span class="sxs-lookup"><span data-stu-id="e3112-110">If the optimization is used and the transaction manager calls the <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> method of the enlisted resource, the resource manager should respond to this call by using various methods of the <xref:System.Transactions.SinglePhaseEnlistment> class to inform the transaction manager if the transaction is to be committed or rolled back.</span></span>  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Transactions.IEnlistmentNotification" />
  </Docs>
  <Members>
    <Member MemberName="SinglePhaseCommit">
      <MemberSignature Language="C#" Value="public void SinglePhaseCommit (System.Transactions.SinglePhaseEnlistment singlePhaseEnlistment);" FrameworkAlternate="netcore-2.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netstandard-2.0;netcore-2.1;netframework-4.7.2" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SinglePhaseCommit(class System.Transactions.SinglePhaseEnlistment singlePhaseEnlistment) cil managed" FrameworkAlternate="netcore-2.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netstandard-2.0;netcore-2.1;netframework-4.7.2" />
      <MemberSignature Language="DocId" Value="M:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit(System.Transactions.SinglePhaseEnlistment)" FrameworkAlternate="netcore-2.0;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void SinglePhaseCommit(System::Transactions::SinglePhaseEnlistment ^ singlePhaseEnlistment);" FrameworkAlternate="netcore-2.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netstandard-2.0;netcore-2.1;netframework-4.7.2" />
      <MemberSignature Language="C#" Value="public void SinglePhaseCommit (System.Transactions.SinglePhaseEnlistment enlistment);" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SinglePhaseCommit(class System.Transactions.SinglePhaseEnlistment enlistment) cil managed" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="DocId" Value="M:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit(System.Transactions.SinglePhaseEnlistment)" FrameworkAlternate="netframework-4.7;netcore-2.1;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7.1;netstandard-2.0" />
      <MemberSignature Language="VB.NET" Value="Public Sub SinglePhaseCommit (enlistment As SinglePhaseEnlistment)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void SinglePhaseCommit(System::Transactions::SinglePhaseEnlistment ^ enlistment);" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Transactions</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Transactions.Local</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="singlePhaseEnlistment" Type="System.Transactions.SinglePhaseEnlistment" Index="0" FrameworkAlternate="netcore-2.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netstandard-2.0;netcore-2.1;netframework-4.7.2" />
        <Parameter Name="enlistment" Type="System.Transactions.SinglePhaseEnlistment" Index="0" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="singlePhaseEnlistment">To be added.</param>
        <param name="enlistment">To be added.</param>
        <summary>
          <span data-ttu-id="e3112-111">表示資源管理員之單一階段交易認可最佳化的回呼實作。</span>
          <span class="sxs-lookup">
            <span data-stu-id="e3112-111">Represents the resource manager's implementation of the callback for the single phase commit optimization.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="e3112-112">它是由交易管理員來選擇要以兩階段認可或單一階段認可最佳化會搭配這個資源管理員。</span><span class="sxs-lookup"><span data-stu-id="e3112-112">It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.</span></span>  <span data-ttu-id="e3112-113">如需有關單一階段和兩階段認可的詳細資訊，請參閱[認可交易中單一階段和多階段](http://msdn.microsoft.com/library/74b3cfe1-d33a-45b8-91f4-dfd6f6598c4d)。</span><span class="sxs-lookup"><span data-stu-id="e3112-113">For more information on single phase and two phase commit, see [Committing A Transaction In Single-Phase and Multi-Phase](http://msdn.microsoft.com/library/74b3cfe1-d33a-45b8-91f4-dfd6f6598c4d).</span></span>  
  
 <span data-ttu-id="e3112-114">因此，請在資源管理員 中，此登錄任一<xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A>呼叫方法時，或兩階段認可方法定義中您所傳送<xref:System.Transactions.IEnlistmentNotification>稱為介面。</span><span class="sxs-lookup"><span data-stu-id="e3112-114">Therefore, on this enlistment of the resource manager, either the <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> method is called, or the two phase commit methods defined in ther <xref:System.Transactions.IEnlistmentNotification> interface are called.</span></span>  
  
 <span data-ttu-id="e3112-115">這個方法的實作應該呼叫<xref:System.Transactions.SinglePhaseEnlistment.Committed%2A>方法或<xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A>方法`singlePhaseEnlistment`參數，以指示是否應該認可或回復交易。</span><span class="sxs-lookup"><span data-stu-id="e3112-115">Your implementation of this method should call either the <xref:System.Transactions.SinglePhaseEnlistment.Committed%2A> method or the <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A> method of the `singlePhaseEnlistment` parameter to indicate whether the transaction should be committed or rolled back.</span></span>  
  
 <span data-ttu-id="e3112-116">當只有一個支援單一階段認可的變動登記，或是有零或更 volatile 登記而且一個永久性登記時，交易管理員會呼叫這個方法。</span><span class="sxs-lookup"><span data-stu-id="e3112-116">The transaction manager calls this method when there is only one volatile enlistment that supports single phase commit, or when there are zero or more volatile enlistments and one durable enlistment.</span></span> <span data-ttu-id="e3112-117">在後者的情況下，接收 volatile 登記<xref:System.Transactions.IEnlistmentNotification.Prepare%2A>two-階段認可，以及唯一的永久性登記通知收到單一階段認可通知。</span><span class="sxs-lookup"><span data-stu-id="e3112-117">In the latter case, the volatile enlistments receive <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> notifications for two-phase-commit, and the sole durable enlistment receives a single-phase commit notification.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>